(()=>{var t={3709:(t,e,r)=>{"use strict";const i=r(26),n=r(4627),o=r(9299),s=r(4054),a={hrtime:r(8134).default(n.default),exit:t=>{throw new s.WASIExitError(t)},kill:t=>{throw new s.WASIKillError(t)},randomFillSync:i.randomFillSync,isTTY:()=>!0,path:o,fs:null};e.Z=a},3751:(t,e,r)=>{"use strict";const i=r(6417),n=r(5747),{isatty:o}=r(3867),s=r(5622);let a=r(8134).default(process.hrtime);process.hrtime&&process.hrtime.bigint&&(a=process.hrtime.bigint);const c={hrtime:a,exit:t=>{process.exit(t)},kill:t=>{process.kill(process.pid,t)},randomFillSync:i.randomFillSync,isTTY:o,fs:n,path:s};e.Z=c},7118:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(1624);e.WASI_ESUCCESS=0,e.WASI_E2BIG=1,e.WASI_EACCES=2,e.WASI_EADDRINUSE=3,e.WASI_EADDRNOTAVAIL=4,e.WASI_EAFNOSUPPORT=5,e.WASI_EAGAIN=6,e.WASI_EALREADY=7,e.WASI_EBADF=8,e.WASI_EBADMSG=9,e.WASI_EBUSY=10,e.WASI_ECANCELED=11,e.WASI_ECHILD=12,e.WASI_ECONNABORTED=13,e.WASI_ECONNREFUSED=14,e.WASI_ECONNRESET=15,e.WASI_EDEADLK=16,e.WASI_EDESTADDRREQ=17,e.WASI_EDOM=18,e.WASI_EDQUOT=19,e.WASI_EEXIST=20,e.WASI_EFAULT=21,e.WASI_EFBIG=22,e.WASI_EHOSTUNREACH=23,e.WASI_EIDRM=24,e.WASI_EILSEQ=25,e.WASI_EINPROGRESS=26,e.WASI_EINTR=27,e.WASI_EINVAL=28,e.WASI_EIO=29,e.WASI_EISCONN=30,e.WASI_EISDIR=31,e.WASI_ELOOP=32,e.WASI_EMFILE=33,e.WASI_EMLINK=34,e.WASI_EMSGSIZE=35,e.WASI_EMULTIHOP=36,e.WASI_ENAMETOOLONG=37,e.WASI_ENETDOWN=38,e.WASI_ENETRESET=39,e.WASI_ENETUNREACH=40,e.WASI_ENFILE=41,e.WASI_ENOBUFS=42,e.WASI_ENODEV=43,e.WASI_ENOENT=44,e.WASI_ENOEXEC=45,e.WASI_ENOLCK=46,e.WASI_ENOLINK=47,e.WASI_ENOMEM=48,e.WASI_ENOMSG=49,e.WASI_ENOPROTOOPT=50,e.WASI_ENOSPC=51,e.WASI_ENOSYS=52,e.WASI_ENOTCONN=53,e.WASI_ENOTDIR=54,e.WASI_ENOTEMPTY=55,e.WASI_ENOTRECOVERABLE=56,e.WASI_ENOTSOCK=57,e.WASI_ENOTSUP=58,e.WASI_ENOTTY=59,e.WASI_ENXIO=60,e.WASI_EOVERFLOW=61,e.WASI_EOWNERDEAD=62,e.WASI_EPERM=63,e.WASI_EPIPE=64,e.WASI_EPROTO=65,e.WASI_EPROTONOSUPPORT=66,e.WASI_EPROTOTYPE=67,e.WASI_ERANGE=68,e.WASI_EROFS=69,e.WASI_ESPIPE=70,e.WASI_ESRCH=71,e.WASI_ESTALE=72,e.WASI_ETIMEDOUT=73,e.WASI_ETXTBSY=74,e.WASI_EXDEV=75,e.WASI_ENOTCAPABLE=76,e.WASI_SIGABRT=0,e.WASI_SIGALRM=1,e.WASI_SIGBUS=2,e.WASI_SIGCHLD=3,e.WASI_SIGCONT=4,e.WASI_SIGFPE=5,e.WASI_SIGHUP=6,e.WASI_SIGILL=7,e.WASI_SIGINT=8,e.WASI_SIGKILL=9,e.WASI_SIGPIPE=10,e.WASI_SIGQUIT=11,e.WASI_SIGSEGV=12,e.WASI_SIGSTOP=13,e.WASI_SIGTERM=14,e.WASI_SIGTRAP=15,e.WASI_SIGTSTP=16,e.WASI_SIGTTIN=17,e.WASI_SIGTTOU=18,e.WASI_SIGURG=19,e.WASI_SIGUSR1=20,e.WASI_SIGUSR2=21,e.WASI_SIGVTALRM=22,e.WASI_SIGXCPU=23,e.WASI_SIGXFSZ=24,e.WASI_FILETYPE_UNKNOWN=0,e.WASI_FILETYPE_BLOCK_DEVICE=1,e.WASI_FILETYPE_CHARACTER_DEVICE=2,e.WASI_FILETYPE_DIRECTORY=3,e.WASI_FILETYPE_REGULAR_FILE=4,e.WASI_FILETYPE_SOCKET_DGRAM=5,e.WASI_FILETYPE_SOCKET_STREAM=6,e.WASI_FILETYPE_SYMBOLIC_LINK=7,e.WASI_FDFLAG_APPEND=1,e.WASI_FDFLAG_DSYNC=2,e.WASI_FDFLAG_NONBLOCK=4,e.WASI_FDFLAG_RSYNC=8,e.WASI_FDFLAG_SYNC=16,e.WASI_RIGHT_FD_DATASYNC=i.BigIntPolyfill(1),e.WASI_RIGHT_FD_READ=i.BigIntPolyfill(2),e.WASI_RIGHT_FD_SEEK=i.BigIntPolyfill(4),e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS=i.BigIntPolyfill(8),e.WASI_RIGHT_FD_SYNC=i.BigIntPolyfill(16),e.WASI_RIGHT_FD_TELL=i.BigIntPolyfill(32),e.WASI_RIGHT_FD_WRITE=i.BigIntPolyfill(64),e.WASI_RIGHT_FD_ADVISE=i.BigIntPolyfill(128),e.WASI_RIGHT_FD_ALLOCATE=i.BigIntPolyfill(256),e.WASI_RIGHT_PATH_CREATE_DIRECTORY=i.BigIntPolyfill(512),e.WASI_RIGHT_PATH_CREATE_FILE=i.BigIntPolyfill(1024),e.WASI_RIGHT_PATH_LINK_SOURCE=i.BigIntPolyfill(2048),e.WASI_RIGHT_PATH_LINK_TARGET=i.BigIntPolyfill(4096),e.WASI_RIGHT_PATH_OPEN=i.BigIntPolyfill(8192),e.WASI_RIGHT_FD_READDIR=i.BigIntPolyfill(16384),e.WASI_RIGHT_PATH_READLINK=i.BigIntPolyfill(32768),e.WASI_RIGHT_PATH_RENAME_SOURCE=i.BigIntPolyfill(65536),e.WASI_RIGHT_PATH_RENAME_TARGET=i.BigIntPolyfill(131072),e.WASI_RIGHT_PATH_FILESTAT_GET=i.BigIntPolyfill(262144),e.WASI_RIGHT_PATH_FILESTAT_SET_SIZE=i.BigIntPolyfill(524288),e.WASI_RIGHT_PATH_FILESTAT_SET_TIMES=i.BigIntPolyfill(1048576),e.WASI_RIGHT_FD_FILESTAT_GET=i.BigIntPolyfill(2097152),e.WASI_RIGHT_FD_FILESTAT_SET_SIZE=i.BigIntPolyfill(4194304),e.WASI_RIGHT_FD_FILESTAT_SET_TIMES=i.BigIntPolyfill(8388608),e.WASI_RIGHT_PATH_SYMLINK=i.BigIntPolyfill(16777216),e.WASI_RIGHT_PATH_REMOVE_DIRECTORY=i.BigIntPolyfill(33554432),e.WASI_RIGHT_PATH_UNLINK_FILE=i.BigIntPolyfill(67108864),e.WASI_RIGHT_POLL_FD_READWRITE=i.BigIntPolyfill(134217728),e.WASI_RIGHT_SOCK_SHUTDOWN=i.BigIntPolyfill(268435456),e.RIGHTS_ALL=e.WASI_RIGHT_FD_DATASYNC|e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_SEEK|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_SYNC|e.WASI_RIGHT_FD_TELL|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_ADVISE|e.WASI_RIGHT_FD_ALLOCATE|e.WASI_RIGHT_PATH_CREATE_DIRECTORY|e.WASI_RIGHT_PATH_CREATE_FILE|e.WASI_RIGHT_PATH_LINK_SOURCE|e.WASI_RIGHT_PATH_LINK_TARGET|e.WASI_RIGHT_PATH_OPEN|e.WASI_RIGHT_FD_READDIR|e.WASI_RIGHT_PATH_READLINK|e.WASI_RIGHT_PATH_RENAME_SOURCE|e.WASI_RIGHT_PATH_RENAME_TARGET|e.WASI_RIGHT_PATH_FILESTAT_GET|e.WASI_RIGHT_PATH_FILESTAT_SET_SIZE|e.WASI_RIGHT_PATH_FILESTAT_SET_TIMES|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_FD_FILESTAT_SET_TIMES|e.WASI_RIGHT_FD_FILESTAT_SET_SIZE|e.WASI_RIGHT_PATH_SYMLINK|e.WASI_RIGHT_PATH_UNLINK_FILE|e.WASI_RIGHT_PATH_REMOVE_DIRECTORY|e.WASI_RIGHT_POLL_FD_READWRITE|e.WASI_RIGHT_SOCK_SHUTDOWN,e.RIGHTS_BLOCK_DEVICE_BASE=e.RIGHTS_ALL,e.RIGHTS_BLOCK_DEVICE_INHERITING=e.RIGHTS_ALL,e.RIGHTS_CHARACTER_DEVICE_BASE=e.RIGHTS_ALL,e.RIGHTS_CHARACTER_DEVICE_INHERITING=e.RIGHTS_ALL,e.RIGHTS_REGULAR_FILE_BASE=e.WASI_RIGHT_FD_DATASYNC|e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_SEEK|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_SYNC|e.WASI_RIGHT_FD_TELL|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_ADVISE|e.WASI_RIGHT_FD_ALLOCATE|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_FD_FILESTAT_SET_SIZE|e.WASI_RIGHT_FD_FILESTAT_SET_TIMES|e.WASI_RIGHT_POLL_FD_READWRITE,e.RIGHTS_REGULAR_FILE_INHERITING=i.BigIntPolyfill(0),e.RIGHTS_DIRECTORY_BASE=e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_SYNC|e.WASI_RIGHT_FD_ADVISE|e.WASI_RIGHT_PATH_CREATE_DIRECTORY|e.WASI_RIGHT_PATH_CREATE_FILE|e.WASI_RIGHT_PATH_LINK_SOURCE|e.WASI_RIGHT_PATH_LINK_TARGET|e.WASI_RIGHT_PATH_OPEN|e.WASI_RIGHT_FD_READDIR|e.WASI_RIGHT_PATH_READLINK|e.WASI_RIGHT_PATH_RENAME_SOURCE|e.WASI_RIGHT_PATH_RENAME_TARGET|e.WASI_RIGHT_PATH_FILESTAT_GET|e.WASI_RIGHT_PATH_FILESTAT_SET_SIZE|e.WASI_RIGHT_PATH_FILESTAT_SET_TIMES|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_FD_FILESTAT_SET_TIMES|e.WASI_RIGHT_PATH_SYMLINK|e.WASI_RIGHT_PATH_UNLINK_FILE|e.WASI_RIGHT_PATH_REMOVE_DIRECTORY|e.WASI_RIGHT_POLL_FD_READWRITE,e.RIGHTS_DIRECTORY_INHERITING=e.RIGHTS_DIRECTORY_BASE|e.RIGHTS_REGULAR_FILE_BASE,e.RIGHTS_SOCKET_BASE=e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_POLL_FD_READWRITE|e.WASI_RIGHT_SOCK_SHUTDOWN,e.RIGHTS_SOCKET_INHERITING=e.RIGHTS_ALL,e.RIGHTS_TTY_BASE=e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_POLL_FD_READWRITE,e.RIGHTS_TTY_INHERITING=i.BigIntPolyfill(0),e.WASI_CLOCK_REALTIME=0,e.WASI_CLOCK_MONOTONIC=1,e.WASI_CLOCK_PROCESS_CPUTIME_ID=2,e.WASI_CLOCK_THREAD_CPUTIME_ID=3,e.WASI_EVENTTYPE_CLOCK=0,e.WASI_EVENTTYPE_FD_READ=1,e.WASI_EVENTTYPE_FD_WRITE=2,e.WASI_FILESTAT_SET_ATIM=1,e.WASI_FILESTAT_SET_ATIM_NOW=2,e.WASI_FILESTAT_SET_MTIM=4,e.WASI_FILESTAT_SET_MTIM_NOW=8,e.WASI_O_CREAT=1,e.WASI_O_DIRECTORY=2,e.WASI_O_EXCL=4,e.WASI_O_TRUNC=8,e.WASI_PREOPENTYPE_DIR=0,e.WASI_DIRCOOKIE_START=0,e.WASI_STDIN_FILENO=0,e.WASI_STDOUT_FILENO=1,e.WASI_STDERR_FILENO=2,e.WASI_WHENCE_SET=0,e.WASI_WHENCE_CUR=1,e.WASI_WHENCE_END=2,e.ERROR_MAP={E2BIG:e.WASI_E2BIG,EACCES:e.WASI_EACCES,EADDRINUSE:e.WASI_EADDRINUSE,EADDRNOTAVAIL:e.WASI_EADDRNOTAVAIL,EAFNOSUPPORT:e.WASI_EAFNOSUPPORT,EALREADY:e.WASI_EALREADY,EAGAIN:e.WASI_EAGAIN,EBADF:e.WASI_EBADF,EBADMSG:e.WASI_EBADMSG,EBUSY:e.WASI_EBUSY,ECANCELED:e.WASI_ECANCELED,ECHILD:e.WASI_ECHILD,ECONNABORTED:e.WASI_ECONNABORTED,ECONNREFUSED:e.WASI_ECONNREFUSED,ECONNRESET:e.WASI_ECONNRESET,EDEADLOCK:e.WASI_EDEADLK,EDESTADDRREQ:e.WASI_EDESTADDRREQ,EDOM:e.WASI_EDOM,EDQUOT:e.WASI_EDQUOT,EEXIST:e.WASI_EEXIST,EFAULT:e.WASI_EFAULT,EFBIG:e.WASI_EFBIG,EHOSTDOWN:e.WASI_EHOSTUNREACH,EHOSTUNREACH:e.WASI_EHOSTUNREACH,EIDRM:e.WASI_EIDRM,EILSEQ:e.WASI_EILSEQ,EINPROGRESS:e.WASI_EINPROGRESS,EINTR:e.WASI_EINTR,EINVAL:e.WASI_EINVAL,EIO:e.WASI_EIO,EISCONN:e.WASI_EISCONN,EISDIR:e.WASI_EISDIR,ELOOP:e.WASI_ELOOP,EMFILE:e.WASI_EMFILE,EMLINK:e.WASI_EMLINK,EMSGSIZE:e.WASI_EMSGSIZE,EMULTIHOP:e.WASI_EMULTIHOP,ENAMETOOLONG:e.WASI_ENAMETOOLONG,ENETDOWN:e.WASI_ENETDOWN,ENETRESET:e.WASI_ENETRESET,ENETUNREACH:e.WASI_ENETUNREACH,ENFILE:e.WASI_ENFILE,ENOBUFS:e.WASI_ENOBUFS,ENODEV:e.WASI_ENODEV,ENOENT:e.WASI_ENOENT,ENOEXEC:e.WASI_ENOEXEC,ENOLCK:e.WASI_ENOLCK,ENOLINK:e.WASI_ENOLINK,ENOMEM:e.WASI_ENOMEM,ENOMSG:e.WASI_ENOMSG,ENOPROTOOPT:e.WASI_ENOPROTOOPT,ENOSPC:e.WASI_ENOSPC,ENOSYS:e.WASI_ENOSYS,ENOTCONN:e.WASI_ENOTCONN,ENOTDIR:e.WASI_ENOTDIR,ENOTEMPTY:e.WASI_ENOTEMPTY,ENOTRECOVERABLE:e.WASI_ENOTRECOVERABLE,ENOTSOCK:e.WASI_ENOTSOCK,ENOTTY:e.WASI_ENOTTY,ENXIO:e.WASI_ENXIO,EOVERFLOW:e.WASI_EOVERFLOW,EOWNERDEAD:e.WASI_EOWNERDEAD,EPERM:e.WASI_EPERM,EPIPE:e.WASI_EPIPE,EPROTO:e.WASI_EPROTO,EPROTONOSUPPORT:e.WASI_EPROTONOSUPPORT,EPROTOTYPE:e.WASI_EPROTOTYPE,ERANGE:e.WASI_ERANGE,EROFS:e.WASI_EROFS,ESPIPE:e.WASI_ESPIPE,ESRCH:e.WASI_ESRCH,ESTALE:e.WASI_ESTALE,ETIMEDOUT:e.WASI_ETIMEDOUT,ETXTBSY:e.WASI_ETXTBSY,EXDEV:e.WASI_EXDEV},e.SIGNAL_MAP={[e.WASI_SIGHUP]:"SIGHUP",[e.WASI_SIGINT]:"SIGINT",[e.WASI_SIGQUIT]:"SIGQUIT",[e.WASI_SIGILL]:"SIGILL",[e.WASI_SIGTRAP]:"SIGTRAP",[e.WASI_SIGABRT]:"SIGABRT",[e.WASI_SIGBUS]:"SIGBUS",[e.WASI_SIGFPE]:"SIGFPE",[e.WASI_SIGKILL]:"SIGKILL",[e.WASI_SIGUSR1]:"SIGUSR1",[e.WASI_SIGSEGV]:"SIGSEGV",[e.WASI_SIGUSR2]:"SIGUSR2",[e.WASI_SIGPIPE]:"SIGPIPE",[e.WASI_SIGALRM]:"SIGALRM",[e.WASI_SIGTERM]:"SIGTERM",[e.WASI_SIGCHLD]:"SIGCHLD",[e.WASI_SIGCONT]:"SIGCONT",[e.WASI_SIGSTOP]:"SIGSTOP",[e.WASI_SIGTSTP]:"SIGTSTP",[e.WASI_SIGTTIN]:"SIGTTIN",[e.WASI_SIGTTOU]:"SIGTTOU",[e.WASI_SIGURG]:"SIGURG",[e.WASI_SIGXCPU]:"SIGXCPU",[e.WASI_SIGXFSZ]:"SIGXFSZ",[e.WASI_SIGVTALRM]:"SIGVTALRM"}},4054:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(1624),n=r(6360),o=r(6776);let s;const a=r(7118),c=a.WASI_RIGHT_FD_DATASYNC|a.WASI_RIGHT_FD_READ|a.WASI_RIGHT_FD_SYNC|a.WASI_RIGHT_FD_ADVISE|a.WASI_RIGHT_FD_FILESTAT_GET|a.WASI_RIGHT_POLL_FD_READWRITE,h=a.WASI_RIGHT_FD_DATASYNC|a.WASI_RIGHT_FD_WRITE|a.WASI_RIGHT_FD_SYNC|a.WASI_RIGHT_FD_ADVISE|a.WASI_RIGHT_FD_FILESTAT_GET|a.WASI_RIGHT_POLL_FD_READWRITE,u=h,f=t=>{const e=Math.trunc(t),r=i.BigIntPolyfill(Math.round(1e6*(t-e)));return i.BigIntPolyfill(e)*i.BigIntPolyfill(1e6)+r},l=t=>{"number"==typeof t&&(t=Math.trunc(t));const e=i.BigIntPolyfill(t);return Number(e/i.BigIntPolyfill(1e6))},d=t=>(...e)=>{try{return t(...e)}catch(t){if(t&&t.code&&"string"==typeof t.code)return a.ERROR_MAP[t.code]||a.WASI_EINVAL;if(t instanceof S)return t.errno;throw t}},p=(t,e)=>{const r=t.FD_MAP.get(e);if(!r)throw new S(a.WASI_EBADF);if(void 0===r.filetype){const i=t.bindings.fs.fstatSync(r.real),{filetype:n,rightsBase:o,rightsInheriting:s}=_(t,e,i);r.filetype=n,r.rights||(r.rights={base:o,inheriting:s})}return r},_=(t,e,r)=>{switch(!0){case r.isBlockDevice():return{filetype:a.WASI_FILETYPE_BLOCK_DEVICE,rightsBase:a.RIGHTS_BLOCK_DEVICE_BASE,rightsInheriting:a.RIGHTS_BLOCK_DEVICE_INHERITING};case r.isCharacterDevice():{const r=a.WASI_FILETYPE_CHARACTER_DEVICE;return void 0!==e&&t.bindings.isTTY(e)?{filetype:r,rightsBase:a.RIGHTS_TTY_BASE,rightsInheriting:a.RIGHTS_TTY_INHERITING}:{filetype:r,rightsBase:a.RIGHTS_CHARACTER_DEVICE_BASE,rightsInheriting:a.RIGHTS_CHARACTER_DEVICE_INHERITING}}case r.isDirectory():return{filetype:a.WASI_FILETYPE_DIRECTORY,rightsBase:a.RIGHTS_DIRECTORY_BASE,rightsInheriting:a.RIGHTS_DIRECTORY_INHERITING};case r.isFIFO():return{filetype:a.WASI_FILETYPE_SOCKET_STREAM,rightsBase:a.RIGHTS_SOCKET_BASE,rightsInheriting:a.RIGHTS_SOCKET_INHERITING};case r.isFile():return{filetype:a.WASI_FILETYPE_REGULAR_FILE,rightsBase:a.RIGHTS_REGULAR_FILE_BASE,rightsInheriting:a.RIGHTS_REGULAR_FILE_INHERITING};case r.isSocket():return{filetype:a.WASI_FILETYPE_SOCKET_STREAM,rightsBase:a.RIGHTS_SOCKET_BASE,rightsInheriting:a.RIGHTS_SOCKET_INHERITING};case r.isSymbolicLink():return{filetype:a.WASI_FILETYPE_SYMBOLIC_LINK,rightsBase:i.BigIntPolyfill(0),rightsInheriting:i.BigIntPolyfill(0)};default:return{filetype:a.WASI_FILETYPE_UNKNOWN,rightsBase:i.BigIntPolyfill(0),rightsInheriting:i.BigIntPolyfill(0)}}};class S extends Error{constructor(t){super(),this.errno=t,Object.setPrototypeOf(this,S.prototype)}}e.WASIError=S;class y extends Error{constructor(t){super(`WASI Exit error: ${t}`),this.code=t,Object.setPrototypeOf(this,y.prototype)}}e.WASIExitError=y;class I extends Error{constructor(t){super(`WASI Kill signal: ${t}`),this.signal=t,Object.setPrototypeOf(this,I.prototype)}}e.WASIKillError=I;class E{constructor(t){let e={};t&&t.preopens?e=t.preopens:t&&t.preopenDirectories&&(e=t.preopenDirectories);let r={};t&&t.env&&(r=t.env);let n=[];t&&t.args&&(n=t.args);let y=s;t&&t.bindings&&(y=t.bindings),this.memory=void 0,this.view=void 0,this.bindings=y,this.FD_MAP=new Map([[a.WASI_STDIN_FILENO,{real:0,filetype:a.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:c,inheriting:i.BigIntPolyfill(0)},path:void 0}],[a.WASI_STDOUT_FILENO,{real:1,filetype:a.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:h,inheriting:i.BigIntPolyfill(0)},path:void 0}],[a.WASI_STDERR_FILENO,{real:2,filetype:a.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:u,inheriting:i.BigIntPolyfill(0)},path:void 0}]]);let I=this.bindings.fs,E=this.bindings.path;for(const[t,r]of Object.entries(e)){const e=I.openSync(r,I.constants.O_RDONLY),i=[...this.FD_MAP.keys()].reverse()[0]+1;this.FD_MAP.set(i,{real:e,filetype:a.WASI_FILETYPE_DIRECTORY,rights:{base:a.RIGHTS_DIRECTORY_BASE,inheriting:a.RIGHTS_DIRECTORY_INHERITING},fakePath:t,path:r})}const m=(t,e)=>(this.refreshMemory(),Array.from({length:e},((e,r)=>{const i=t+8*r,n=this.view.getUint32(i,!0),o=this.view.getUint32(i+4,!0);return new Uint8Array(this.memory.buffer,n,o)}))),g=(t,e)=>{const r=p(this,t);if(e!==i.BigIntPolyfill(0)&&(r.rights.base&e)===i.BigIntPolyfill(0))throw new S(a.WASI_EPERM);return r},A=y.hrtime(),v=t=>{switch(t){case a.WASI_CLOCK_MONOTONIC:return y.hrtime();case a.WASI_CLOCK_REALTIME:return f(Date.now());case a.WASI_CLOCK_PROCESS_CPUTIME_ID:case a.WASI_CLOCK_THREAD_CPUTIME_ID:return y.hrtime()-A;default:return null}};this.wasiImport={args_get:(t,e)=>{this.refreshMemory();let r=t,i=e;return n.forEach((t=>{this.view.setUint32(r,i,!0),r+=4,i+=o.default.from(this.memory.buffer).write(`${t}\0`,i)})),a.WASI_ESUCCESS},args_sizes_get:(t,e)=>{this.refreshMemory(),this.view.setUint32(t,n.length,!0);const r=n.reduce(((t,e)=>t+o.default.byteLength(e)+1),0);return this.view.setUint32(e,r,!0),a.WASI_ESUCCESS},environ_get:(t,e)=>{this.refreshMemory();let i=t,n=e;return Object.entries(r).forEach((([t,e])=>{this.view.setUint32(i,n,!0),i+=4,n+=o.default.from(this.memory.buffer).write(`${t}=${e}\0`,n)})),a.WASI_ESUCCESS},environ_sizes_get:(t,e)=>{this.refreshMemory();const i=Object.entries(r).map((([t,e])=>`${t}=${e}\0`)),n=i.reduce(((t,e)=>t+o.default.byteLength(e)),0);return this.view.setUint32(t,i.length,!0),this.view.setUint32(e,n,!0),a.WASI_ESUCCESS},clock_res_get:(t,e)=>{let r;switch(t){case a.WASI_CLOCK_MONOTONIC:case a.WASI_CLOCK_PROCESS_CPUTIME_ID:case a.WASI_CLOCK_THREAD_CPUTIME_ID:r=i.BigIntPolyfill(1);break;case a.WASI_CLOCK_REALTIME:r=i.BigIntPolyfill(1e3)}return this.view.setBigUint64(e,r),a.WASI_ESUCCESS},clock_time_get:(t,e,r)=>{this.refreshMemory();const n=v(t);return null===n?a.WASI_EINVAL:(this.view.setBigUint64(r,i.BigIntPolyfill(n),!0),a.WASI_ESUCCESS)},fd_advise:d(((t,e,r,i)=>(g(t,a.WASI_RIGHT_FD_ADVISE),a.WASI_ENOSYS))),fd_allocate:d(((t,e,r)=>(g(t,a.WASI_RIGHT_FD_ALLOCATE),a.WASI_ENOSYS))),fd_close:d((t=>{const e=g(t,i.BigIntPolyfill(0));return I.closeSync(e.real),this.FD_MAP.delete(t),a.WASI_ESUCCESS})),fd_datasync:d((t=>{const e=g(t,a.WASI_RIGHT_FD_DATASYNC);return I.fdatasyncSync(e.real),a.WASI_ESUCCESS})),fd_fdstat_get:d(((t,e)=>{const r=g(t,i.BigIntPolyfill(0));return this.refreshMemory(),this.view.setUint8(e,r.filetype),this.view.setUint16(e+2,0,!0),this.view.setUint16(e+4,0,!0),this.view.setBigUint64(e+8,i.BigIntPolyfill(r.rights.base),!0),this.view.setBigUint64(e+8+8,i.BigIntPolyfill(r.rights.inheriting),!0),a.WASI_ESUCCESS})),fd_fdstat_set_flags:d(((t,e)=>(g(t,a.WASI_RIGHT_FD_FDSTAT_SET_FLAGS),a.WASI_ENOSYS))),fd_fdstat_set_rights:d(((t,e,r)=>{const n=g(t,i.BigIntPolyfill(0));return(n.rights.base|e)>n.rights.base||(n.rights.inheriting|r)>n.rights.inheriting?a.WASI_EPERM:(n.rights.base=e,n.rights.inheriting=r,a.WASI_ESUCCESS)})),fd_filestat_get:d(((t,e)=>{const r=g(t,a.WASI_RIGHT_FD_FILESTAT_GET),n=I.fstatSync(r.real);return this.refreshMemory(),this.view.setBigUint64(e,i.BigIntPolyfill(n.dev),!0),e+=8,this.view.setBigUint64(e,i.BigIntPolyfill(n.ino),!0),e+=8,this.view.setUint8(e,r.filetype),e+=8,this.view.setBigUint64(e,i.BigIntPolyfill(n.nlink),!0),e+=8,this.view.setBigUint64(e,i.BigIntPolyfill(n.size),!0),e+=8,this.view.setBigUint64(e,f(n.atimeMs),!0),e+=8,this.view.setBigUint64(e,f(n.mtimeMs),!0),e+=8,this.view.setBigUint64(e,f(n.ctimeMs),!0),a.WASI_ESUCCESS})),fd_filestat_set_size:d(((t,e)=>{const r=g(t,a.WASI_RIGHT_FD_FILESTAT_SET_SIZE);return I.ftruncateSync(r.real,Number(e)),a.WASI_ESUCCESS})),fd_filestat_set_times:d(((t,e,r,i)=>{const n=g(t,a.WASI_RIGHT_FD_FILESTAT_SET_TIMES),o=I.fstatSync(n.real);let s=o.atime,c=o.mtime;const h=l(v(a.WASI_CLOCK_REALTIME)),u=a.WASI_FILESTAT_SET_ATIM|a.WASI_FILESTAT_SET_ATIM_NOW;if((i&u)===u)return a.WASI_EINVAL;const f=a.WASI_FILESTAT_SET_MTIM|a.WASI_FILESTAT_SET_MTIM_NOW;return(i&f)===f?a.WASI_EINVAL:((i&a.WASI_FILESTAT_SET_ATIM)===a.WASI_FILESTAT_SET_ATIM?s=l(e):(i&a.WASI_FILESTAT_SET_ATIM_NOW)===a.WASI_FILESTAT_SET_ATIM_NOW&&(s=h),(i&a.WASI_FILESTAT_SET_MTIM)===a.WASI_FILESTAT_SET_MTIM?c=l(r):(i&a.WASI_FILESTAT_SET_MTIM_NOW)===a.WASI_FILESTAT_SET_MTIM_NOW&&(c=h),I.futimesSync(n.real,new Date(s),new Date(c)),a.WASI_ESUCCESS)})),fd_prestat_get:d(((t,e)=>{const r=g(t,i.BigIntPolyfill(0));return r.path?(this.refreshMemory(),this.view.setUint8(e,a.WASI_PREOPENTYPE_DIR),this.view.setUint32(e+4,o.default.byteLength(r.fakePath),!0),a.WASI_ESUCCESS):a.WASI_EINVAL})),fd_prestat_dir_name:d(((t,e,r)=>{const n=g(t,i.BigIntPolyfill(0));return n.path?(this.refreshMemory(),o.default.from(this.memory.buffer).write(n.fakePath,e,r,"utf8"),a.WASI_ESUCCESS):a.WASI_EINVAL})),fd_pwrite:d(((t,e,r,i,n)=>{const o=g(t,a.WASI_RIGHT_FD_WRITE|a.WASI_RIGHT_FD_SEEK);let s=0;return m(e,r).forEach((t=>{let e=0;for(;e<t.byteLength;)e+=I.writeSync(o.real,t,e,t.byteLength-e,Number(i)+s+e);s+=e})),this.view.setUint32(n,s,!0),a.WASI_ESUCCESS})),fd_write:d(((t,e,r,n)=>{const o=g(t,a.WASI_RIGHT_FD_WRITE);let s=0;return m(e,r).forEach((t=>{let e=0;for(;e<t.byteLength;){const r=I.writeSync(o.real,t,e,t.byteLength-e,o.offset?Number(o.offset):null);o.offset&&(o.offset+=i.BigIntPolyfill(r)),e+=r}s+=e})),this.view.setUint32(n,s,!0),a.WASI_ESUCCESS})),fd_pread:d(((t,e,r,i,n)=>{const o=g(t,a.WASI_RIGHT_FD_READ|a.WASI_RIGHT_FD_SEEK);let s=0;t:for(const t of m(e,r)){let e=0;for(;e<t.byteLength;){const r=t.byteLength-e,n=I.readSync(o.real,t,e,t.byteLength-e,Number(i)+s+e);if(e+=n,s+=n,0===n||n<r)break t}s+=e}return this.view.setUint32(n,s,!0),a.WASI_ESUCCESS})),fd_read:d(((t,e,r,n)=>{const o=g(t,a.WASI_RIGHT_FD_READ),s=0===o.real;let c=0;t:for(const t of m(e,r)){let e=0;for(;e<t.byteLength;){let r=t.byteLength-e,n=s||void 0===o.offset?null:Number(o.offset),a=I.readSync(o.real,t,e,r,n);if(s||(o.offset=(o.offset?o.offset:i.BigIntPolyfill(0))+i.BigIntPolyfill(a)),e+=a,c+=a,0===a||a<r)break t}}return this.view.setUint32(n,c,!0),a.WASI_ESUCCESS})),fd_readdir:d(((t,e,r,n,s)=>{const c=g(t,a.WASI_RIGHT_FD_READDIR);this.refreshMemory();const h=I.readdirSync(c.path,{withFileTypes:!0}),u=e;for(let t=Number(n);t<h.length;t+=1){const n=h[t];let s=o.default.byteLength(n.name);if(e-u>r)break;if(this.view.setBigUint64(e,i.BigIntPolyfill(t+1),!0),(e+=8)-u>r)break;const f=I.statSync(E.resolve(c.path,n.name));if(this.view.setBigUint64(e,i.BigIntPolyfill(f.ino),!0),(e+=8)-u>r)break;if(this.view.setUint32(e,s,!0),(e+=4)-u>r)break;let l;switch(!0){case f.isBlockDevice():l=a.WASI_FILETYPE_BLOCK_DEVICE;break;case f.isCharacterDevice():l=a.WASI_FILETYPE_CHARACTER_DEVICE;break;case f.isDirectory():l=a.WASI_FILETYPE_DIRECTORY;break;case f.isFIFO():l=a.WASI_FILETYPE_SOCKET_STREAM;break;case f.isFile():l=a.WASI_FILETYPE_REGULAR_FILE;break;case f.isSocket():l=a.WASI_FILETYPE_SOCKET_STREAM;break;case f.isSymbolicLink():l=a.WASI_FILETYPE_SYMBOLIC_LINK;break;default:l=a.WASI_FILETYPE_UNKNOWN}if(this.view.setUint8(e,l),e+=1,(e+=3)+s>=u+r)break;o.default.from(this.memory.buffer).write(n.name,e),e+=s}const f=e-u;return this.view.setUint32(s,Math.min(f,r),!0),a.WASI_ESUCCESS})),fd_renumber:d(((t,e)=>(g(t,i.BigIntPolyfill(0)),g(e,i.BigIntPolyfill(0)),I.closeSync(this.FD_MAP.get(t).real),this.FD_MAP.set(t,this.FD_MAP.get(e)),this.FD_MAP.delete(e),a.WASI_ESUCCESS))),fd_seek:d(((t,e,r,n)=>{const o=g(t,a.WASI_RIGHT_FD_SEEK);switch(this.refreshMemory(),r){case a.WASI_WHENCE_CUR:o.offset=(o.offset?o.offset:i.BigIntPolyfill(0))+i.BigIntPolyfill(e);break;case a.WASI_WHENCE_END:const{size:t}=I.fstatSync(o.real);o.offset=i.BigIntPolyfill(t)+i.BigIntPolyfill(e);break;case a.WASI_WHENCE_SET:o.offset=i.BigIntPolyfill(e)}return this.view.setBigUint64(n,o.offset,!0),a.WASI_ESUCCESS})),fd_tell:d(((t,e)=>{const r=g(t,a.WASI_RIGHT_FD_TELL);return this.refreshMemory(),r.offset||(r.offset=i.BigIntPolyfill(0)),this.view.setBigUint64(e,r.offset,!0),a.WASI_ESUCCESS})),fd_sync:d((t=>{const e=g(t,a.WASI_RIGHT_FD_SYNC);return I.fsyncSync(e.real),a.WASI_ESUCCESS})),path_create_directory:d(((t,e,r)=>{const i=g(t,a.WASI_RIGHT_PATH_CREATE_DIRECTORY);if(!i.path)return a.WASI_EINVAL;this.refreshMemory();const n=o.default.from(this.memory.buffer,e,r).toString();return I.mkdirSync(E.resolve(i.path,n)),a.WASI_ESUCCESS})),path_filestat_get:d(((t,e,r,n,s)=>{const c=g(t,a.WASI_RIGHT_PATH_FILESTAT_GET);if(!c.path)return a.WASI_EINVAL;this.refreshMemory();const h=o.default.from(this.memory.buffer,r,n).toString(),u=I.statSync(E.resolve(c.path,h));return this.view.setBigUint64(s,i.BigIntPolyfill(u.dev),!0),s+=8,this.view.setBigUint64(s,i.BigIntPolyfill(u.ino),!0),s+=8,this.view.setUint8(s,_(this,void 0,u).filetype),s+=8,this.view.setBigUint64(s,i.BigIntPolyfill(u.nlink),!0),s+=8,this.view.setBigUint64(s,i.BigIntPolyfill(u.size),!0),s+=8,this.view.setBigUint64(s,f(u.atimeMs),!0),s+=8,this.view.setBigUint64(s,f(u.mtimeMs),!0),s+=8,this.view.setBigUint64(s,f(u.ctimeMs),!0),a.WASI_ESUCCESS})),path_filestat_set_times:d(((t,e,r,i,n,s,c)=>{const h=g(t,a.WASI_RIGHT_PATH_FILESTAT_SET_TIMES);if(!h.path)return a.WASI_EINVAL;this.refreshMemory();const u=I.fstatSync(h.real);let f=u.atime,d=u.mtime;const p=l(v(a.WASI_CLOCK_REALTIME)),_=a.WASI_FILESTAT_SET_ATIM|a.WASI_FILESTAT_SET_ATIM_NOW;if((c&_)===_)return a.WASI_EINVAL;const S=a.WASI_FILESTAT_SET_MTIM|a.WASI_FILESTAT_SET_MTIM_NOW;if((c&S)===S)return a.WASI_EINVAL;(c&a.WASI_FILESTAT_SET_ATIM)===a.WASI_FILESTAT_SET_ATIM?f=l(n):(c&a.WASI_FILESTAT_SET_ATIM_NOW)===a.WASI_FILESTAT_SET_ATIM_NOW&&(f=p),(c&a.WASI_FILESTAT_SET_MTIM)===a.WASI_FILESTAT_SET_MTIM?d=l(s):(c&a.WASI_FILESTAT_SET_MTIM_NOW)===a.WASI_FILESTAT_SET_MTIM_NOW&&(d=p);const y=o.default.from(this.memory.buffer,r,i).toString();return I.utimesSync(E.resolve(h.path,y),new Date(f),new Date(d)),a.WASI_ESUCCESS})),path_link:d(((t,e,r,i,n,s,c)=>{const h=g(t,a.WASI_RIGHT_PATH_LINK_SOURCE),u=g(n,a.WASI_RIGHT_PATH_LINK_TARGET);if(!h.path||!u.path)return a.WASI_EINVAL;this.refreshMemory();const f=o.default.from(this.memory.buffer,r,i).toString(),l=o.default.from(this.memory.buffer,s,c).toString();return I.linkSync(E.resolve(h.path,f),E.resolve(u.path,l)),a.WASI_ESUCCESS})),path_open:d(((t,e,r,n,s,c,h,u,f)=>{const l=g(t,a.WASI_RIGHT_PATH_OPEN);c=i.BigIntPolyfill(c),h=i.BigIntPolyfill(h);const d=(c&(a.WASI_RIGHT_FD_READ|a.WASI_RIGHT_FD_READDIR))!==i.BigIntPolyfill(0),_=(c&(a.WASI_RIGHT_FD_DATASYNC|a.WASI_RIGHT_FD_WRITE|a.WASI_RIGHT_FD_ALLOCATE|a.WASI_RIGHT_FD_FILESTAT_SET_SIZE))!==i.BigIntPolyfill(0);let S;_&&d?S=I.constants.O_RDWR:d?S=I.constants.O_RDONLY:_&&(S=I.constants.O_WRONLY);let y=c|a.WASI_RIGHT_PATH_OPEN,m=c|h;0!=(s&a.WASI_O_CREAT)&&(S|=I.constants.O_CREAT,y|=a.WASI_RIGHT_PATH_CREATE_FILE),0!=(s&a.WASI_O_DIRECTORY)&&(S|=I.constants.O_DIRECTORY),0!=(s&a.WASI_O_EXCL)&&(S|=I.constants.O_EXCL),0!=(s&a.WASI_O_TRUNC)&&(S|=I.constants.O_TRUNC,y|=a.WASI_RIGHT_PATH_FILESTAT_SET_SIZE),0!=(u&a.WASI_FDFLAG_APPEND)&&(S|=I.constants.O_APPEND),0!=(u&a.WASI_FDFLAG_DSYNC)&&(I.constants.O_DSYNC?S|=I.constants.O_DSYNC:S|=I.constants.O_SYNC,m|=a.WASI_RIGHT_FD_DATASYNC),0!=(u&a.WASI_FDFLAG_NONBLOCK)&&(S|=I.constants.O_NONBLOCK),0!=(u&a.WASI_FDFLAG_RSYNC)&&(I.constants.O_RSYNC?S|=I.constants.O_RSYNC:S|=I.constants.O_SYNC,m|=a.WASI_RIGHT_FD_SYNC),0!=(u&a.WASI_FDFLAG_SYNC)&&(S|=I.constants.O_SYNC,m|=a.WASI_RIGHT_FD_SYNC),_&&0==(S&(I.constants.O_APPEND|I.constants.O_TRUNC))&&(m|=a.WASI_RIGHT_FD_SEEK),this.refreshMemory();const A=o.default.from(this.memory.buffer,r,n).toString(),v=E.resolve(l.path,A);if(E.relative(l.path,v).startsWith(".."))return a.WASI_ENOTCAPABLE;let T,R,w;try{if(T=I.realpathSync(v),E.relative(l.path,T).startsWith(".."))return a.WASI_ENOTCAPABLE}catch(t){if("ENOENT"!==t.code)throw t;T=v}try{R=I.statSync(T).isDirectory()}catch(t){}w=!_&&R?I.openSync(T,I.constants.O_RDONLY):I.openSync(T,S);const O=[...this.FD_MAP.keys()].reverse()[0]+1;return this.FD_MAP.set(O,{real:w,filetype:void 0,rights:{base:y,inheriting:m},path:T}),p(this,O),this.view.setUint32(f,O,!0),a.WASI_ESUCCESS})),path_readlink:d(((t,e,r,i,n,s)=>{const c=g(t,a.WASI_RIGHT_PATH_READLINK);if(!c.path)return a.WASI_EINVAL;this.refreshMemory();const h=o.default.from(this.memory.buffer,e,r).toString(),u=E.resolve(c.path,h),f=I.readlinkSync(u),l=o.default.from(this.memory.buffer).write(f,i,n);return this.view.setUint32(s,l,!0),a.WASI_ESUCCESS})),path_remove_directory:d(((t,e,r)=>{const i=g(t,a.WASI_RIGHT_PATH_REMOVE_DIRECTORY);if(!i.path)return a.WASI_EINVAL;this.refreshMemory();const n=o.default.from(this.memory.buffer,e,r).toString();return I.rmdirSync(E.resolve(i.path,n)),a.WASI_ESUCCESS})),path_rename:d(((t,e,r,i,n,s)=>{const c=g(t,a.WASI_RIGHT_PATH_RENAME_SOURCE),h=g(i,a.WASI_RIGHT_PATH_RENAME_TARGET);if(!c.path||!h.path)return a.WASI_EINVAL;this.refreshMemory();const u=o.default.from(this.memory.buffer,e,r).toString(),f=o.default.from(this.memory.buffer,n,s).toString();return I.renameSync(E.resolve(c.path,u),E.resolve(h.path,f)),a.WASI_ESUCCESS})),path_symlink:d(((t,e,r,i,n)=>{const s=g(r,a.WASI_RIGHT_PATH_SYMLINK);if(!s.path)return a.WASI_EINVAL;this.refreshMemory();const c=o.default.from(this.memory.buffer,t,e).toString(),h=o.default.from(this.memory.buffer,i,n).toString();return I.symlinkSync(c,E.resolve(s.path,h)),a.WASI_ESUCCESS})),path_unlink_file:d(((t,e,r)=>{const i=g(t,a.WASI_RIGHT_PATH_UNLINK_FILE);if(!i.path)return a.WASI_EINVAL;this.refreshMemory();const n=o.default.from(this.memory.buffer,e,r).toString();return I.unlinkSync(E.resolve(i.path,n)),a.WASI_ESUCCESS})),poll_oneoff:(t,e,r,n)=>{let o=0,s=0;this.refreshMemory();for(let n=0;n<r;n+=1){const r=this.view.getBigUint64(t,!0);t+=8;const n=this.view.getUint8(t);switch(t+=1,n){case a.WASI_EVENTTYPE_CLOCK:{t+=7,this.view.getBigUint64(t,!0),t+=8;const n=this.view.getUint32(t,!0);t+=4,t+=4;const c=this.view.getBigUint64(t,!0);t+=8,this.view.getBigUint64(t,!0),t+=8;const h=this.view.getUint16(t,!0);t+=2,t+=6;const u=1===h;let f=a.WASI_ESUCCESS;const l=i.BigIntPolyfill(v(n));if(null===l)f=a.WASI_EINVAL;else{const t=u?c:l+c;s=t>s?t:s}this.view.setBigUint64(e,r,!0),e+=8,this.view.setUint16(e,f,!0),e+=2,this.view.setUint8(e,a.WASI_EVENTTYPE_CLOCK),e+=1,e+=5,o+=1;break}case a.WASI_EVENTTYPE_FD_READ:case a.WASI_EVENTTYPE_FD_WRITE:t+=3,this.view.getUint32(t,!0),t+=4,this.view.setBigUint64(e,r,!0),e+=8,this.view.setUint16(e,a.WASI_ENOSYS,!0),e+=2,this.view.setUint8(e,n),e+=1,e+=5,o+=1;break;default:return a.WASI_EINVAL}}for(this.view.setUint32(n,o,!0);y.hrtime()<s;);return a.WASI_ESUCCESS},proc_exit:t=>(y.exit(t),a.WASI_ESUCCESS),proc_raise:t=>t in a.SIGNAL_MAP?(y.kill(a.SIGNAL_MAP[t]),a.WASI_ESUCCESS):a.WASI_EINVAL,random_get:(t,e)=>(this.refreshMemory(),y.randomFillSync(new Uint8Array(this.memory.buffer),t,e),a.WASI_ESUCCESS),sched_yield:()=>a.WASI_ESUCCESS,sock_recv:()=>a.WASI_ENOSYS,sock_send:()=>a.WASI_ENOSYS,sock_shutdown:()=>a.WASI_ENOSYS},t.traceSyscalls&&Object.keys(this.wasiImport).forEach((t=>{const e=this.wasiImport[t];this.wasiImport[t]=function(...r){console.log(`WASI: wasiImport called: ${t} (${r})`);try{let t=e(...r);return console.log(`WASI:  => ${t}`),t}catch(t){throw console.log(`Catched error: ${t}`),t}}}))}refreshMemory(){this.view&&0!==this.view.buffer.byteLength||(this.view=new n.DataViewPolyfill(this.memory.buffer))}setMemory(t){this.memory=t}start(t){const e=t.exports;if(null===e||"object"!=typeof e)throw new Error(`instance.exports must be an Object. Received ${e}.`);const{memory:r}=e;if(!(r instanceof WebAssembly.Memory))throw new Error(`instance.exports.memory must be a WebAssembly.Memory. Recceived ${r}.`);this.setMemory(r),e._start&&e._start()}getImportNamespace(t){let e=null;for(let r of WebAssembly.Module.imports(t))if("function"===r.kind&&r.module.startsWith("wasi_"))if(e){if(e!==r.module)throw new Error("Multiple namespaces detected.")}else e=r.module;return e}getImports(t){switch(this.getImportNamespace(t)){case"wasi_unstable":return{wasi_unstable:this.wasiImport};case"wasi_snapshot_preview1":return{wasi_snapshot_preview1:this.wasiImport};default:throw new Error("Can't detect a WASI namespace for the WebAssembly Module")}}}e.default=E,E.defaultBindings=s,e.WASI=E},1624:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:{};e.BigIntPolyfill="undefined"!=typeof BigInt?BigInt:r.BigInt||Number},4627:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=Math.floor(.001*(Date.now()-performance.now()));e.default=function(t){let e=.001*performance.now(),i=Math.floor(e)+r,n=Math.floor(e%1*1e9);return t&&(i-=t[0],n-=t[1],n<0&&(i--,n+=1e9)),[i,n]}},6776:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=Buffer;e.default=r},6360:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(1624);let n=DataView;n.prototype.setBigUint64||(n.prototype.setBigUint64=function(t,e,r){let i,n;if(e<2**32)i=Number(e),n=0;else{for(var o=e.toString(2),s="",a=0;a<64-o.length;a++)s+="0";s+=o,n=parseInt(s.substring(0,32),2),i=parseInt(s.substring(32),2)}this.setUint32(t+(r?0:4),i,r),this.setUint32(t+(r?4:0),n,r)},n.prototype.getBigUint64=function(t,e){let r=this.getUint32(t+(e?0:4),e),n=this.getUint32(t+(e?4:0),e);for(var o=r.toString(2),s=n.toString(2),a="",c=0;c<32-o.length;c++)a+="0";return a+=o,i.BigIntPolyfill("0b"+s+a)}),e.DataViewPolyfill=n},8134:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t=>e=>{const r=t(e);return 1e9*r[0]+r[1]}},9299:t=>{"use strict";function e(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function r(t,e){for(var r,i="",n=0,o=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)r=t.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(i.length<2||2!==n||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var c=i.lastIndexOf("/");if(c!==i.length-1){-1===c?(i="",n=0):n=(i=i.slice(0,c)).length-1-i.lastIndexOf("/"),o=a,s=0;continue}}else if(2===i.length||1===i.length){i="",n=0,o=a,s=0;continue}e&&(i.length>0?i+="/..":i="..",n=2)}else i.length>0?i+="/"+t.slice(o+1,a):i=t.slice(o+1,a),n=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return i}var i={resolve:function(){for(var t,i="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var s;o>=0?s=arguments[o]:(void 0===t&&(t=process.cwd()),s=t),e(s),0!==s.length&&(i=s+"/"+i,n=47===s.charCodeAt(0))}return i=r(i,!n),n?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(t){if(e(t),0===t.length)return".";var i=47===t.charCodeAt(0),n=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!i)).length||i||(t="."),t.length>0&&n&&(t+="/"),i?"/"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,r=0;r<arguments.length;++r){var n=arguments[r];e(n),n.length>0&&(void 0===t?t=n:t+="/"+n)}return void 0===t?".":i.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return"";if((t=i.resolve(t))===(r=i.resolve(r)))return"";for(var n=1;n<t.length&&47===t.charCodeAt(n);++n);for(var o=t.length,s=o-n,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var c=r.length-a,h=s<c?s:c,u=-1,f=0;f<=h;++f){if(f===h){if(c>h){if(47===r.charCodeAt(a+f))return r.slice(a+f+1);if(0===f)return r.slice(a+f)}else s>h&&(47===t.charCodeAt(n+f)?u=f:0===f&&(u=0));break}var l=t.charCodeAt(n+f);if(l!==r.charCodeAt(a+f))break;47===l&&(u=f)}var d="";for(f=n+u+1;f<=o;++f)f!==o&&47!==t.charCodeAt(f)||(0===d.length?d+="..":d+="/..");return d.length>0?d+r.slice(a+u):(a+=u,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return".";for(var r=t.charCodeAt(0),i=47===r,n=-1,o=!0,s=t.length-1;s>=1;--s)if(47===(r=t.charCodeAt(s))){if(!o){n=s;break}}else o=!1;return-1===n?i?"/":".":i&&1===n?"//":t.slice(0,n)},basename:function(t,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');e(t);var i,n=0,o=-1,s=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var a=r.length-1,c=-1;for(i=t.length-1;i>=0;--i){var h=t.charCodeAt(i);if(47===h){if(!s){n=i+1;break}}else-1===c&&(s=!1,c=i+1),a>=0&&(h===r.charCodeAt(a)?-1==--a&&(o=i):(a=-1,o=c))}return n===o?o=c:-1===o&&(o=t.length),t.slice(n,o)}for(i=t.length-1;i>=0;--i)if(47===t.charCodeAt(i)){if(!s){n=i+1;break}}else-1===o&&(s=!1,o=i+1);return-1===o?"":t.slice(n,o)},extname:function(t){e(t);for(var r=-1,i=0,n=-1,o=!0,s=0,a=t.length-1;a>=0;--a){var c=t.charCodeAt(a);if(47!==c)-1===n&&(o=!1,n=a+1),46===c?-1===r?r=a:1!==s&&(s=1):-1!==r&&(s=-1);else if(!o){i=a+1;break}}return-1===r||-1===n||0===s||1===s&&r===n-1&&r===i+1?"":t.slice(r,n)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,i=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+i:r+"/"+i:i}(0,t)},parse:function(t){e(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return r;var i,n=t.charCodeAt(0),o=47===n;o?(r.root="/",i=1):i=0;for(var s=-1,a=0,c=-1,h=!0,u=t.length-1,f=0;u>=i;--u)if(47!==(n=t.charCodeAt(u)))-1===c&&(h=!1,c=u+1),46===n?-1===s?s=u:1!==f&&(f=1):-1!==s&&(f=-1);else if(!h){a=u+1;break}return-1===s||-1===c||0===f||1===f&&s===c-1&&s===a+1?-1!==c&&(r.base=r.name=0===a&&o?t.slice(1,c):t.slice(a,c)):(0===a&&o?(r.name=t.slice(1,s),r.base=t.slice(1,c)):(r.name=t.slice(a,s),r.base=t.slice(a,c)),r.ext=t.slice(s,c)),a>0?r.dir=t.slice(0,a-1):o&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,t.exports=i},6059:(t,e,r)=>{t.exports=r(6417).randomBytes},6361:(t,e,r)=>{"use strict";function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var n=r(8750),o=r(6059),s=n.Buffer,a=n.kMaxLength,c=global.crypto||global.msCrypto,h=Math.pow(2,32)-1;function u(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>h||t<0)throw new TypeError("offset must be a uint32");if(t>a||t>e)throw new RangeError("offset out of range")}function f(t,e,r){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>h||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>a)throw new RangeError("buffer too small")}function l(t,e,r,i){if(process.browser){var n=t.buffer,s=new Uint8Array(n,e,r);return c.getRandomValues(s),i?void process.nextTick((function(){i(null,t)})):t}if(!i)return o(r).copy(t,e),t;o(r,(function(r,n){if(r)return i(r);n.copy(t,e),i(null,t)}))}c&&c.getRandomValues||!process.browser?(e.randomFill=function(t,e,r,i){if(!(s.isBuffer(t)||t instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)i=e,e=0,r=t.length;else if("function"==typeof r)i=r,r=t.length-e;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return u(e,t.length),f(r,e,t.length),l(t,e,r,i)},e.randomFillSync=function(t,e,r){if(void 0===e&&(e=0),!(s.isBuffer(t)||t instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return u(e,t.length),void 0===r&&(r=t.length-e),f(r,e,t.length),l(t,e,r)}):(e.randomFill=i,e.randomFillSync=i)},26:(t,e,r)=>{var i=r(6417);"function"==typeof i.randomFill&&"function"==typeof i.randomFillSync?(e.randomFill=i.randomFill,e.randomFillSync=i.randomFillSync):t.exports=r(6361)},8750:(t,e,r)=>{var i=r(4293),n=i.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=s),s.prototype=Object.create(n.prototype),o(n,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=n(t);return void 0!==e?"string"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},273:(t,e,r)=>{"use strict";const i=r(9671),n=r(9258),o=r(5622);r(392);const s=(t,e)=>{if(!t)throw new Error(e)};e.Yn=class{constructor(){this.volume=new n.Volume,this.fs=i.createFsFromVolume(this.volume),this.fromJSON({"/dev/stdin":"","/dev/stdout":"","/dev/stderr":""})}_toJSON(t,e={},r){let i=!0;for(const n in t.children){i=!1;const s=t.getChild(n);if(s){const t=s.getNode();if(t&&t.isFile()){let i=s.getPath();r&&(i=o.relative(r,i)),e[i]=t.getBuffer()}else t&&t.isDirectory()&&this._toJSON(s,e,r)}}let n=t.getPath();return r&&(n=o.relative(r,n)),n&&i&&(e[n]=null),e}toJSON(t,e={},r=!1){const i=[];if(t){t instanceof Array||(t=[t]);for(const e of t){const t=n.pathToFilename(e),r=this.volume.getResolvedLink(t);r&&i.push(r)}}else i.push(this.volume.root);if(!i.length)return e;for(const t of i)this._toJSON(t,e,r?t.getPath():"");return e}fromJSONFixed(t,e){for(let r in e){const i=e[r];if(i?null===Object.getPrototypeOf(i):null===i)t.mkdirpBase(r,511);else{const e=n.filenameToSteps(r);if(e.length>1){const r="/"+e.slice(0,e.length-1).join("/");t.mkdirpBase(r,511)}t.writeFileSync(r,i||"")}}}fromJSON(t){this.volume=new n.Volume,this.fromJSONFixed(this.volume,t),this.fs=i.createFsFromVolume(this.volume),this.volume.releasedFds=[0,1,2];const e=this.volume.openSync("/dev/stderr","w"),r=this.volume.openSync("/dev/stdout","w"),o=this.volume.openSync("/dev/stdin","r");s(2===e,`invalid handle for stderr: ${e}`),s(1===r,`invalid handle for stdout: ${r}`),s(0===o,`invalid handle for stdin: ${o}`)}async getStdOut(){return new Promise((t=>{t(this.fs.readFileSync("/dev/stdout","utf8"))}))}}},392:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(2792).Node.prototype.emit=function(t,...e){const r=this.listeners(t);for(let t of r)try{t(...e)}catch(t){console.error(t)}return r.length>0}},5404:(t,e)=>{var r=Array.prototype.slice;e.l=function t(e,i){for(var n in i)e[n]=i[n];return arguments.length<3?e:t.apply(null,[e].concat(r.call(arguments,2)))}},5267:(t,e)=>{"use strict";e.Z4=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r?(t=n(t,e)).replace(/^([a-zA-Z]+:|\.\/)/,""):t};var r="win32"===process.platform;function i(t,e){var i=t[e];return e>0&&("/"===i||r&&"\\"===i)}function n(t,e){if("string"!=typeof t)throw new TypeError("expected a string");return t=t.replace(/[\\\/]+/g,"/"),!1!==e&&(t=function(t){var e=t.length-1;if(e<2)return t;for(;i(t,e);)e--;return t.substr(0,e+1)}(t)),t}},8293:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fsProps=["constants","F_OK","R_OK","W_OK","X_OK","Stats"],e.fsSyncMethods=["renameSync","ftruncateSync","truncateSync","chownSync","fchownSync","lchownSync","chmodSync","fchmodSync","lchmodSync","statSync","lstatSync","fstatSync","linkSync","symlinkSync","readlinkSync","realpathSync","unlinkSync","rmdirSync","mkdirSync","mkdirpSync","readdirSync","closeSync","openSync","utimesSync","futimesSync","fsyncSync","writeSync","readSync","readFileSync","writeFileSync","appendFileSync","existsSync","accessSync","fdatasyncSync","mkdtempSync","copyFileSync","createReadStream","createWriteStream"],e.fsAsyncMethods=["rename","ftruncate","truncate","chown","fchown","lchown","chmod","fchmod","lchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","mkdirp","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","exists","access","fdatasync","mkdtemp","copyFile","watchFile","unwatchFile","watch"]},5173:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(6764),n=r(9210),o=i.constants.S_IFMT,s=i.constants.S_IFDIR,a=i.constants.S_IFREG,c=i.constants.S_IFBLK,h=i.constants.S_IFCHR,u=i.constants.S_IFLNK,f=i.constants.S_IFIFO,l=i.constants.S_IFSOCK,d=function(){function t(){this.name="",this.mode=0}return t.build=function(e,r){var i=new t,o=e.getNode().mode;return i.name=n.strToEncoding(e.getName(),r),i.mode=o,i},t.prototype._checkModeProperty=function(t){return(this.mode&o)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(s)},t.prototype.isFile=function(){return this._checkModeProperty(a)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(c)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(h)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(u)},t.prototype.isFIFO=function(){return this._checkModeProperty(f)},t.prototype.isSocket=function(){return this._checkModeProperty(l)},t}();e.Dirent=d,e.default=d},1363:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(6764),n=r(3457),o=i.constants.S_IFMT,s=i.constants.S_IFDIR,a=i.constants.S_IFREG,c=i.constants.S_IFBLK,h=i.constants.S_IFCHR,u=i.constants.S_IFLNK,f=i.constants.S_IFIFO,l=i.constants.S_IFSOCK,d=function(){function t(){}return t.build=function(e,r){void 0===r&&(r=!1);var i=new t,o=e.uid,s=e.gid,a=e.atime,c=e.mtime,h=e.ctime,u=r?n.default:function(t){return t};i.uid=u(o),i.gid=u(s),i.rdev=u(0),i.blksize=u(4096),i.ino=u(e.ino),i.size=u(e.getSize()),i.blocks=u(1),i.atime=a,i.mtime=c,i.ctime=h,i.birthtime=h,i.atimeMs=u(a.getTime()),i.mtimeMs=u(c.getTime());var f=u(h.getTime());return i.ctimeMs=f,i.birthtimeMs=f,i.dev=u(0),i.mode=u(e.mode),i.nlink=u(e.nlink),i},t.prototype._checkModeProperty=function(t){return(Number(this.mode)&o)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(s)},t.prototype.isFile=function(){return this._checkModeProperty(a)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(c)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(h)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(u)},t.prototype.isFIFO=function(){return this._checkModeProperty(f)},t.prototype.isSocket=function(){return this._checkModeProperty(l)},t}();e.Stats=d,e.default=d},6764:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}},9210:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(3154),n=r(1212);e.ENCODING_UTF8="utf8",e.assertEncoding=function(t){if(t&&!i.Buffer.isEncoding(t))throw new n.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",t)},e.strToEncoding=function(t,r){return r&&r!==e.ENCODING_UTF8?"buffer"===r?new i.Buffer(t):new i.Buffer(t).toString(r):t}},3457:(t,e)=>{"function"==typeof BigInt?e.default=BigInt:e.default=function(){throw new Error("BigInt is not supported in this environment.")}},9671:function(t,e,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n=r(1363),o=r(5173),s=r(9258),a=r(8293),c=a.fsSyncMethods,h=a.fsAsyncMethods,u=r(6764),f=u.constants.F_OK,l=u.constants.R_OK,d=u.constants.W_OK,p=u.constants.X_OK;function _(t){for(var e={F_OK:f,R_OK:l,W_OK:d,X_OK:p,constants:u.constants,Stats:n.default,Dirent:o.default},r=0,i=c;r<i.length;r++)"function"==typeof t[S=i[r]]&&(e[S]=t[S].bind(t));for(var a=0,_=h;a<_.length;a++){var S;"function"==typeof t[S=_[a]]&&(e[S]=t[S].bind(t))}return e.StatWatcher=t.StatWatcher,e.FSWatcher=t.FSWatcher,e.WriteStream=t.WriteStream,e.ReadStream=t.ReadStream,e.promises=t.promises,e._toUnixTimestamp=s.toUnixTimestamp,e}e.Volume=s.Volume,e.vol=new s.Volume,e.createFsFromVolume=_,e.fs=_(e.vol),t.exports=i(i({},t.exports),e.fs),t.exports.semantic=!0},3154:function(t,e,r){"use strict";var i=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i};Object.defineProperty(e,"__esModule",{value:!0});var n=r(4293);function o(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new(n.Buffer.bind.apply(n.Buffer,i([void 0,t],e)))}e.Buffer=n.Buffer;var s=n.Buffer.allocUnsafe||o;e.bufferAllocUnsafe=s;var a=n.Buffer.from||o;e.bufferFrom=a},1212:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(2357),s=r(1669),a="undefined"==typeof Symbol?"_kCode":Symbol("code"),c={};function h(t){return function(t){function e(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var n=t.call(this,f(e,r))||this;return n.code=e,n[a]=e,n.name=t.prototype.name+" ["+n[a]+"]",n}return n(e,t),e}(t)}var u=function(t){function r(r){var i=this;if("object"!=typeof r||null===r)throw new e.TypeError("ERR_INVALID_ARG_TYPE","options","object");return(i=r.message?t.call(this,r.message)||this:t.call(this,s.inspect(r.actual).slice(0,128)+" "+r.operator+" "+s.inspect(r.expected).slice(0,128))||this).generatedMessage=!r.message,i.name="AssertionError [ERR_ASSERTION]",i.code="ERR_ASSERTION",i.actual=r.actual,i.expected=r.expected,i.operator=r.operator,e.Error.captureStackTrace(i,r.stackStartFunction),i}return n(r,t),r}(global.Error);function f(t,e){o.strictEqual(typeof t,"string");var r,i=c[t];if(o(i,"An invalid error message key was used: "+t+"."),"function"==typeof i)r=i;else{if(r=s.format,void 0===e||0===e.length)return i;e.unshift(i)}return String(r.apply(null,e))}function l(t,e){c[t]="function"==typeof e?e:String(e)}function d(t,e){if(o(t,"expected is required"),o("string"==typeof e,"thing is required"),Array.isArray(t)){var r=t.length;return o(r>0,"At least one expected value needs to be specified"),t=t.map((function(t){return String(t)})),r>2?"one of "+e+" "+t.slice(0,r-1).join(", ")+", or "+t[r-1]:2===r?"one of "+e+" "+t[0]+" or "+t[1]:"of "+e+" "+t[0]}return"of "+e+" "+String(t)}e.AssertionError=u,e.message=f,e.E=l,e.Error=h(global.Error),e.TypeError=h(global.TypeError),e.RangeError=h(global.RangeError),l("ERR_ARG_NOT_ITERABLE","%s must be iterable"),l("ERR_ASSERTION","%s"),l("ERR_BUFFER_OUT_OF_BOUNDS",(function(t,e){return e?"Attempt to write outside buffer bounds":'"'+t+'" is outside of buffer bounds'})),l("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),l("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),l("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),l("ERR_DNS_SET_SERVERS_FAILED",(function(t,e){return'c-ares failed to set servers: "'+t+'" ['+e+"]"})),l("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),l("ERR_ENCODING_NOT_SUPPORTED",(function(t){return'The "'+t+'" encoding is not supported'})),l("ERR_ENCODING_INVALID_ENCODED_DATA",(function(t){return"The encoded data was not valid for encoding "+t})),l("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),l("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),l("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),l("ERR_INDEX_OUT_OF_RANGE","Index out of range"),l("ERR_INVALID_ARG_TYPE",(function(t,e,r){var i,n;if(o(t,"name is required"),e.includes("not ")?(i="must not be",e=e.split("not ")[1]):i="must be",Array.isArray(t)){var s=t.map((function(t){return'"'+t+'"'})).join(", ");n="The "+s+" arguments "+i+" "+d(e,"type")}else if(t.includes(" argument"))n="The "+t+" "+i+" "+d(e,"type");else{var a=t.includes(".")?"property":"argument";n='The "'+t+'" '+a+" "+i+" "+d(e,"type")}return arguments.length>=3&&(n+=". Received type "+(null!==r?typeof r:"null")),n})),l("ERR_INVALID_ARRAY_LENGTH",(function(t,e,r){return o.strictEqual(typeof r,"number"),'The array "'+t+'" (length '+r+") must be of length "+e+"."})),l("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),l("ERR_INVALID_CALLBACK","Callback must be a function"),l("ERR_INVALID_CHAR","Invalid character in %s"),l("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),l("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),l("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),l("ERR_INVALID_FILE_URL_PATH","File URL path %s"),l("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),l("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),l("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+String(e)+'" is invalid for option "'+t+'"'})),l("ERR_INVALID_OPT_VALUE_ENCODING",(function(t){return'The value "'+String(t)+'" is invalid for option "encoding"'})),l("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),l("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),l("ERR_INVALID_THIS",'Value of "this" must be of type %s'),l("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),l("ERR_INVALID_URL","Invalid URL: %s"),l("ERR_INVALID_URL_SCHEME",(function(t){return"The URL must be "+d(t,"scheme")})),l("ERR_IPC_CHANNEL_CLOSED","Channel closed"),l("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),l("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),l("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),l("ERR_MISSING_ARGS",(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o(t.length>0,"At least one arg needs to be specified");var r="The ",i=t.length;switch(t=t.map((function(t){return'"'+t+'"'})),i){case 1:r+=t[0]+" argument";break;case 2:r+=t[0]+" and "+t[1]+" arguments";break;default:r+=t.slice(0,i-1).join(", "),r+=", and "+t[i-1]+" arguments"}return r+" must be specified"})),l("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),l("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),l("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),l("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),l("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),l("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),l("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),l("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),l("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),l("ERR_SOCKET_CANNOT_SEND","Unable to send data"),l("ERR_SOCKET_CLOSED","Socket is closed"),l("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),l("ERR_STDERR_CLOSE","process.stderr cannot be closed"),l("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),l("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),l("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),l("ERR_TLS_DH_PARAM_SIZE",(function(t){return"DH parameter size "+t+" is less than 2048"})),l("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),l("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),l("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),l("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),l("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),l("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),l("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),l("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),l("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),l("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),l("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl")},2792:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(1577),s=r(3154),a=r(6764),c=r(8614),h=r(1363),u=a.constants.S_IFMT,f=a.constants.S_IFDIR,l=a.constants.S_IFREG,d=(a.constants.S_IFBLK,a.constants.S_IFCHR,a.constants.S_IFLNK),p=(a.constants.S_IFIFO,a.constants.S_IFSOCK,a.constants.O_APPEND);e.SEP="/";var _=function(t){function e(e,r){void 0===r&&(r=438);var i=t.call(this)||this;return i.uid=o.default.getuid(),i.gid=o.default.getgid(),i.atime=new Date,i.mtime=new Date,i.ctime=new Date,i.perm=438,i.mode=l,i.nlink=1,i.perm=r,i.mode|=r,i.ino=e,i}return n(e,t),e.prototype.getString=function(t){return void 0===t&&(t="utf8"),this.getBuffer().toString(t)},e.prototype.setString=function(t){this.buf=s.bufferFrom(t,"utf8"),this.touch()},e.prototype.getBuffer=function(){return this.buf||this.setBuffer(s.bufferAllocUnsafe(0)),s.bufferFrom(this.buf)},e.prototype.setBuffer=function(t){this.buf=s.bufferFrom(t),this.touch()},e.prototype.getSize=function(){return this.buf?this.buf.length:0},e.prototype.setModeProperty=function(t){this.mode=this.mode&~u|t},e.prototype.setIsFile=function(){this.setModeProperty(l)},e.prototype.setIsDirectory=function(){this.setModeProperty(f)},e.prototype.setIsSymlink=function(){this.setModeProperty(d)},e.prototype.isFile=function(){return(this.mode&u)===l},e.prototype.isDirectory=function(){return(this.mode&u)===f},e.prototype.isSymlink=function(){return(this.mode&u)===d},e.prototype.makeSymlink=function(t){this.symlink=t,this.setIsSymlink()},e.prototype.write=function(t,e,r,i){if(void 0===e&&(e=0),void 0===r&&(r=t.length),void 0===i&&(i=0),this.buf||(this.buf=s.bufferAllocUnsafe(0)),i+r>this.buf.length){var n=s.bufferAllocUnsafe(i+r);this.buf.copy(n,0,0,this.buf.length),this.buf=n}return t.copy(this.buf,i,e,e+r),this.touch(),r},e.prototype.read=function(t,e,r,i){void 0===e&&(e=0),void 0===r&&(r=t.byteLength),void 0===i&&(i=0),this.buf||(this.buf=s.bufferAllocUnsafe(0));var n=r;return n>t.byteLength&&(n=t.byteLength),n+i>this.buf.length&&(n=this.buf.length-i),this.buf.copy(t,e,i,i+n),n},e.prototype.truncate=function(t){if(void 0===t&&(t=0),t)if(this.buf||(this.buf=s.bufferAllocUnsafe(0)),t<=this.buf.length)this.buf=this.buf.slice(0,t);else{var e=s.bufferAllocUnsafe(0);this.buf.copy(e),e.fill(0,t)}else this.buf=s.bufferAllocUnsafe(0);this.touch()},e.prototype.chmod=function(t){this.perm=t,this.mode=-512&this.mode|t,this.touch()},e.prototype.chown=function(t,e){this.uid=t,this.gid=e,this.touch()},e.prototype.touch=function(){this.mtime=new Date,this.emit("change",this)},e.prototype.canRead=function(t,e){return void 0===t&&(t=o.default.getuid()),void 0===e&&(e=o.default.getgid()),!!(4&this.perm)||!!(e===this.gid&&32&this.perm)||!!(t===this.uid&&256&this.perm)},e.prototype.canWrite=function(t,e){return void 0===t&&(t=o.default.getuid()),void 0===e&&(e=o.default.getgid()),!!(2&this.perm)||!!(e===this.gid&&16&this.perm)||!!(t===this.uid&&128&this.perm)},e.prototype.del=function(){this.emit("delete",this)},e.prototype.toJSON=function(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},e}(c.EventEmitter);e.Node=_;var S=function(t){function r(e,r,i){var n=t.call(this)||this;return n.children={},n.steps=[],n.ino=0,n.length=0,n.vol=e,n.parent=r,n.steps=r?r.steps.concat([i]):[i],n}return n(r,t),r.prototype.setNode=function(t){this.node=t,this.ino=t.ino},r.prototype.getNode=function(){return this.node},r.prototype.createChild=function(t,e){void 0===e&&(e=this.vol.createNode());var i=new r(this.vol,this,t);return i.setNode(e),e.isDirectory(),this.setChild(t,i),i},r.prototype.setChild=function(t,e){return void 0===e&&(e=new r(this.vol,this,t)),this.children[t]=e,e.parent=this,this.length++,this.emit("child:add",e,this),e},r.prototype.deleteChild=function(t){delete this.children[t.getName()],this.length--,this.emit("child:delete",t,this)},r.prototype.getChild=function(t){if(Object.hasOwnProperty.call(this.children,t))return this.children[t]},r.prototype.getPath=function(){return this.steps.join(e.SEP)},r.prototype.getName=function(){return this.steps[this.steps.length-1]},r.prototype.walk=function(t,e,r){if(void 0===e&&(e=t.length),void 0===r&&(r=0),r>=t.length)return this;if(r>=e)return this;var i=t[r],n=this.getChild(i);return n?n.walk(t,e,r+1):null},r.prototype.toJSON=function(){return{steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},r}(c.EventEmitter);e.Link=S;var y=function(){function t(t,e,r,i){this.position=0,this.link=t,this.node=e,this.flags=r,this.fd=i}return t.prototype.getString=function(t){return void 0===t&&(t="utf8"),this.node.getString()},t.prototype.setString=function(t){this.node.setString(t)},t.prototype.getBuffer=function(){return this.node.getBuffer()},t.prototype.setBuffer=function(t){this.node.setBuffer(t)},t.prototype.getSize=function(){return this.node.getSize()},t.prototype.truncate=function(t){this.node.truncate(t)},t.prototype.seekTo=function(t){this.position=t},t.prototype.stats=function(){return h.default.build(this.node)},t.prototype.write=function(t,e,r,i){void 0===e&&(e=0),void 0===r&&(r=t.length),"number"!=typeof i&&(i=this.position),this.flags&p&&(i=this.getSize());var n=this.node.write(t,e,r,i);return this.position=i+n,n},t.prototype.read=function(t,e,r,i){void 0===e&&(e=0),void 0===r&&(r=t.byteLength),"number"!=typeof i&&(i=this.position);var n=this.node.read(t,e,r,i);return this.position=i+n,n},t.prototype.chmod=function(t){this.node.chmod(t)},t.prototype.chown=function(t,e){this.node.chown(t,e)},t}();e.File=y},1577:(t,e,r)=>{"use strict";function i(){var t=function(){if("undefined"!=typeof process)return process;try{return r(1765)}catch(t){return}}()||{};return t.getuid||(t.getuid=function(){return 0}),t.getgid||(t.getgid=function(){return 0}),t.cwd||(t.cwd=function(){return"/"}),t.nextTick||(t.nextTick=r(4200).default),t.emitWarning||(t.emitWarning=function(t,e){console.warn(e+(e?": ":"")+t)}),t.env||(t.env={}),t}Object.defineProperty(e,"__esModule",{value:!0}),e.createProcess=i,e.default=i()},6594:function(t,e){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i};function i(t,e,i){return void 0===i&&(i=function(t){return t}),function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return new Promise((function(o,s){t[e].bind(t).apply(void 0,r(n,[function(t,e){return t?s(t):o(i(e))}]))}))}}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.vol=t,this.fd=e}return t.prototype.appendFile=function(t,e){return i(this.vol,"appendFile")(this.fd,t,e)},t.prototype.chmod=function(t){return i(this.vol,"fchmod")(this.fd,t)},t.prototype.chown=function(t,e){return i(this.vol,"fchown")(this.fd,t,e)},t.prototype.close=function(){return i(this.vol,"close")(this.fd)},t.prototype.datasync=function(){return i(this.vol,"fdatasync")(this.fd)},t.prototype.read=function(t,e,r,n){return i(this.vol,"read",(function(e){return{bytesRead:e,buffer:t}}))(this.fd,t,e,r,n)},t.prototype.readFile=function(t){return i(this.vol,"readFile")(this.fd,t)},t.prototype.stat=function(t){return i(this.vol,"fstat")(this.fd,t)},t.prototype.sync=function(){return i(this.vol,"fsync")(this.fd)},t.prototype.truncate=function(t){return i(this.vol,"ftruncate")(this.fd,t)},t.prototype.utimes=function(t,e){return i(this.vol,"futimes")(this.fd,t,e)},t.prototype.write=function(t,e,r,n){return i(this.vol,"write",(function(e){return{bytesWritten:e,buffer:t}}))(this.fd,t,e,r,n)},t.prototype.writeFile=function(t,e){return i(this.vol,"writeFile")(this.fd,t,e)},t}();e.FileHandle=n,e.default=function(t){return"undefined"==typeof Promise?null:{FileHandle:n,access:function(e,r){return i(t,"access")(e,r)},appendFile:function(e,r,o){return i(t,"appendFile")(e instanceof n?e.fd:e,r,o)},chmod:function(e,r){return i(t,"chmod")(e,r)},chown:function(e,r,n){return i(t,"chown")(e,r,n)},copyFile:function(e,r,n){return i(t,"copyFile")(e,r,n)},lchmod:function(e,r){return i(t,"lchmod")(e,r)},lchown:function(e,r,n){return i(t,"lchown")(e,r,n)},link:function(e,r){return i(t,"link")(e,r)},lstat:function(e,r){return i(t,"lstat")(e,r)},mkdir:function(e,r){return i(t,"mkdir")(e,r)},mkdtemp:function(e,r){return i(t,"mkdtemp")(e,r)},open:function(e,r,o){return i(t,"open",(function(e){return new n(t,e)}))(e,r,o)},readdir:function(e,r){return i(t,"readdir")(e,r)},readFile:function(e,r){return i(t,"readFile")(e instanceof n?e.fd:e,r)},readlink:function(e,r){return i(t,"readlink")(e,r)},realpath:function(e,r){return i(t,"realpath")(e,r)},rename:function(e,r){return i(t,"rename")(e,r)},rmdir:function(e){return i(t,"rmdir")(e)},stat:function(e,r){return i(t,"stat")(e,r)},symlink:function(e,r,n){return i(t,"symlink")(e,r,n)},truncate:function(e,r){return i(t,"truncate")(e,r)},unlink:function(e){return i(t,"unlink")(e)},utimes:function(e,r,n){return i(t,"utimes")(e,r,n)},writeFile:function(e,r,o){return i(t,"writeFile")(e instanceof n?e.fd:e,r,o)}}}},4200:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),r="function"==typeof setImmediate?setImmediate.bind(global):setTimeout.bind(global),e.default=r},2085:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var i=setTimeout.apply(null,arguments);return i&&"object"==typeof i&&"function"==typeof i.unref&&i.unref(),i}},9258:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i};Object.defineProperty(e,"__esModule",{value:!0});var s,a,c=r(5622),h=r(2792),u=r(1363),f=r(5173),l=r(3154),d=r(4200),p=r(1577),_=r(2085),S=r(2413),y=r(6764),I=r(8614),E=r(9210),m=r(1212),g=r(5404).l,A=r(1669),v=r(6594),T=c.resolve,R=y.constants.O_RDONLY,w=y.constants.O_WRONLY,O=y.constants.O_RDWR,b=y.constants.O_CREAT,N=y.constants.O_EXCL,F=y.constants.O_TRUNC,C=y.constants.O_APPEND,L=y.constants.O_SYNC,W=y.constants.O_DIRECTORY,P=y.constants.F_OK,k=y.constants.COPYFILE_EXCL,D=y.constants.COPYFILE_FICLONE_FORCE;if(c.posix){var B=c.posix;s=B.sep,a=B.relative}else s=c.sep,a=c.relative;var G,M="win32"===p.default.platform,U="path must be a string or Buffer",H="fd must be a file descriptor",x="callback must be a function",Y="ENOENT",K="EBADF",V="EINVAL",j="EEXIST",X="ENOTDIR",z="EMFILE",$="EACCES",q="EISDIR",J="ENOTEMPTY",Z="ENOSYS";function Q(t,e,r,i,n){void 0===e&&(e=""),void 0===r&&(r=""),void 0===i&&(i=""),void 0===n&&(n=Error);var o=new n(function(t,e,r,i){void 0===e&&(e=""),void 0===r&&(r=""),void 0===i&&(i="");var n="";switch(r&&(n=" '"+r+"'"),i&&(n+=" -> '"+i+"'"),t){case Y:return"ENOENT: no such file or directory, "+e+n;case K:return"EBADF: bad file descriptor, "+e+n;case V:return"EINVAL: invalid argument, "+e+n;case"EPERM":return"EPERM: operation not permitted, "+e+n;case"EPROTO":return"EPROTO: protocol error, "+e+n;case j:return"EEXIST: file already exists, "+e+n;case X:return"ENOTDIR: not a directory, "+e+n;case q:return"EISDIR: illegal operation on a directory, "+e+n;case $:return"EACCES: permission denied, "+e+n;case J:return"ENOTEMPTY: directory not empty, "+e+n;case z:return"EMFILE: too many open files, "+e+n;case Z:return"ENOSYS: function not implemented, "+e+n;default:return t+": error occurred, "+e+n}}(t,e,r,i));return o.code=t,o}function tt(t){if("number"==typeof t)return t;if("string"==typeof t){var e=G[t];if(void 0!==e)return e}throw new m.TypeError("ERR_INVALID_OPT_VALUE","flags",t)}function et(t,e){var r;if(!e)return t;var i=typeof e;switch(i){case"string":r=g({},t,{encoding:e});break;case"object":r=g({},t,e);break;default:throw TypeError(function(t){return"Expected options to be either an object or a string, but got "+t+" instead"}(i))}return"buffer"!==r.encoding&&E.assertEncoding(r.encoding),r}function rt(t){return function(e){return et(t,e)}}function it(t){if("function"!=typeof t)throw TypeError(x);return t}function nt(t){return function(e,r){return"function"==typeof e?[t(),e]:[t(e),it(r)]}}!function(t){t[t.r=R]="r",t[t["r+"]=O]="r+",t[t.rs=R|L]="rs",t[t.sr=t.rs]="sr",t[t["rs+"]=O|L]="rs+",t[t["sr+"]=t["rs+"]]="sr+",t[t.w=w|b|F]="w",t[t.wx=w|b|F|N]="wx",t[t.xw=t.wx]="xw",t[t["w+"]=O|b|F]="w+",t[t["wx+"]=O|b|F|N]="wx+",t[t["xw+"]=t["wx+"]]="xw+",t[t.a=w|C|b]="a",t[t.ax=w|C|b|N]="ax",t[t.xa=t.ax]="xa",t[t["a+"]=O|C|b]="a+",t[t["ax+"]=O|C|b|N]="ax+",t[t["xa+"]=t["ax+"]]="xa+"}(G=e.FLAGS||(e.FLAGS={})),e.flagsToNumber=tt;var ot={encoding:"utf8"},st=rt(ot),at=nt(st),ct=rt({flag:"r"}),ht={encoding:"utf8",mode:438,flag:G[G.w]},ut=rt(ht),ft={encoding:"utf8",mode:438,flag:G[G.a]},lt=rt(ft),dt=nt(lt),pt=rt(ot),_t=nt(pt),St={mode:511,recursive:!1},yt=function(t){return g({},St,"number"==typeof t?{mode:t}:t)},It={recursive:!1},Et=function(t){return g({},It,t)},mt=rt({encoding:"utf8",withFileTypes:!1}),gt=nt(mt),At={bigint:!1},vt=function(t){return void 0===t&&(t={}),g({},At,t)},Tt=function(t,e){return"function"==typeof t?[vt(),t]:[vt(t),it(e)]};function Rt(t){if("string"!=typeof t&&!l.Buffer.isBuffer(t)){try{if(!(t instanceof r(8835).URL))throw new TypeError(U)}catch(t){throw new TypeError(U)}t=function(t){if(""!==t.hostname)throw new m.TypeError("ERR_INVALID_FILE_URL_HOST",p.default.platform);for(var e=t.pathname,r=0;r<e.length;r++)if("%"===e[r]){var i=32|e.codePointAt(r+2);if("2"===e[r+1]&&102===i)throw new m.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}return decodeURIComponent(e)}(t)}var e=String(t);return Wt(e),e}e.pathToFilename=Rt;var wt=function(t,e){return void 0===e&&(e=p.default.cwd()),T(e,t)};if(M){var Ot=wt,bt=r(5267).Z4;wt=function(t,e){return bt(Ot(t,e))}}function Nt(t,e){var r=wt(t,e).substr(1);return r?r.split(s):[]}function Ft(t){return Nt(Rt(t))}function Ct(t,e){return void 0===e&&(e=E.ENCODING_UTF8),l.Buffer.isBuffer(t)?t:t instanceof Uint8Array?l.bufferFrom(t):l.bufferFrom(String(t),e)}function Lt(t,e){return e&&"buffer"!==e?t.toString(e):t}function Wt(t,e){if(-1!==(""+t).indexOf("\0")){var r=new Error("Path must be a string without null bytes");if(r.code=Y,"function"!=typeof e)throw r;return p.default.nextTick(e,r),!1}return!0}function Pt(t,e){var r=function(t,e){return"number"==typeof t?t:"string"==typeof t?parseInt(t,8):e?Pt(e):void 0}(t,e);if("number"!=typeof r||isNaN(r))throw new TypeError("mode must be an int");return r}function kt(t){return t>>>0===t}function Dt(t){if(!kt(t))throw TypeError(H)}function Bt(t){if("string"==typeof t&&+t==t)return+t;if(t instanceof Date)return t.getTime()/1e3;if(isFinite(t))return t<0?Date.now()/1e3:t;throw new Error("Cannot parse time: "+t)}function Gt(t){if("number"!=typeof t)throw TypeError("uid must be an unsigned int")}function Mt(t){if("number"!=typeof t)throw TypeError("gid must be an unsigned int")}e.filenameToSteps=Nt,e.pathToSteps=Ft,e.dataToStr=function(t,e){return void 0===e&&(e=E.ENCODING_UTF8),l.Buffer.isBuffer(t)?t.toString(e):t instanceof Uint8Array?l.bufferFrom(t).toString(e):String(t)},e.dataToBuffer=Ct,e.bufferToEncoding=Lt,e.toUnixTimestamp=Bt;var Ut=function(){function t(t){void 0===t&&(t={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=v.default(this),this.statWatchers={},this.props=g({Node:h.Node,Link:h.Link,File:h.File},t);var e=this.createLink();e.setNode(this.createNode(!0));var r=this;this.StatWatcher=function(t){function e(){return t.call(this,r)||this}return n(e,t),e}(Yt);var i=Kt;this.ReadStream=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.apply(this,o([r],e))||this}return n(e,t),e}(i);var s=jt;this.WriteStream=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.apply(this,o([r],e))||this}return n(e,t),e}(s),this.FSWatcher=function(t){function e(){return t.call(this,r)||this}return n(e,t),e}(Xt),this.root=e}return t.fromJSON=function(e,r){var i=new t;return i.fromJSON(e,r),i},Object.defineProperty(t.prototype,"promises",{get:function(){if(null===this.promisesApi)throw new Error("Promise is not supported in this environment.");return this.promisesApi},enumerable:!0,configurable:!0}),t.prototype.createLink=function(t,e,r,i){if(void 0===r&&(r=!1),!t)return new this.props.Link(this,null,"");if(!e)throw new Error("createLink: name cannot be empty");return t.createChild(e,this.createNode(r,i))},t.prototype.deleteLink=function(t){var e=t.parent;return!!e&&(e.deleteChild(t),!0)},t.prototype.newInoNumber=function(){return this.releasedInos.pop()||(this.ino=(this.ino+1)%4294967295,this.ino)},t.prototype.newFdNumber=function(){var e=this.releasedFds.pop();return"number"==typeof e?e:t.fd--},t.prototype.createNode=function(t,e){void 0===t&&(t=!1);var r=new this.props.Node(this.newInoNumber(),e);return t&&r.setIsDirectory(),this.inodes[r.ino]=r,r},t.prototype.getNode=function(t){return this.inodes[t]},t.prototype.deleteNode=function(t){t.del(),delete this.inodes[t.ino],this.releasedInos.push(t.ino)},t.prototype.genRndStr=function(){var t=(Math.random()+1).toString(36).substr(2,6);return 6===t.length?t:this.genRndStr()},t.prototype.getLink=function(t){return this.root.walk(t)},t.prototype.getLinkOrThrow=function(t,e){var r=Nt(t),i=this.getLink(r);if(!i)throw Q(Y,e,t);return i},t.prototype.getResolvedLink=function(t){for(var e="string"==typeof t?Nt(t):t,r=this.root,i=0;i<e.length;){var n=e[i];if(!(r=r.getChild(n)))return null;var o=r.getNode();o.isSymlink()?(e=o.symlink.concat(e.slice(i+1)),r=this.root,i=0):i++}return r},t.prototype.getResolvedLinkOrThrow=function(t,e){var r=this.getResolvedLink(t);if(!r)throw Q(Y,e,t);return r},t.prototype.resolveSymlinks=function(t){return this.getResolvedLink(t.steps.slice(1))},t.prototype.getLinkAsDirOrThrow=function(t,e){var r=this.getLinkOrThrow(t,e);if(!r.getNode().isDirectory())throw Q(X,e,t);return r},t.prototype.getLinkParent=function(t){return this.root.walk(t,t.length-1)},t.prototype.getLinkParentAsDirOrThrow=function(t,e){var r=t instanceof Array?t:Nt(t),i=this.getLinkParent(r);if(!i)throw Q(Y,e,s+r.join(s));if(!i.getNode().isDirectory())throw Q(X,e,s+r.join(s));return i},t.prototype.getFileByFd=function(t){return this.fds[String(t)]},t.prototype.getFileByFdOrThrow=function(t,e){if(!kt(t))throw TypeError(H);var r=this.getFileByFd(t);if(!r)throw Q(K,e);return r},t.prototype.getNodeByIdOrCreate=function(t,e,r){if("number"==typeof t){var i=this.getFileByFd(t);if(!i)throw Error("File nto found");return i.node}var n=Ft(t),o=this.getLink(n);if(o)return o.getNode();if(e&b){var s=this.getLinkParent(n);if(s){var a=n[n.length-1];return(o=this.createLink(s,a,!1,r)).getNode()}}throw Q(Y,"getNodeByIdOrCreate",Rt(t))},t.prototype.wrapAsync=function(t,e,r){var i=this;it(r),d.default((function(){try{r(null,t.apply(i,e))}catch(t){r(t)}}))},t.prototype._toJSON=function(t,e,r){var i;void 0===t&&(t=this.root),void 0===e&&(e={});var n=!0,o=t.children;for(var s in t.getNode().isFile()&&((i={})[t.getName()]=t.parent.getChild(t.getName()),o=i,t=t.parent),o){n=!1;var c=t.getChild(s);if(!c)throw new Error("_toJSON: unexpected undefined");var h=c.getNode();if(h.isFile()){var u=c.getPath();r&&(u=a(r,u)),e[u]=h.getString()}else h.isDirectory()&&this._toJSON(c,e,r)}var f=t.getPath();return r&&(f=a(r,f)),f&&n&&(e[f]=null),e},t.prototype.toJSON=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=!1);var i=[];if(t){t instanceof Array||(t=[t]);for(var n=0,o=t;n<o.length;n++){var s=Rt(o[n]);(h=this.getResolvedLink(s))&&i.push(h)}}else i.push(this.root);if(!i.length)return e;for(var a=0,c=i;a<c.length;a++){var h=c[a];this._toJSON(h,e,r?h.getPath():"")}return e},t.prototype.fromJSON=function(t,e){for(var r in void 0===e&&(e=p.default.cwd()),t){var i=t[r];if("string"==typeof i){var n=Nt(r=wt(r,e));if(n.length>1){var o=s+n.slice(0,n.length-1).join(s);this.mkdirpBase(o,511)}this.writeFileSync(r,i)}else this.mkdirpBase(r,511)}},t.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))},t.prototype.mountSync=function(t,e){this.fromJSON(e,t)},t.prototype.openLink=function(t,e,r){if(void 0===r&&(r=!0),this.openFiles>=this.maxFiles)throw Q(z,"open",t.getPath());var i=t;if(r&&(i=this.resolveSymlinks(t)),!i)throw Q(Y,"open",t.getPath());var n=i.getNode();if(n.isDirectory()){if((e&(R|O|w))!==R)throw Q(q,"open",t.getPath())}else if(e&W)throw Q(X,"open",t.getPath());if(!(e&w||n.canRead()))throw Q($,"open",t.getPath());var o=new this.props.File(t,n,e,this.newFdNumber());return this.fds[o.fd]=o,this.openFiles++,e&F&&o.truncate(),o},t.prototype.openFile=function(t,e,r,i){void 0===i&&(i=!0);var n=Nt(t),o=i?this.getResolvedLink(n):this.getLink(n);if(!o&&e&b){var a=this.getResolvedLink(n.slice(0,n.length-1));if(!a)throw Q(Y,"open",s+n.join(s));e&b&&"number"==typeof r&&(o=this.createLink(a,n[n.length-1],!1,r))}if(o)return this.openLink(o,e,i);throw Q(Y,"open",t)},t.prototype.openBase=function(t,e,r,i){void 0===i&&(i=!0);var n=this.openFile(t,e,r,i);if(!n)throw Q(Y,"open",t);return n.fd},t.prototype.openSync=function(t,e,r){void 0===r&&(r=438);var i=Pt(r),n=Rt(t),o=tt(e);return this.openBase(n,o,i)},t.prototype.open=function(t,e,r,i){var n=r,o=i;"function"==typeof r&&(n=438,o=r);var s=Pt(n=n||438),a=Rt(t),c=tt(e);this.wrapAsync(this.openBase,[a,c,s],o)},t.prototype.closeFile=function(t){this.fds[t.fd]&&(this.openFiles--,delete this.fds[t.fd],this.releasedFds.push(t.fd))},t.prototype.closeSync=function(t){Dt(t);var e=this.getFileByFdOrThrow(t,"close");this.closeFile(e)},t.prototype.close=function(t,e){Dt(t),this.wrapAsync(this.closeSync,[t],e)},t.prototype.openFileOrGetById=function(t,e,r){if("number"==typeof t){var i=this.fds[t];if(!i)throw Q(Y);return i}return this.openFile(Rt(t),e,r)},t.prototype.readBase=function(t,e,r,i,n){return this.getFileByFdOrThrow(t).read(e,Number(r),Number(i),n)},t.prototype.readSync=function(t,e,r,i,n){return Dt(t),this.readBase(t,e,r,i,n)},t.prototype.read=function(t,e,r,i,n,o){var s=this;if(it(o),0===i)return p.default.nextTick((function(){o&&o(null,0,e)}));d.default((function(){try{var a=s.readBase(t,e,r,i,n);o(null,a,e)}catch(t){o(t)}}))},t.prototype.readFileBase=function(t,e,r){var i,n,o="number"==typeof t&&kt(t);if(o)n=t;else{var s=Nt(Rt(t)),a=this.getResolvedLink(s);if(a&&a.getNode().isDirectory())throw Q(q,"open",a.getPath());n=this.openSync(t,e)}try{i=Lt(this.getFileByFdOrThrow(n).getBuffer(),r)}finally{o||this.closeSync(n)}return i},t.prototype.readFileSync=function(t,e){var r=ct(e),i=tt(r.flag);return this.readFileBase(t,i,r.encoding)},t.prototype.readFile=function(t,e,r){var i=nt(ct)(e,r),n=i[0],o=i[1],s=tt(n.flag);this.wrapAsync(this.readFileBase,[t,s,n.encoding],o)},t.prototype.writeBase=function(t,e,r,i,n){return this.getFileByFdOrThrow(t,"write").write(e,r,i,n)},t.prototype.writeSync=function(t,e,r,i,n){var o,s,a,c;Dt(t);var h="string"!=typeof e;h?(s=0|(r||0),a=i,c=n):(c=r,o=i);var u=Ct(e,o);return h?void 0===a&&(a=u.length):(s=0,a=u.length),this.writeBase(t,u,s,a,c)},t.prototype.write=function(t,e,r,i,n,o){var s,a,c,h,u,f=this;Dt(t);var l=typeof e,p=typeof r,_=typeof i,S=typeof n;"string"!==l?"function"===p?u=r:"function"===_?(s=0|r,u=i):"function"===S?(s=0|r,a=i,u=n):(s=0|r,a=i,c=n,u=o):"function"===p?u=r:"function"===_?(c=r,u=i):"function"===S&&(c=r,h=i,u=n);var y=Ct(e,h);"string"!==l?void 0===a&&(a=y.length):(s=0,a=y.length);var I=it(u);d.default((function(){try{var r=f.writeBase(t,y,s,a,c);I(null,r,"string"!==l?y:e)}catch(t){I(t)}}))},t.prototype.writeFileBase=function(t,e,r,i){var n,o="number"==typeof t;n=o?t:this.openBase(Rt(t),r,i);var s=0,a=e.length,c=r&C?void 0:0;try{for(;a>0;){var h=this.writeSync(n,e,s,a,c);s+=h,a-=h,void 0!==c&&(c+=h)}}finally{o||this.closeSync(n)}},t.prototype.writeFileSync=function(t,e,r){var i=ut(r),n=tt(i.flag),o=Pt(i.mode),s=Ct(e,i.encoding);this.writeFileBase(t,s,n,o)},t.prototype.writeFile=function(t,e,r,i){var n=r,o=i;"function"==typeof r&&(n=ht,o=r);var s=it(o),a=ut(n),c=tt(a.flag),h=Pt(a.mode),u=Ct(e,a.encoding);this.wrapAsync(this.writeFileBase,[t,u,c,h],s)},t.prototype.linkBase=function(t,e){var r=Nt(t),i=this.getLink(r);if(!i)throw Q(Y,"link",t,e);var n=Nt(e),o=this.getLinkParent(n);if(!o)throw Q(Y,"link",t,e);var s=n[n.length-1];if(o.getChild(s))throw Q(j,"link",t,e);var a=i.getNode();a.nlink++,o.createChild(s,a)},t.prototype.copyFileBase=function(t,e,r){var i=this.readFileSync(t);if(r&k&&this.existsSync(e))throw Q(j,"copyFile",t,e);if(r&D)throw Q(Z,"copyFile",t,e);this.writeFileBase(e,i,G.w,438)},t.prototype.copyFileSync=function(t,e,r){var i=Rt(t),n=Rt(e);return this.copyFileBase(i,n,0|(r||0))},t.prototype.copyFile=function(t,e,r,i){var n,o,s=Rt(t),a=Rt(e);"function"==typeof r?(n=0,o=r):(n=r,o=i),it(o),this.wrapAsync(this.copyFileBase,[s,a,n],o)},t.prototype.linkSync=function(t,e){var r=Rt(t),i=Rt(e);this.linkBase(r,i)},t.prototype.link=function(t,e,r){var i=Rt(t),n=Rt(e);this.wrapAsync(this.linkBase,[i,n],r)},t.prototype.unlinkBase=function(t){var e=Nt(t),r=this.getLink(e);if(!r)throw Q(Y,"unlink",t);if(r.length)throw Error("Dir not empty...");this.deleteLink(r);var i=r.getNode();i.nlink--,i.nlink<=0&&this.deleteNode(i)},t.prototype.unlinkSync=function(t){var e=Rt(t);this.unlinkBase(e)},t.prototype.unlink=function(t,e){var r=Rt(t);this.wrapAsync(this.unlinkBase,[r],e)},t.prototype.symlinkBase=function(t,e){var r=Nt(e),i=this.getLinkParent(r);if(!i)throw Q(Y,"symlink",t,e);var n=r[r.length-1];if(i.getChild(n))throw Q(j,"symlink",t,e);var o=i.createChild(n);return o.getNode().makeSymlink(Nt(t)),o},t.prototype.symlinkSync=function(t,e,r){var i=Rt(t),n=Rt(e);this.symlinkBase(i,n)},t.prototype.symlink=function(t,e,r,i){var n=it("function"==typeof r?r:i),o=Rt(t),s=Rt(e);this.wrapAsync(this.symlinkBase,[o,s],n)},t.prototype.realpathBase=function(t,e){var r=Nt(t),i=this.getResolvedLink(r);if(!i)throw Q(Y,"realpath",t);return E.strToEncoding(i.getPath(),e)},t.prototype.realpathSync=function(t,e){return this.realpathBase(Rt(t),pt(e).encoding)},t.prototype.realpath=function(t,e,r){var i=_t(e,r),n=i[0],o=i[1],s=Rt(t);this.wrapAsync(this.realpathBase,[s,n.encoding],o)},t.prototype.lstatBase=function(t,e){void 0===e&&(e=!1);var r=this.getLink(Nt(t));if(!r)throw Q(Y,"lstat",t);return u.default.build(r.getNode(),e)},t.prototype.lstatSync=function(t,e){return this.lstatBase(Rt(t),vt(e).bigint)},t.prototype.lstat=function(t,e,r){var i=Tt(e,r),n=i[0],o=i[1];this.wrapAsync(this.lstatBase,[Rt(t),n.bigint],o)},t.prototype.statBase=function(t,e){void 0===e&&(e=!1);var r=this.getResolvedLink(Nt(t));if(!r)throw Q(Y,"stat",t);return u.default.build(r.getNode(),e)},t.prototype.statSync=function(t,e){return this.statBase(Rt(t),vt(e).bigint)},t.prototype.stat=function(t,e,r){var i=Tt(e,r),n=i[0],o=i[1];this.wrapAsync(this.statBase,[Rt(t),n.bigint],o)},t.prototype.fstatBase=function(t,e){void 0===e&&(e=!1);var r=this.getFileByFd(t);if(!r)throw Q(K,"fstat");return u.default.build(r.node,e)},t.prototype.fstatSync=function(t,e){return this.fstatBase(t,vt(e).bigint)},t.prototype.fstat=function(t,e,r){var i=Tt(e,r),n=i[0],o=i[1];this.wrapAsync(this.fstatBase,[t,n.bigint],o)},t.prototype.renameBase=function(t,e){var r=this.getLink(Nt(t));if(!r)throw Q(Y,"rename",t,e);var i=Nt(e),n=this.getLinkParent(i);if(!n)throw Q(Y,"rename",t,e);var s=r.parent;s&&s.deleteChild(r);var a=i[i.length-1];r.steps=o(n.steps,[a]),n.setChild(r.getName(),r)},t.prototype.renameSync=function(t,e){var r=Rt(t),i=Rt(e);this.renameBase(r,i)},t.prototype.rename=function(t,e,r){var i=Rt(t),n=Rt(e);this.wrapAsync(this.renameBase,[i,n],r)},t.prototype.existsBase=function(t){return!!this.statBase(t)},t.prototype.existsSync=function(t){try{return this.existsBase(Rt(t))}catch(t){return!1}},t.prototype.exists=function(t,e){var r=this,i=Rt(t);if("function"!=typeof e)throw Error(x);d.default((function(){try{e(r.existsBase(i))}catch(t){e(!1)}}))},t.prototype.accessBase=function(t,e){this.getLinkOrThrow(t,"access")},t.prototype.accessSync=function(t,e){void 0===e&&(e=P);var r=Rt(t);e|=0,this.accessBase(r,e)},t.prototype.access=function(t,e,r){var i,n=P;"function"!=typeof e?(n=0|e,i=it(r)):i=e;var o=Rt(t);this.wrapAsync(this.accessBase,[o,n],i)},t.prototype.appendFileSync=function(t,e,r){void 0===r&&(r=ft);var i=lt(r);i.flag&&!kt(t)||(i.flag="a"),this.writeFileSync(t,e,i)},t.prototype.appendFile=function(t,e,r,i){var n=dt(r,i),o=n[0],s=n[1];o.flag&&!kt(t)||(o.flag="a"),this.writeFile(t,e,o,s)},t.prototype.readdirBase=function(t,e){var r=Nt(t),i=this.getResolvedLink(r);if(!i)throw Q(Y,"readdir",t);if(!i.getNode().isDirectory())throw Q(X,"scandir",t);if(e.withFileTypes){var n=[];for(var o in i.children){var s=i.getChild(o);s&&n.push(f.default.build(s,e.encoding))}return M||"buffer"===e.encoding||n.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})),n}var a=[];for(var c in i.children)a.push(E.strToEncoding(c,e.encoding));return M||"buffer"===e.encoding||a.sort(),a},t.prototype.readdirSync=function(t,e){var r=mt(e),i=Rt(t);return this.readdirBase(i,r)},t.prototype.readdir=function(t,e,r){var i=gt(e,r),n=i[0],o=i[1],s=Rt(t);this.wrapAsync(this.readdirBase,[s,n],o)},t.prototype.readlinkBase=function(t,e){var r=this.getLinkOrThrow(t,"readlink").getNode();if(!r.isSymlink())throw Q(V,"readlink",t);var i=s+r.symlink.join(s);return E.strToEncoding(i,e)},t.prototype.readlinkSync=function(t,e){var r=st(e),i=Rt(t);return this.readlinkBase(i,r.encoding)},t.prototype.readlink=function(t,e,r){var i=at(e,r),n=i[0],o=i[1],s=Rt(t);this.wrapAsync(this.readlinkBase,[s,n.encoding],o)},t.prototype.fsyncBase=function(t){this.getFileByFdOrThrow(t,"fsync")},t.prototype.fsyncSync=function(t){this.fsyncBase(t)},t.prototype.fsync=function(t,e){this.wrapAsync(this.fsyncBase,[t],e)},t.prototype.fdatasyncBase=function(t){this.getFileByFdOrThrow(t,"fdatasync")},t.prototype.fdatasyncSync=function(t){this.fdatasyncBase(t)},t.prototype.fdatasync=function(t,e){this.wrapAsync(this.fdatasyncBase,[t],e)},t.prototype.ftruncateBase=function(t,e){this.getFileByFdOrThrow(t,"ftruncate").truncate(e)},t.prototype.ftruncateSync=function(t,e){this.ftruncateBase(t,e)},t.prototype.ftruncate=function(t,e,r){var i="number"==typeof e?e:0,n=it("number"==typeof e?r:e);this.wrapAsync(this.ftruncateBase,[t,i],n)},t.prototype.truncateBase=function(t,e){var r=this.openSync(t,"r+");try{this.ftruncateSync(r,e)}finally{this.closeSync(r)}},t.prototype.truncateSync=function(t,e){if(kt(t))return this.ftruncateSync(t,e);this.truncateBase(t,e)},t.prototype.truncate=function(t,e,r){var i="number"==typeof e?e:0,n=it("number"==typeof e?r:e);if(kt(t))return this.ftruncate(t,i,n);this.wrapAsync(this.truncateBase,[t,i],n)},t.prototype.futimesBase=function(t,e,r){var i=this.getFileByFdOrThrow(t,"futimes").node;i.atime=new Date(1e3*e),i.mtime=new Date(1e3*r)},t.prototype.futimesSync=function(t,e,r){this.futimesBase(t,Bt(e),Bt(r))},t.prototype.futimes=function(t,e,r,i){this.wrapAsync(this.futimesBase,[t,Bt(e),Bt(r)],i)},t.prototype.utimesBase=function(t,e,r){var i=this.openSync(t,"r+");try{this.futimesBase(i,e,r)}finally{this.closeSync(i)}},t.prototype.utimesSync=function(t,e,r){this.utimesBase(Rt(t),Bt(e),Bt(r))},t.prototype.utimes=function(t,e,r,i){this.wrapAsync(this.utimesBase,[Rt(t),Bt(e),Bt(r)],i)},t.prototype.mkdirBase=function(t,e){var r=Nt(t);if(!r.length)throw Q(q,"mkdir",t);var i=this.getLinkParentAsDirOrThrow(t,"mkdir"),n=r[r.length-1];if(i.getChild(n))throw Q(j,"mkdir",t);i.createChild(n,this.createNode(!0,e))},t.prototype.mkdirpBase=function(t,e){for(var r=Nt(t),i=this.root,n=0;n<r.length;n++){var o=r[n];if(!i.getNode().isDirectory())throw Q(X,"mkdir",i.getPath());var s=i.getChild(o);if(s){if(!s.getNode().isDirectory())throw Q(X,"mkdir",s.getPath());i=s}else i=i.createChild(o,this.createNode(!0,e))}},t.prototype.mkdirSync=function(t,e){var r=yt(e),i=Pt(r.mode,511),n=Rt(t);r.recursive?this.mkdirpBase(n,i):this.mkdirBase(n,i)},t.prototype.mkdir=function(t,e,r){var i=yt(e),n=it("function"==typeof e?e:r),o=Pt(i.mode,511),s=Rt(t);i.recursive?this.wrapAsync(this.mkdirpBase,[s,o],n):this.wrapAsync(this.mkdirBase,[s,o],n)},t.prototype.mkdirpSync=function(t,e){this.mkdirSync(t,{mode:e,recursive:!0})},t.prototype.mkdirp=function(t,e,r){var i="function"==typeof e?void 0:e,n=it("function"==typeof e?e:r);this.mkdir(t,{mode:i,recursive:!0},n)},t.prototype.mkdtempBase=function(t,e,r){void 0===r&&(r=5);var i=t+this.genRndStr();try{return this.mkdirBase(i,511),E.strToEncoding(i,e)}catch(i){if(i.code===j){if(r>1)return this.mkdtempBase(t,e,r-1);throw Error("Could not create temp dir.")}throw i}},t.prototype.mkdtempSync=function(t,e){var r=st(e).encoding;if(!t||"string"!=typeof t)throw new TypeError("filename prefix is required");return Wt(t),this.mkdtempBase(t,r)},t.prototype.mkdtemp=function(t,e,r){var i=at(e,r),n=i[0].encoding,o=i[1];if(!t||"string"!=typeof t)throw new TypeError("filename prefix is required");Wt(t)&&this.wrapAsync(this.mkdtempBase,[t,n],o)},t.prototype.rmdirBase=function(t,e){var r=Et(e),i=this.getLinkAsDirOrThrow(t,"rmdir");if(i.length&&!r.recursive)throw Q(J,"rmdir",t);this.deleteLink(i)},t.prototype.rmdirSync=function(t,e){this.rmdirBase(Rt(t),e)},t.prototype.rmdir=function(t,e,r){var i=Et(e),n=it("function"==typeof e?e:r);this.wrapAsync(this.rmdirBase,[Rt(t),i],n)},t.prototype.fchmodBase=function(t,e){this.getFileByFdOrThrow(t,"fchmod").chmod(e)},t.prototype.fchmodSync=function(t,e){this.fchmodBase(t,Pt(e))},t.prototype.fchmod=function(t,e,r){this.wrapAsync(this.fchmodBase,[t,Pt(e)],r)},t.prototype.chmodBase=function(t,e){var r=this.openSync(t,"r+");try{this.fchmodBase(r,e)}finally{this.closeSync(r)}},t.prototype.chmodSync=function(t,e){var r=Pt(e),i=Rt(t);this.chmodBase(i,r)},t.prototype.chmod=function(t,e,r){var i=Pt(e),n=Rt(t);this.wrapAsync(this.chmodBase,[n,i],r)},t.prototype.lchmodBase=function(t,e){var r=this.openBase(t,O,0,!1);try{this.fchmodBase(r,e)}finally{this.closeSync(r)}},t.prototype.lchmodSync=function(t,e){var r=Pt(e),i=Rt(t);this.lchmodBase(i,r)},t.prototype.lchmod=function(t,e,r){var i=Pt(e),n=Rt(t);this.wrapAsync(this.lchmodBase,[n,i],r)},t.prototype.fchownBase=function(t,e,r){this.getFileByFdOrThrow(t,"fchown").chown(e,r)},t.prototype.fchownSync=function(t,e,r){Gt(e),Mt(r),this.fchownBase(t,e,r)},t.prototype.fchown=function(t,e,r,i){Gt(e),Mt(r),this.wrapAsync(this.fchownBase,[t,e,r],i)},t.prototype.chownBase=function(t,e,r){this.getResolvedLinkOrThrow(t,"chown").getNode().chown(e,r)},t.prototype.chownSync=function(t,e,r){Gt(e),Mt(r),this.chownBase(Rt(t),e,r)},t.prototype.chown=function(t,e,r,i){Gt(e),Mt(r),this.wrapAsync(this.chownBase,[Rt(t),e,r],i)},t.prototype.lchownBase=function(t,e,r){this.getLinkOrThrow(t,"lchown").getNode().chown(e,r)},t.prototype.lchownSync=function(t,e,r){Gt(e),Mt(r),this.lchownBase(Rt(t),e,r)},t.prototype.lchown=function(t,e,r,i){Gt(e),Mt(r),this.wrapAsync(this.lchownBase,[Rt(t),e,r],i)},t.prototype.watchFile=function(t,e,r){var i=Rt(t),n=e,o=r;if("function"==typeof n&&(o=e,n=null),"function"!=typeof o)throw Error('"watchFile()" requires a listener function');var s=5007,a=!0;n&&"object"==typeof n&&("number"==typeof n.interval&&(s=n.interval),"boolean"==typeof n.persistent&&(a=n.persistent));var c=this.statWatchers[i];return c||((c=new this.StatWatcher).start(i,a,s),this.statWatchers[i]=c),c.addListener("change",o),c},t.prototype.unwatchFile=function(t,e){var r=Rt(t),i=this.statWatchers[r];i&&("function"==typeof e?i.removeListener("change",e):i.removeAllListeners("change"),0===i.listenerCount("change")&&(i.stop(),delete this.statWatchers[r]))},t.prototype.createReadStream=function(t,e){return new this.ReadStream(t,e)},t.prototype.createWriteStream=function(t,e){return new this.WriteStream(t,e)},t.prototype.watch=function(t,e,r){var i=Rt(t),n=e;"function"==typeof e&&(r=e,n=null);var o=st(n),s=o.persistent,a=o.recursive,c=o.encoding;void 0===s&&(s=!0),void 0===a&&(a=!1);var h=new this.FSWatcher;return h.start(i,s,a,c),r&&h.addListener("change",r),h},t.fd=2147483647,t}();function Ht(t){t.emit("stop")}e.Volume=Ut;var xt,Yt=function(t){function e(e){var r=t.call(this)||this;return r.onInterval=function(){try{var t=r.vol.statSync(r.filename);r.hasChanged(t)&&(r.emit("change",t,r.prev),r.prev=t)}finally{r.loop()}},r.vol=e,r}return n(e,t),e.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)},e.prototype.hasChanged=function(t){return t.mtimeMs>this.prev.mtimeMs||t.nlink!==this.prev.nlink},e.prototype.start=function(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=5007),this.filename=Rt(t),this.setTimeout=e?setTimeout:_.default,this.interval=r,this.prev=this.vol.statSync(this.filename),this.loop()},e.prototype.stop=function(){clearTimeout(this.timeoutRef),p.default.nextTick(Ht,this)},e}(I.EventEmitter);function Kt(t,e,r){if(!(this instanceof Kt))return new Kt(t,e,r);if(this._vol=t,void 0===(r=g({},et(r,{}))).highWaterMark&&(r.highWaterMark=65536),S.Readable.call(this,r),this.path=Rt(e),this.fd=void 0===r.fd?null:r.fd,this.flags=void 0===r.flags?"r":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.end=r.end,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=void 0,this.bytesRead=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw new Error('"start" option must be <= "end" option');this.pos=this.start}"number"!=typeof this.fd&&this.open(),this.on("end",(function(){this.autoClose&&this.destroy&&this.destroy()}))}function Vt(t){this.close()}function jt(t,e,r){if(!(this instanceof jt))return new jt(t,e,r);if(this._vol=t,r=g({},et(r,{})),S.Writable.call(this,r),this.path=Rt(e),this.fd=void 0===r.fd?null:r.fd,this.flags=void 0===r.flags?"w":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.autoClose=void 0===r.autoClose||!!r.autoClose,this.pos=void 0,this.bytesWritten=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(this.start<0)throw new Error('"start" must be >= zero');this.pos=this.start}r.encoding&&this.setDefaultEncoding(r.encoding),"number"!=typeof this.fd&&this.open(),this.once("finish",(function(){this.autoClose&&this.close()}))}e.StatWatcher=Yt,A.inherits(Kt,S.Readable),e.ReadStream=Kt,Kt.prototype.open=function(){var t=this;this._vol.open(this.path,this.flags,this.mode,(function(e,r){if(e)return t.autoClose&&t.destroy&&t.destroy(),void t.emit("error",e);t.fd=r,t.emit("open",r),t.read()}))},Kt.prototype._read=function(t){if("number"!=typeof this.fd)return this.once("open",(function(){this._read(t)}));if(!this.destroyed){var e;(!xt||xt.length-xt.used<128)&&(e=this._readableState.highWaterMark,(xt=l.bufferAllocUnsafe(e)).used=0);var r=xt,i=Math.min(xt.length-xt.used,t),n=xt.used;if(void 0!==this.pos&&(i=Math.min(this.end-this.pos+1,i)),i<=0)return this.push(null);var o=this;this._vol.read(this.fd,xt,xt.used,i,this.pos,(function(t,e){if(t)o.autoClose&&o.destroy&&o.destroy(),o.emit("error",t);else{var i=null;e>0&&(o.bytesRead+=e,i=r.slice(n,n+e)),o.push(i)}})),void 0!==this.pos&&(this.pos+=i),xt.used+=i}},Kt.prototype._destroy=function(t,e){this.close((function(r){e(t||r)}))},Kt.prototype.close=function(t){var e=this;if(t&&this.once("close",t),this.closed||"number"!=typeof this.fd)return"number"!=typeof this.fd?void this.once("open",Vt):p.default.nextTick((function(){return e.emit("close")}));this.closed=!0,this._vol.close(this.fd,(function(t){t?e.emit("error",t):e.emit("close")})),this.fd=null},A.inherits(jt,S.Writable),e.WriteStream=jt,jt.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(t,e){if(t)return this.autoClose&&this.destroy&&this.destroy(),void this.emit("error",t);this.fd=e,this.emit("open",e)}.bind(this))},jt.prototype._write=function(t,e,r){if(!(t instanceof l.Buffer))return this.emit("error",new Error("Invalid data"));if("number"!=typeof this.fd)return this.once("open",(function(){this._write(t,e,r)}));var i=this;this._vol.write(this.fd,t,0,t.length,this.pos,(function(t,e){if(t)return i.autoClose&&i.destroy&&i.destroy(),r(t);i.bytesWritten+=e,r()})),void 0!==this.pos&&(this.pos+=t.length)},jt.prototype._writev=function(t,e){if("number"!=typeof this.fd)return this.once("open",(function(){this._writev(t,e)}));for(var r=this,i=t.length,n=new Array(i),o=0,s=0;s<i;s++){var a=t[s].chunk;n[s]=a,o+=a.length}var c=l.Buffer.concat(n);this._vol.write(this.fd,c,0,c.length,this.pos,(function(t,i){if(t)return r.destroy&&r.destroy(),e(t);r.bytesWritten+=i,e()})),void 0!==this.pos&&(this.pos+=o)},jt.prototype._destroy=Kt.prototype._destroy,jt.prototype.close=Kt.prototype.close,jt.prototype.destroySoon=jt.prototype.end;var Xt=function(t){function e(e){var r=t.call(this)||this;return r._filename="",r._filenameEncoded="",r._recursive=!1,r._encoding=E.ENCODING_UTF8,r._onNodeChange=function(){r._emit("change")},r._onParentChild=function(t){t.getName()===r._getName()&&r._emit("rename")},r._emit=function(t){r.emit("change",t,r._filenameEncoded)},r._persist=function(){r._timer=setTimeout(r._persist,1e6)},r._vol=e,r}return n(e,t),e.prototype._getName=function(){return this._steps[this._steps.length-1]},e.prototype.start=function(t,e,r,i){void 0===e&&(e=!0),void 0===r&&(r=!1),void 0===i&&(i=E.ENCODING_UTF8),this._filename=Rt(t),this._steps=Nt(this._filename),this._filenameEncoded=E.strToEncoding(this._filename),this._recursive=r,this._encoding=i;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(t){var n=new Error("watch "+this._filename+" "+t.code);throw n.code=t.code,n.errno=t.code,n}this._link.getNode().on("change",this._onNodeChange),this._link.on("child:add",this._onNodeChange),this._link.on("child:delete",this._onNodeChange);var o=this._link.parent;o&&(o.setMaxListeners(o.getMaxListeners()+1),o.on("child:delete",this._onParentChild)),e&&this._persist()},e.prototype.close=function(){clearTimeout(this._timer),this._link.getNode().removeListener("change",this._onNodeChange);var t=this._link.parent;t&&t.removeListener("child:delete",this._onParentChild)},e}(I.EventEmitter);e.FSWatcher=Xt},2630:(t,e)=>{var r=Array.prototype.slice;e.l=function t(e,i){for(var n in i)e[n]=i[n];return arguments.length<3?e:t.apply(null,[e].concat(r.call(arguments,2)))}},4290:(t,e)=>{"use strict";e.Z4=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r?(t=n(t,e)).replace(/^([a-zA-Z]+:|\.\/)/,""):t};var r="win32"===process.platform;function i(t,e){var i=t[e];return e>0&&("/"===i||r&&"\\"===i)}function n(t,e){if("string"!=typeof t)throw new TypeError("expected a string");return t=t.replace(/[\\\/]+/g,"/"),!1!==e&&(t=function(t){var e=t.length-1;if(e<2)return t;for(;i(t,e);)e--;return t.substr(0,e+1)}(t)),t}},5659:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fsProps=["constants","F_OK","R_OK","W_OK","X_OK","Stats"],e.fsSyncMethods=["renameSync","ftruncateSync","truncateSync","chownSync","fchownSync","lchownSync","chmodSync","fchmodSync","lchmodSync","statSync","lstatSync","fstatSync","linkSync","symlinkSync","readlinkSync","realpathSync","unlinkSync","rmdirSync","mkdirSync","mkdirpSync","readdirSync","closeSync","openSync","utimesSync","futimesSync","fsyncSync","writeSync","readSync","readFileSync","writeFileSync","appendFileSync","existsSync","accessSync","fdatasyncSync","mkdtempSync","copyFileSync","createReadStream","createWriteStream"],e.fsAsyncMethods=["rename","ftruncate","truncate","chown","fchown","lchown","chmod","fchmod","lchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","mkdirp","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","exists","access","fdatasync","mkdtemp","copyFile","watchFile","unwatchFile","watch"]},832:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(5561),n=r(9568),o=i.constants.S_IFMT,s=i.constants.S_IFDIR,a=i.constants.S_IFREG,c=i.constants.S_IFBLK,h=i.constants.S_IFCHR,u=i.constants.S_IFLNK,f=i.constants.S_IFIFO,l=i.constants.S_IFSOCK,d=function(){function t(){this.name="",this.mode=0}return t.build=function(e,r){var i=new t,o=e.getNode().mode;return i.name=n.strToEncoding(e.getName(),r),i.mode=o,i},t.prototype._checkModeProperty=function(t){return(this.mode&o)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(s)},t.prototype.isFile=function(){return this._checkModeProperty(a)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(c)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(h)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(u)},t.prototype.isFIFO=function(){return this._checkModeProperty(f)},t.prototype.isSocket=function(){return this._checkModeProperty(l)},t}();e.Dirent=d,e.default=d},1507:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(5561),n=r(3103),o=i.constants.S_IFMT,s=i.constants.S_IFDIR,a=i.constants.S_IFREG,c=i.constants.S_IFBLK,h=i.constants.S_IFCHR,u=i.constants.S_IFLNK,f=i.constants.S_IFIFO,l=i.constants.S_IFSOCK,d=function(){function t(){}return t.build=function(e,r){void 0===r&&(r=!1);var i=new t,o=e.uid,s=e.gid,a=e.atime,c=e.mtime,h=e.ctime,u=r?n.default:function(t){return t};i.uid=u(o),i.gid=u(s),i.rdev=u(0),i.blksize=u(4096),i.ino=u(e.ino),i.size=u(e.getSize()),i.blocks=u(1),i.atime=a,i.mtime=c,i.ctime=h,i.birthtime=h,i.atimeMs=u(a.getTime()),i.mtimeMs=u(c.getTime());var f=u(h.getTime());return i.ctimeMs=f,i.birthtimeMs=f,i.dev=u(0),i.mode=u(e.mode),i.nlink=u(e.nlink),i},t.prototype._checkModeProperty=function(t){return(Number(this.mode)&o)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(s)},t.prototype.isFile=function(){return this._checkModeProperty(a)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(c)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(h)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(u)},t.prototype.isFIFO=function(){return this._checkModeProperty(f)},t.prototype.isSocket=function(){return this._checkModeProperty(l)},t}();e.Stats=d,e.default=d},5561:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}},9568:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(6426),n=r(6978);e.ENCODING_UTF8="utf8",e.assertEncoding=function(t){if(t&&!i.Buffer.isEncoding(t))throw new n.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",t)},e.strToEncoding=function(t,r){return r&&r!==e.ENCODING_UTF8?"buffer"===r?new i.Buffer(t):new i.Buffer(t).toString(r):t}},3103:(t,e)=>{"function"==typeof BigInt?e.default=BigInt:e.default=function(){throw new Error("BigInt is not supported in this environment.")}},6551:function(t,e,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n=r(1507),o=r(832),s=r(6898),a=r(5659),c=a.fsSyncMethods,h=a.fsAsyncMethods,u=r(5561),f=u.constants.F_OK,l=u.constants.R_OK,d=u.constants.W_OK,p=u.constants.X_OK;function _(t){for(var e={F_OK:f,R_OK:l,W_OK:d,X_OK:p,constants:u.constants,Stats:n.default,Dirent:o.default},r=0,i=c;r<i.length;r++)"function"==typeof t[S=i[r]]&&(e[S]=t[S].bind(t));for(var a=0,_=h;a<_.length;a++){var S;"function"==typeof t[S=_[a]]&&(e[S]=t[S].bind(t))}return e.StatWatcher=t.StatWatcher,e.FSWatcher=t.FSWatcher,e.WriteStream=t.WriteStream,e.ReadStream=t.ReadStream,e.promises=t.promises,e._toUnixTimestamp=s.toUnixTimestamp,e}e.Volume=s.Volume,e.vol=new s.Volume,e.createFsFromVolume=_,e.fs=_(e.vol),t.exports=i(i({},t.exports),e.fs),t.exports.semantic=!0},6426:function(t,e,r){"use strict";var i=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i};Object.defineProperty(e,"__esModule",{value:!0});var n=r(4293);function o(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new(n.Buffer.bind.apply(n.Buffer,i([void 0,t],e)))}e.Buffer=n.Buffer;var s=n.Buffer.allocUnsafe||o;e.bufferAllocUnsafe=s;var a=n.Buffer.from||o;e.bufferFrom=a},6978:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(2357),s=r(1669),a="undefined"==typeof Symbol?"_kCode":Symbol("code"),c={};function h(t){return function(t){function e(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var n=t.call(this,f(e,r))||this;return n.code=e,n[a]=e,n.name=t.prototype.name+" ["+n[a]+"]",n}return n(e,t),e}(t)}var u=function(t){function r(r){var i=this;if("object"!=typeof r||null===r)throw new e.TypeError("ERR_INVALID_ARG_TYPE","options","object");return(i=r.message?t.call(this,r.message)||this:t.call(this,s.inspect(r.actual).slice(0,128)+" "+r.operator+" "+s.inspect(r.expected).slice(0,128))||this).generatedMessage=!r.message,i.name="AssertionError [ERR_ASSERTION]",i.code="ERR_ASSERTION",i.actual=r.actual,i.expected=r.expected,i.operator=r.operator,e.Error.captureStackTrace(i,r.stackStartFunction),i}return n(r,t),r}(global.Error);function f(t,e){o.strictEqual(typeof t,"string");var r,i=c[t];if(o(i,"An invalid error message key was used: "+t+"."),"function"==typeof i)r=i;else{if(r=s.format,void 0===e||0===e.length)return i;e.unshift(i)}return String(r.apply(null,e))}function l(t,e){c[t]="function"==typeof e?e:String(e)}function d(t,e){if(o(t,"expected is required"),o("string"==typeof e,"thing is required"),Array.isArray(t)){var r=t.length;return o(r>0,"At least one expected value needs to be specified"),t=t.map((function(t){return String(t)})),r>2?"one of "+e+" "+t.slice(0,r-1).join(", ")+", or "+t[r-1]:2===r?"one of "+e+" "+t[0]+" or "+t[1]:"of "+e+" "+t[0]}return"of "+e+" "+String(t)}e.AssertionError=u,e.message=f,e.E=l,e.Error=h(global.Error),e.TypeError=h(global.TypeError),e.RangeError=h(global.RangeError),l("ERR_ARG_NOT_ITERABLE","%s must be iterable"),l("ERR_ASSERTION","%s"),l("ERR_BUFFER_OUT_OF_BOUNDS",(function(t,e){return e?"Attempt to write outside buffer bounds":'"'+t+'" is outside of buffer bounds'})),l("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),l("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),l("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),l("ERR_DNS_SET_SERVERS_FAILED",(function(t,e){return'c-ares failed to set servers: "'+t+'" ['+e+"]"})),l("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),l("ERR_ENCODING_NOT_SUPPORTED",(function(t){return'The "'+t+'" encoding is not supported'})),l("ERR_ENCODING_INVALID_ENCODED_DATA",(function(t){return"The encoded data was not valid for encoding "+t})),l("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),l("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),l("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),l("ERR_INDEX_OUT_OF_RANGE","Index out of range"),l("ERR_INVALID_ARG_TYPE",(function(t,e,r){var i,n;if(o(t,"name is required"),e.includes("not ")?(i="must not be",e=e.split("not ")[1]):i="must be",Array.isArray(t)){var s=t.map((function(t){return'"'+t+'"'})).join(", ");n="The "+s+" arguments "+i+" "+d(e,"type")}else if(t.includes(" argument"))n="The "+t+" "+i+" "+d(e,"type");else{var a=t.includes(".")?"property":"argument";n='The "'+t+'" '+a+" "+i+" "+d(e,"type")}return arguments.length>=3&&(n+=". Received type "+(null!==r?typeof r:"null")),n})),l("ERR_INVALID_ARRAY_LENGTH",(function(t,e,r){return o.strictEqual(typeof r,"number"),'The array "'+t+'" (length '+r+") must be of length "+e+"."})),l("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),l("ERR_INVALID_CALLBACK","Callback must be a function"),l("ERR_INVALID_CHAR","Invalid character in %s"),l("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),l("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),l("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),l("ERR_INVALID_FILE_URL_PATH","File URL path %s"),l("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),l("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),l("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+String(e)+'" is invalid for option "'+t+'"'})),l("ERR_INVALID_OPT_VALUE_ENCODING",(function(t){return'The value "'+String(t)+'" is invalid for option "encoding"'})),l("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),l("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),l("ERR_INVALID_THIS",'Value of "this" must be of type %s'),l("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),l("ERR_INVALID_URL","Invalid URL: %s"),l("ERR_INVALID_URL_SCHEME",(function(t){return"The URL must be "+d(t,"scheme")})),l("ERR_IPC_CHANNEL_CLOSED","Channel closed"),l("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),l("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),l("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),l("ERR_MISSING_ARGS",(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o(t.length>0,"At least one arg needs to be specified");var r="The ",i=t.length;switch(t=t.map((function(t){return'"'+t+'"'})),i){case 1:r+=t[0]+" argument";break;case 2:r+=t[0]+" and "+t[1]+" arguments";break;default:r+=t.slice(0,i-1).join(", "),r+=", and "+t[i-1]+" arguments"}return r+" must be specified"})),l("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),l("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),l("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),l("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),l("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),l("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),l("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),l("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),l("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),l("ERR_SOCKET_CANNOT_SEND","Unable to send data"),l("ERR_SOCKET_CLOSED","Socket is closed"),l("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),l("ERR_STDERR_CLOSE","process.stderr cannot be closed"),l("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),l("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),l("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),l("ERR_TLS_DH_PARAM_SIZE",(function(t){return"DH parameter size "+t+" is less than 2048"})),l("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),l("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),l("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),l("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),l("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),l("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),l("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),l("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),l("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),l("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),l("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl")},1172:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(4880),s=r(6426),a=r(5561),c=r(8614),h=r(1507),u=a.constants.S_IFMT,f=a.constants.S_IFDIR,l=a.constants.S_IFREG,d=(a.constants.S_IFBLK,a.constants.S_IFCHR,a.constants.S_IFLNK),p=(a.constants.S_IFIFO,a.constants.S_IFSOCK,a.constants.O_APPEND);e.SEP="/";var _=function(t){function e(e,r){void 0===r&&(r=438);var i=t.call(this)||this;return i.uid=o.default.getuid(),i.gid=o.default.getgid(),i.atime=new Date,i.mtime=new Date,i.ctime=new Date,i.perm=438,i.mode=l,i.nlink=1,i.perm=r,i.mode|=r,i.ino=e,i}return n(e,t),e.prototype.getString=function(t){return void 0===t&&(t="utf8"),this.getBuffer().toString(t)},e.prototype.setString=function(t){this.buf=s.bufferFrom(t,"utf8"),this.touch()},e.prototype.getBuffer=function(){return this.buf||this.setBuffer(s.bufferAllocUnsafe(0)),s.bufferFrom(this.buf)},e.prototype.setBuffer=function(t){this.buf=s.bufferFrom(t),this.touch()},e.prototype.getSize=function(){return this.buf?this.buf.length:0},e.prototype.setModeProperty=function(t){this.mode=this.mode&~u|t},e.prototype.setIsFile=function(){this.setModeProperty(l)},e.prototype.setIsDirectory=function(){this.setModeProperty(f)},e.prototype.setIsSymlink=function(){this.setModeProperty(d)},e.prototype.isFile=function(){return(this.mode&u)===l},e.prototype.isDirectory=function(){return(this.mode&u)===f},e.prototype.isSymlink=function(){return(this.mode&u)===d},e.prototype.makeSymlink=function(t){this.symlink=t,this.setIsSymlink()},e.prototype.write=function(t,e,r,i){if(void 0===e&&(e=0),void 0===r&&(r=t.length),void 0===i&&(i=0),this.buf||(this.buf=s.bufferAllocUnsafe(0)),i+r>this.buf.length){var n=s.bufferAllocUnsafe(i+r);this.buf.copy(n,0,0,this.buf.length),this.buf=n}return t.copy(this.buf,i,e,e+r),this.touch(),r},e.prototype.read=function(t,e,r,i){void 0===e&&(e=0),void 0===r&&(r=t.byteLength),void 0===i&&(i=0),this.buf||(this.buf=s.bufferAllocUnsafe(0));var n=r;return n>t.byteLength&&(n=t.byteLength),n+i>this.buf.length&&(n=this.buf.length-i),this.buf.copy(t,e,i,i+n),n},e.prototype.truncate=function(t){if(void 0===t&&(t=0),t)if(this.buf||(this.buf=s.bufferAllocUnsafe(0)),t<=this.buf.length)this.buf=this.buf.slice(0,t);else{var e=s.bufferAllocUnsafe(0);this.buf.copy(e),e.fill(0,t)}else this.buf=s.bufferAllocUnsafe(0);this.touch()},e.prototype.chmod=function(t){this.perm=t,this.mode=-512&this.mode|t,this.touch()},e.prototype.chown=function(t,e){this.uid=t,this.gid=e,this.touch()},e.prototype.touch=function(){this.mtime=new Date,this.emit("change",this)},e.prototype.canRead=function(t,e){return void 0===t&&(t=o.default.getuid()),void 0===e&&(e=o.default.getgid()),!!(4&this.perm)||!!(e===this.gid&&32&this.perm)||!!(t===this.uid&&256&this.perm)},e.prototype.canWrite=function(t,e){return void 0===t&&(t=o.default.getuid()),void 0===e&&(e=o.default.getgid()),!!(2&this.perm)||!!(e===this.gid&&16&this.perm)||!!(t===this.uid&&128&this.perm)},e.prototype.del=function(){this.emit("delete",this)},e.prototype.toJSON=function(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},e}(c.EventEmitter);e.Node=_;var S=function(t){function r(e,r,i){var n=t.call(this)||this;return n.children={},n.steps=[],n.ino=0,n.length=0,n.vol=e,n.parent=r,n.steps=r?r.steps.concat([i]):[i],n}return n(r,t),r.prototype.setNode=function(t){this.node=t,this.ino=t.ino},r.prototype.getNode=function(){return this.node},r.prototype.createChild=function(t,e){void 0===e&&(e=this.vol.createNode());var i=new r(this.vol,this,t);return i.setNode(e),e.isDirectory(),this.setChild(t,i),i},r.prototype.setChild=function(t,e){return void 0===e&&(e=new r(this.vol,this,t)),this.children[t]=e,e.parent=this,this.length++,this.emit("child:add",e,this),e},r.prototype.deleteChild=function(t){delete this.children[t.getName()],this.length--,this.emit("child:delete",t,this)},r.prototype.getChild=function(t){if(Object.hasOwnProperty.call(this.children,t))return this.children[t]},r.prototype.getPath=function(){return this.steps.join(e.SEP)},r.prototype.getName=function(){return this.steps[this.steps.length-1]},r.prototype.walk=function(t,e,r){if(void 0===e&&(e=t.length),void 0===r&&(r=0),r>=t.length)return this;if(r>=e)return this;var i=t[r],n=this.getChild(i);return n?n.walk(t,e,r+1):null},r.prototype.toJSON=function(){return{steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},r}(c.EventEmitter);e.Link=S;var y=function(){function t(t,e,r,i){this.position=0,this.link=t,this.node=e,this.flags=r,this.fd=i}return t.prototype.getString=function(t){return void 0===t&&(t="utf8"),this.node.getString()},t.prototype.setString=function(t){this.node.setString(t)},t.prototype.getBuffer=function(){return this.node.getBuffer()},t.prototype.setBuffer=function(t){this.node.setBuffer(t)},t.prototype.getSize=function(){return this.node.getSize()},t.prototype.truncate=function(t){this.node.truncate(t)},t.prototype.seekTo=function(t){this.position=t},t.prototype.stats=function(){return h.default.build(this.node)},t.prototype.write=function(t,e,r,i){void 0===e&&(e=0),void 0===r&&(r=t.length),"number"!=typeof i&&(i=this.position),this.flags&p&&(i=this.getSize());var n=this.node.write(t,e,r,i);return this.position=i+n,n},t.prototype.read=function(t,e,r,i){void 0===e&&(e=0),void 0===r&&(r=t.byteLength),"number"!=typeof i&&(i=this.position);var n=this.node.read(t,e,r,i);return this.position=i+n,n},t.prototype.chmod=function(t){this.node.chmod(t)},t.prototype.chown=function(t,e){this.node.chown(t,e)},t}();e.File=y},4880:(t,e,r)=>{"use strict";function i(){var t=function(){if("undefined"!=typeof process)return process;try{return r(1765)}catch(t){return}}()||{};return t.getuid||(t.getuid=function(){return 0}),t.getgid||(t.getgid=function(){return 0}),t.cwd||(t.cwd=function(){return"/"}),t.nextTick||(t.nextTick=r(6015).default),t.emitWarning||(t.emitWarning=function(t,e){console.warn(e+(e?": ":"")+t)}),t.env||(t.env={}),t}Object.defineProperty(e,"__esModule",{value:!0}),e.createProcess=i,e.default=i()},6133:function(t,e){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i};function i(t,e,i){return void 0===i&&(i=function(t){return t}),function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return new Promise((function(o,s){t[e].bind(t).apply(void 0,r(n,[function(t,e){return t?s(t):o(i(e))}]))}))}}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.vol=t,this.fd=e}return t.prototype.appendFile=function(t,e){return i(this.vol,"appendFile")(this.fd,t,e)},t.prototype.chmod=function(t){return i(this.vol,"fchmod")(this.fd,t)},t.prototype.chown=function(t,e){return i(this.vol,"fchown")(this.fd,t,e)},t.prototype.close=function(){return i(this.vol,"close")(this.fd)},t.prototype.datasync=function(){return i(this.vol,"fdatasync")(this.fd)},t.prototype.read=function(t,e,r,n){return i(this.vol,"read",(function(e){return{bytesRead:e,buffer:t}}))(this.fd,t,e,r,n)},t.prototype.readFile=function(t){return i(this.vol,"readFile")(this.fd,t)},t.prototype.stat=function(t){return i(this.vol,"fstat")(this.fd,t)},t.prototype.sync=function(){return i(this.vol,"fsync")(this.fd)},t.prototype.truncate=function(t){return i(this.vol,"ftruncate")(this.fd,t)},t.prototype.utimes=function(t,e){return i(this.vol,"futimes")(this.fd,t,e)},t.prototype.write=function(t,e,r,n){return i(this.vol,"write",(function(e){return{bytesWritten:e,buffer:t}}))(this.fd,t,e,r,n)},t.prototype.writeFile=function(t,e){return i(this.vol,"writeFile")(this.fd,t,e)},t}();e.FileHandle=n,e.default=function(t){return"undefined"==typeof Promise?null:{FileHandle:n,access:function(e,r){return i(t,"access")(e,r)},appendFile:function(e,r,o){return i(t,"appendFile")(e instanceof n?e.fd:e,r,o)},chmod:function(e,r){return i(t,"chmod")(e,r)},chown:function(e,r,n){return i(t,"chown")(e,r,n)},copyFile:function(e,r,n){return i(t,"copyFile")(e,r,n)},lchmod:function(e,r){return i(t,"lchmod")(e,r)},lchown:function(e,r,n){return i(t,"lchown")(e,r,n)},link:function(e,r){return i(t,"link")(e,r)},lstat:function(e,r){return i(t,"lstat")(e,r)},mkdir:function(e,r){return i(t,"mkdir")(e,r)},mkdtemp:function(e,r){return i(t,"mkdtemp")(e,r)},open:function(e,r,o){return i(t,"open",(function(e){return new n(t,e)}))(e,r,o)},readdir:function(e,r){return i(t,"readdir")(e,r)},readFile:function(e,r){return i(t,"readFile")(e instanceof n?e.fd:e,r)},readlink:function(e,r){return i(t,"readlink")(e,r)},realpath:function(e,r){return i(t,"realpath")(e,r)},rename:function(e,r){return i(t,"rename")(e,r)},rmdir:function(e){return i(t,"rmdir")(e)},stat:function(e,r){return i(t,"stat")(e,r)},symlink:function(e,r,n){return i(t,"symlink")(e,r,n)},truncate:function(e,r){return i(t,"truncate")(e,r)},unlink:function(e){return i(t,"unlink")(e)},utimes:function(e,r,n){return i(t,"utimes")(e,r,n)},writeFile:function(e,r,o){return i(t,"writeFile")(e instanceof n?e.fd:e,r,o)}}}},6015:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),r="function"==typeof setImmediate?setImmediate.bind(global):setTimeout.bind(global),e.default=r},8369:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var i=setTimeout.apply(null,arguments);return i&&"object"==typeof i&&"function"==typeof i.unref&&i.unref(),i}},6898:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i};Object.defineProperty(e,"__esModule",{value:!0});var s,a,c=r(5622),h=r(1172),u=r(1507),f=r(832),l=r(6426),d=r(6015),p=r(4880),_=r(8369),S=r(2413),y=r(5561),I=r(8614),E=r(9568),m=r(6978),g=r(2630).l,A=r(1669),v=r(6133),T=c.resolve,R=y.constants.O_RDONLY,w=y.constants.O_WRONLY,O=y.constants.O_RDWR,b=y.constants.O_CREAT,N=y.constants.O_EXCL,F=y.constants.O_TRUNC,C=y.constants.O_APPEND,L=y.constants.O_SYNC,W=y.constants.O_DIRECTORY,P=y.constants.F_OK,k=y.constants.COPYFILE_EXCL,D=y.constants.COPYFILE_FICLONE_FORCE;if(c.posix){var B=c.posix;s=B.sep,a=B.relative}else s=c.sep,a=c.relative;var G,M="win32"===p.default.platform,U="path must be a string or Buffer",H="fd must be a file descriptor",x="callback must be a function",Y="ENOENT",K="EBADF",V="EINVAL",j="EEXIST",X="ENOTDIR",z="EMFILE",$="EACCES",q="EISDIR",J="ENOTEMPTY",Z="ENOSYS";function Q(t,e,r,i,n){void 0===e&&(e=""),void 0===r&&(r=""),void 0===i&&(i=""),void 0===n&&(n=Error);var o=new n(function(t,e,r,i){void 0===e&&(e=""),void 0===r&&(r=""),void 0===i&&(i="");var n="";switch(r&&(n=" '"+r+"'"),i&&(n+=" -> '"+i+"'"),t){case Y:return"ENOENT: no such file or directory, "+e+n;case K:return"EBADF: bad file descriptor, "+e+n;case V:return"EINVAL: invalid argument, "+e+n;case"EPERM":return"EPERM: operation not permitted, "+e+n;case"EPROTO":return"EPROTO: protocol error, "+e+n;case j:return"EEXIST: file already exists, "+e+n;case X:return"ENOTDIR: not a directory, "+e+n;case q:return"EISDIR: illegal operation on a directory, "+e+n;case $:return"EACCES: permission denied, "+e+n;case J:return"ENOTEMPTY: directory not empty, "+e+n;case z:return"EMFILE: too many open files, "+e+n;case Z:return"ENOSYS: function not implemented, "+e+n;default:return t+": error occurred, "+e+n}}(t,e,r,i));return o.code=t,o}function tt(t){if("number"==typeof t)return t;if("string"==typeof t){var e=G[t];if(void 0!==e)return e}throw new m.TypeError("ERR_INVALID_OPT_VALUE","flags",t)}function et(t,e){var r;if(!e)return t;var i=typeof e;switch(i){case"string":r=g({},t,{encoding:e});break;case"object":r=g({},t,e);break;default:throw TypeError(function(t){return"Expected options to be either an object or a string, but got "+t+" instead"}(i))}return"buffer"!==r.encoding&&E.assertEncoding(r.encoding),r}function rt(t){return function(e){return et(t,e)}}function it(t){if("function"!=typeof t)throw TypeError(x);return t}function nt(t){return function(e,r){return"function"==typeof e?[t(),e]:[t(e),it(r)]}}!function(t){t[t.r=R]="r",t[t["r+"]=O]="r+",t[t.rs=R|L]="rs",t[t.sr=t.rs]="sr",t[t["rs+"]=O|L]="rs+",t[t["sr+"]=t["rs+"]]="sr+",t[t.w=w|b|F]="w",t[t.wx=w|b|F|N]="wx",t[t.xw=t.wx]="xw",t[t["w+"]=O|b|F]="w+",t[t["wx+"]=O|b|F|N]="wx+",t[t["xw+"]=t["wx+"]]="xw+",t[t.a=w|C|b]="a",t[t.ax=w|C|b|N]="ax",t[t.xa=t.ax]="xa",t[t["a+"]=O|C|b]="a+",t[t["ax+"]=O|C|b|N]="ax+",t[t["xa+"]=t["ax+"]]="xa+"}(G=e.FLAGS||(e.FLAGS={})),e.flagsToNumber=tt;var ot={encoding:"utf8"},st=rt(ot),at=nt(st),ct=rt({flag:"r"}),ht={encoding:"utf8",mode:438,flag:G[G.w]},ut=rt(ht),ft={encoding:"utf8",mode:438,flag:G[G.a]},lt=rt(ft),dt=nt(lt),pt=rt(ot),_t=nt(pt),St={mode:511,recursive:!1},yt=function(t){return g({},St,"number"==typeof t?{mode:t}:t)},It={recursive:!1},Et=function(t){return g({},It,t)},mt=rt({encoding:"utf8",withFileTypes:!1}),gt=nt(mt),At={bigint:!1},vt=function(t){return void 0===t&&(t={}),g({},At,t)},Tt=function(t,e){return"function"==typeof t?[vt(),t]:[vt(t),it(e)]};function Rt(t){if("string"!=typeof t&&!l.Buffer.isBuffer(t)){try{if(!(t instanceof r(8835).URL))throw new TypeError(U)}catch(t){throw new TypeError(U)}t=function(t){if(""!==t.hostname)throw new m.TypeError("ERR_INVALID_FILE_URL_HOST",p.default.platform);for(var e=t.pathname,r=0;r<e.length;r++)if("%"===e[r]){var i=32|e.codePointAt(r+2);if("2"===e[r+1]&&102===i)throw new m.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}return decodeURIComponent(e)}(t)}var e=String(t);return Wt(e),e}e.pathToFilename=Rt;var wt=function(t,e){return void 0===e&&(e=p.default.cwd()),T(e,t)};if(M){var Ot=wt,bt=r(4290).Z4;wt=function(t,e){return bt(Ot(t,e))}}function Nt(t,e){var r=wt(t,e).substr(1);return r?r.split(s):[]}function Ft(t){return Nt(Rt(t))}function Ct(t,e){return void 0===e&&(e=E.ENCODING_UTF8),l.Buffer.isBuffer(t)?t:t instanceof Uint8Array?l.bufferFrom(t):l.bufferFrom(String(t),e)}function Lt(t,e){return e&&"buffer"!==e?t.toString(e):t}function Wt(t,e){if(-1!==(""+t).indexOf("\0")){var r=new Error("Path must be a string without null bytes");if(r.code=Y,"function"!=typeof e)throw r;return p.default.nextTick(e,r),!1}return!0}function Pt(t,e){var r=function(t,e){return"number"==typeof t?t:"string"==typeof t?parseInt(t,8):e?Pt(e):void 0}(t,e);if("number"!=typeof r||isNaN(r))throw new TypeError("mode must be an int");return r}function kt(t){return t>>>0===t}function Dt(t){if(!kt(t))throw TypeError(H)}function Bt(t){if("string"==typeof t&&+t==t)return+t;if(t instanceof Date)return t.getTime()/1e3;if(isFinite(t))return t<0?Date.now()/1e3:t;throw new Error("Cannot parse time: "+t)}function Gt(t){if("number"!=typeof t)throw TypeError("uid must be an unsigned int")}function Mt(t){if("number"!=typeof t)throw TypeError("gid must be an unsigned int")}e.filenameToSteps=Nt,e.pathToSteps=Ft,e.dataToStr=function(t,e){return void 0===e&&(e=E.ENCODING_UTF8),l.Buffer.isBuffer(t)?t.toString(e):t instanceof Uint8Array?l.bufferFrom(t).toString(e):String(t)},e.dataToBuffer=Ct,e.bufferToEncoding=Lt,e.toUnixTimestamp=Bt;var Ut=function(){function t(t){void 0===t&&(t={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=v.default(this),this.statWatchers={},this.props=g({Node:h.Node,Link:h.Link,File:h.File},t);var e=this.createLink();e.setNode(this.createNode(!0));var r=this;this.StatWatcher=function(t){function e(){return t.call(this,r)||this}return n(e,t),e}(Yt);var i=Kt;this.ReadStream=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.apply(this,o([r],e))||this}return n(e,t),e}(i);var s=jt;this.WriteStream=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.apply(this,o([r],e))||this}return n(e,t),e}(s),this.FSWatcher=function(t){function e(){return t.call(this,r)||this}return n(e,t),e}(Xt),this.root=e}return t.fromJSON=function(e,r){var i=new t;return i.fromJSON(e,r),i},Object.defineProperty(t.prototype,"promises",{get:function(){if(null===this.promisesApi)throw new Error("Promise is not supported in this environment.");return this.promisesApi},enumerable:!0,configurable:!0}),t.prototype.createLink=function(t,e,r,i){if(void 0===r&&(r=!1),!t)return new this.props.Link(this,null,"");if(!e)throw new Error("createLink: name cannot be empty");return t.createChild(e,this.createNode(r,i))},t.prototype.deleteLink=function(t){var e=t.parent;return!!e&&(e.deleteChild(t),!0)},t.prototype.newInoNumber=function(){return this.releasedInos.pop()||(this.ino=(this.ino+1)%4294967295,this.ino)},t.prototype.newFdNumber=function(){var e=this.releasedFds.pop();return"number"==typeof e?e:t.fd--},t.prototype.createNode=function(t,e){void 0===t&&(t=!1);var r=new this.props.Node(this.newInoNumber(),e);return t&&r.setIsDirectory(),this.inodes[r.ino]=r,r},t.prototype.getNode=function(t){return this.inodes[t]},t.prototype.deleteNode=function(t){t.del(),delete this.inodes[t.ino],this.releasedInos.push(t.ino)},t.prototype.genRndStr=function(){var t=(Math.random()+1).toString(36).substr(2,6);return 6===t.length?t:this.genRndStr()},t.prototype.getLink=function(t){return this.root.walk(t)},t.prototype.getLinkOrThrow=function(t,e){var r=Nt(t),i=this.getLink(r);if(!i)throw Q(Y,e,t);return i},t.prototype.getResolvedLink=function(t){for(var e="string"==typeof t?Nt(t):t,r=this.root,i=0;i<e.length;){var n=e[i];if(!(r=r.getChild(n)))return null;var o=r.getNode();o.isSymlink()?(e=o.symlink.concat(e.slice(i+1)),r=this.root,i=0):i++}return r},t.prototype.getResolvedLinkOrThrow=function(t,e){var r=this.getResolvedLink(t);if(!r)throw Q(Y,e,t);return r},t.prototype.resolveSymlinks=function(t){return this.getResolvedLink(t.steps.slice(1))},t.prototype.getLinkAsDirOrThrow=function(t,e){var r=this.getLinkOrThrow(t,e);if(!r.getNode().isDirectory())throw Q(X,e,t);return r},t.prototype.getLinkParent=function(t){return this.root.walk(t,t.length-1)},t.prototype.getLinkParentAsDirOrThrow=function(t,e){var r=t instanceof Array?t:Nt(t),i=this.getLinkParent(r);if(!i)throw Q(Y,e,s+r.join(s));if(!i.getNode().isDirectory())throw Q(X,e,s+r.join(s));return i},t.prototype.getFileByFd=function(t){return this.fds[String(t)]},t.prototype.getFileByFdOrThrow=function(t,e){if(!kt(t))throw TypeError(H);var r=this.getFileByFd(t);if(!r)throw Q(K,e);return r},t.prototype.getNodeByIdOrCreate=function(t,e,r){if("number"==typeof t){var i=this.getFileByFd(t);if(!i)throw Error("File nto found");return i.node}var n=Ft(t),o=this.getLink(n);if(o)return o.getNode();if(e&b){var s=this.getLinkParent(n);if(s){var a=n[n.length-1];return(o=this.createLink(s,a,!1,r)).getNode()}}throw Q(Y,"getNodeByIdOrCreate",Rt(t))},t.prototype.wrapAsync=function(t,e,r){var i=this;it(r),d.default((function(){try{r(null,t.apply(i,e))}catch(t){r(t)}}))},t.prototype._toJSON=function(t,e,r){var i;void 0===t&&(t=this.root),void 0===e&&(e={});var n=!0,o=t.children;for(var s in t.getNode().isFile()&&((i={})[t.getName()]=t.parent.getChild(t.getName()),o=i,t=t.parent),o){n=!1;var c=t.getChild(s);if(!c)throw new Error("_toJSON: unexpected undefined");var h=c.getNode();if(h.isFile()){var u=c.getPath();r&&(u=a(r,u)),e[u]=h.getString()}else h.isDirectory()&&this._toJSON(c,e,r)}var f=t.getPath();return r&&(f=a(r,f)),f&&n&&(e[f]=null),e},t.prototype.toJSON=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=!1);var i=[];if(t){t instanceof Array||(t=[t]);for(var n=0,o=t;n<o.length;n++){var s=Rt(o[n]);(h=this.getResolvedLink(s))&&i.push(h)}}else i.push(this.root);if(!i.length)return e;for(var a=0,c=i;a<c.length;a++){var h=c[a];this._toJSON(h,e,r?h.getPath():"")}return e},t.prototype.fromJSON=function(t,e){for(var r in void 0===e&&(e=p.default.cwd()),t){var i=t[r];if("string"==typeof i){var n=Nt(r=wt(r,e));if(n.length>1){var o=s+n.slice(0,n.length-1).join(s);this.mkdirpBase(o,511)}this.writeFileSync(r,i)}else this.mkdirpBase(r,511)}},t.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))},t.prototype.mountSync=function(t,e){this.fromJSON(e,t)},t.prototype.openLink=function(t,e,r){if(void 0===r&&(r=!0),this.openFiles>=this.maxFiles)throw Q(z,"open",t.getPath());var i=t;if(r&&(i=this.resolveSymlinks(t)),!i)throw Q(Y,"open",t.getPath());var n=i.getNode();if(n.isDirectory()){if((e&(R|O|w))!==R)throw Q(q,"open",t.getPath())}else if(e&W)throw Q(X,"open",t.getPath());if(!(e&w||n.canRead()))throw Q($,"open",t.getPath());var o=new this.props.File(t,n,e,this.newFdNumber());return this.fds[o.fd]=o,this.openFiles++,e&F&&o.truncate(),o},t.prototype.openFile=function(t,e,r,i){void 0===i&&(i=!0);var n=Nt(t),o=i?this.getResolvedLink(n):this.getLink(n);if(!o&&e&b){var a=this.getResolvedLink(n.slice(0,n.length-1));if(!a)throw Q(Y,"open",s+n.join(s));e&b&&"number"==typeof r&&(o=this.createLink(a,n[n.length-1],!1,r))}if(o)return this.openLink(o,e,i);throw Q(Y,"open",t)},t.prototype.openBase=function(t,e,r,i){void 0===i&&(i=!0);var n=this.openFile(t,e,r,i);if(!n)throw Q(Y,"open",t);return n.fd},t.prototype.openSync=function(t,e,r){void 0===r&&(r=438);var i=Pt(r),n=Rt(t),o=tt(e);return this.openBase(n,o,i)},t.prototype.open=function(t,e,r,i){var n=r,o=i;"function"==typeof r&&(n=438,o=r);var s=Pt(n=n||438),a=Rt(t),c=tt(e);this.wrapAsync(this.openBase,[a,c,s],o)},t.prototype.closeFile=function(t){this.fds[t.fd]&&(this.openFiles--,delete this.fds[t.fd],this.releasedFds.push(t.fd))},t.prototype.closeSync=function(t){Dt(t);var e=this.getFileByFdOrThrow(t,"close");this.closeFile(e)},t.prototype.close=function(t,e){Dt(t),this.wrapAsync(this.closeSync,[t],e)},t.prototype.openFileOrGetById=function(t,e,r){if("number"==typeof t){var i=this.fds[t];if(!i)throw Q(Y);return i}return this.openFile(Rt(t),e,r)},t.prototype.readBase=function(t,e,r,i,n){return this.getFileByFdOrThrow(t).read(e,Number(r),Number(i),n)},t.prototype.readSync=function(t,e,r,i,n){return Dt(t),this.readBase(t,e,r,i,n)},t.prototype.read=function(t,e,r,i,n,o){var s=this;if(it(o),0===i)return p.default.nextTick((function(){o&&o(null,0,e)}));d.default((function(){try{var a=s.readBase(t,e,r,i,n);o(null,a,e)}catch(t){o(t)}}))},t.prototype.readFileBase=function(t,e,r){var i,n,o="number"==typeof t&&kt(t);if(o)n=t;else{var s=Nt(Rt(t)),a=this.getResolvedLink(s);if(a&&a.getNode().isDirectory())throw Q(q,"open",a.getPath());n=this.openSync(t,e)}try{i=Lt(this.getFileByFdOrThrow(n).getBuffer(),r)}finally{o||this.closeSync(n)}return i},t.prototype.readFileSync=function(t,e){var r=ct(e),i=tt(r.flag);return this.readFileBase(t,i,r.encoding)},t.prototype.readFile=function(t,e,r){var i=nt(ct)(e,r),n=i[0],o=i[1],s=tt(n.flag);this.wrapAsync(this.readFileBase,[t,s,n.encoding],o)},t.prototype.writeBase=function(t,e,r,i,n){return this.getFileByFdOrThrow(t,"write").write(e,r,i,n)},t.prototype.writeSync=function(t,e,r,i,n){var o,s,a,c;Dt(t);var h="string"!=typeof e;h?(s=0|(r||0),a=i,c=n):(c=r,o=i);var u=Ct(e,o);return h?void 0===a&&(a=u.length):(s=0,a=u.length),this.writeBase(t,u,s,a,c)},t.prototype.write=function(t,e,r,i,n,o){var s,a,c,h,u,f=this;Dt(t);var l=typeof e,p=typeof r,_=typeof i,S=typeof n;"string"!==l?"function"===p?u=r:"function"===_?(s=0|r,u=i):"function"===S?(s=0|r,a=i,u=n):(s=0|r,a=i,c=n,u=o):"function"===p?u=r:"function"===_?(c=r,u=i):"function"===S&&(c=r,h=i,u=n);var y=Ct(e,h);"string"!==l?void 0===a&&(a=y.length):(s=0,a=y.length);var I=it(u);d.default((function(){try{var r=f.writeBase(t,y,s,a,c);I(null,r,"string"!==l?y:e)}catch(t){I(t)}}))},t.prototype.writeFileBase=function(t,e,r,i){var n,o="number"==typeof t;n=o?t:this.openBase(Rt(t),r,i);var s=0,a=e.length,c=r&C?void 0:0;try{for(;a>0;){var h=this.writeSync(n,e,s,a,c);s+=h,a-=h,void 0!==c&&(c+=h)}}finally{o||this.closeSync(n)}},t.prototype.writeFileSync=function(t,e,r){var i=ut(r),n=tt(i.flag),o=Pt(i.mode),s=Ct(e,i.encoding);this.writeFileBase(t,s,n,o)},t.prototype.writeFile=function(t,e,r,i){var n=r,o=i;"function"==typeof r&&(n=ht,o=r);var s=it(o),a=ut(n),c=tt(a.flag),h=Pt(a.mode),u=Ct(e,a.encoding);this.wrapAsync(this.writeFileBase,[t,u,c,h],s)},t.prototype.linkBase=function(t,e){var r=Nt(t),i=this.getLink(r);if(!i)throw Q(Y,"link",t,e);var n=Nt(e),o=this.getLinkParent(n);if(!o)throw Q(Y,"link",t,e);var s=n[n.length-1];if(o.getChild(s))throw Q(j,"link",t,e);var a=i.getNode();a.nlink++,o.createChild(s,a)},t.prototype.copyFileBase=function(t,e,r){var i=this.readFileSync(t);if(r&k&&this.existsSync(e))throw Q(j,"copyFile",t,e);if(r&D)throw Q(Z,"copyFile",t,e);this.writeFileBase(e,i,G.w,438)},t.prototype.copyFileSync=function(t,e,r){var i=Rt(t),n=Rt(e);return this.copyFileBase(i,n,0|(r||0))},t.prototype.copyFile=function(t,e,r,i){var n,o,s=Rt(t),a=Rt(e);"function"==typeof r?(n=0,o=r):(n=r,o=i),it(o),this.wrapAsync(this.copyFileBase,[s,a,n],o)},t.prototype.linkSync=function(t,e){var r=Rt(t),i=Rt(e);this.linkBase(r,i)},t.prototype.link=function(t,e,r){var i=Rt(t),n=Rt(e);this.wrapAsync(this.linkBase,[i,n],r)},t.prototype.unlinkBase=function(t){var e=Nt(t),r=this.getLink(e);if(!r)throw Q(Y,"unlink",t);if(r.length)throw Error("Dir not empty...");this.deleteLink(r);var i=r.getNode();i.nlink--,i.nlink<=0&&this.deleteNode(i)},t.prototype.unlinkSync=function(t){var e=Rt(t);this.unlinkBase(e)},t.prototype.unlink=function(t,e){var r=Rt(t);this.wrapAsync(this.unlinkBase,[r],e)},t.prototype.symlinkBase=function(t,e){var r=Nt(e),i=this.getLinkParent(r);if(!i)throw Q(Y,"symlink",t,e);var n=r[r.length-1];if(i.getChild(n))throw Q(j,"symlink",t,e);var o=i.createChild(n);return o.getNode().makeSymlink(Nt(t)),o},t.prototype.symlinkSync=function(t,e,r){var i=Rt(t),n=Rt(e);this.symlinkBase(i,n)},t.prototype.symlink=function(t,e,r,i){var n=it("function"==typeof r?r:i),o=Rt(t),s=Rt(e);this.wrapAsync(this.symlinkBase,[o,s],n)},t.prototype.realpathBase=function(t,e){var r=Nt(t),i=this.getResolvedLink(r);if(!i)throw Q(Y,"realpath",t);return E.strToEncoding(i.getPath(),e)},t.prototype.realpathSync=function(t,e){return this.realpathBase(Rt(t),pt(e).encoding)},t.prototype.realpath=function(t,e,r){var i=_t(e,r),n=i[0],o=i[1],s=Rt(t);this.wrapAsync(this.realpathBase,[s,n.encoding],o)},t.prototype.lstatBase=function(t,e){void 0===e&&(e=!1);var r=this.getLink(Nt(t));if(!r)throw Q(Y,"lstat",t);return u.default.build(r.getNode(),e)},t.prototype.lstatSync=function(t,e){return this.lstatBase(Rt(t),vt(e).bigint)},t.prototype.lstat=function(t,e,r){var i=Tt(e,r),n=i[0],o=i[1];this.wrapAsync(this.lstatBase,[Rt(t),n.bigint],o)},t.prototype.statBase=function(t,e){void 0===e&&(e=!1);var r=this.getResolvedLink(Nt(t));if(!r)throw Q(Y,"stat",t);return u.default.build(r.getNode(),e)},t.prototype.statSync=function(t,e){return this.statBase(Rt(t),vt(e).bigint)},t.prototype.stat=function(t,e,r){var i=Tt(e,r),n=i[0],o=i[1];this.wrapAsync(this.statBase,[Rt(t),n.bigint],o)},t.prototype.fstatBase=function(t,e){void 0===e&&(e=!1);var r=this.getFileByFd(t);if(!r)throw Q(K,"fstat");return u.default.build(r.node,e)},t.prototype.fstatSync=function(t,e){return this.fstatBase(t,vt(e).bigint)},t.prototype.fstat=function(t,e,r){var i=Tt(e,r),n=i[0],o=i[1];this.wrapAsync(this.fstatBase,[t,n.bigint],o)},t.prototype.renameBase=function(t,e){var r=this.getLink(Nt(t));if(!r)throw Q(Y,"rename",t,e);var i=Nt(e),n=this.getLinkParent(i);if(!n)throw Q(Y,"rename",t,e);var s=r.parent;s&&s.deleteChild(r);var a=i[i.length-1];r.steps=o(n.steps,[a]),n.setChild(r.getName(),r)},t.prototype.renameSync=function(t,e){var r=Rt(t),i=Rt(e);this.renameBase(r,i)},t.prototype.rename=function(t,e,r){var i=Rt(t),n=Rt(e);this.wrapAsync(this.renameBase,[i,n],r)},t.prototype.existsBase=function(t){return!!this.statBase(t)},t.prototype.existsSync=function(t){try{return this.existsBase(Rt(t))}catch(t){return!1}},t.prototype.exists=function(t,e){var r=this,i=Rt(t);if("function"!=typeof e)throw Error(x);d.default((function(){try{e(r.existsBase(i))}catch(t){e(!1)}}))},t.prototype.accessBase=function(t,e){this.getLinkOrThrow(t,"access")},t.prototype.accessSync=function(t,e){void 0===e&&(e=P);var r=Rt(t);e|=0,this.accessBase(r,e)},t.prototype.access=function(t,e,r){var i,n=P;"function"!=typeof e?(n=0|e,i=it(r)):i=e;var o=Rt(t);this.wrapAsync(this.accessBase,[o,n],i)},t.prototype.appendFileSync=function(t,e,r){void 0===r&&(r=ft);var i=lt(r);i.flag&&!kt(t)||(i.flag="a"),this.writeFileSync(t,e,i)},t.prototype.appendFile=function(t,e,r,i){var n=dt(r,i),o=n[0],s=n[1];o.flag&&!kt(t)||(o.flag="a"),this.writeFile(t,e,o,s)},t.prototype.readdirBase=function(t,e){var r=Nt(t),i=this.getResolvedLink(r);if(!i)throw Q(Y,"readdir",t);if(!i.getNode().isDirectory())throw Q(X,"scandir",t);if(e.withFileTypes){var n=[];for(var o in i.children){var s=i.getChild(o);s&&n.push(f.default.build(s,e.encoding))}return M||"buffer"===e.encoding||n.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})),n}var a=[];for(var c in i.children)a.push(E.strToEncoding(c,e.encoding));return M||"buffer"===e.encoding||a.sort(),a},t.prototype.readdirSync=function(t,e){var r=mt(e),i=Rt(t);return this.readdirBase(i,r)},t.prototype.readdir=function(t,e,r){var i=gt(e,r),n=i[0],o=i[1],s=Rt(t);this.wrapAsync(this.readdirBase,[s,n],o)},t.prototype.readlinkBase=function(t,e){var r=this.getLinkOrThrow(t,"readlink").getNode();if(!r.isSymlink())throw Q(V,"readlink",t);var i=s+r.symlink.join(s);return E.strToEncoding(i,e)},t.prototype.readlinkSync=function(t,e){var r=st(e),i=Rt(t);return this.readlinkBase(i,r.encoding)},t.prototype.readlink=function(t,e,r){var i=at(e,r),n=i[0],o=i[1],s=Rt(t);this.wrapAsync(this.readlinkBase,[s,n.encoding],o)},t.prototype.fsyncBase=function(t){this.getFileByFdOrThrow(t,"fsync")},t.prototype.fsyncSync=function(t){this.fsyncBase(t)},t.prototype.fsync=function(t,e){this.wrapAsync(this.fsyncBase,[t],e)},t.prototype.fdatasyncBase=function(t){this.getFileByFdOrThrow(t,"fdatasync")},t.prototype.fdatasyncSync=function(t){this.fdatasyncBase(t)},t.prototype.fdatasync=function(t,e){this.wrapAsync(this.fdatasyncBase,[t],e)},t.prototype.ftruncateBase=function(t,e){this.getFileByFdOrThrow(t,"ftruncate").truncate(e)},t.prototype.ftruncateSync=function(t,e){this.ftruncateBase(t,e)},t.prototype.ftruncate=function(t,e,r){var i="number"==typeof e?e:0,n=it("number"==typeof e?r:e);this.wrapAsync(this.ftruncateBase,[t,i],n)},t.prototype.truncateBase=function(t,e){var r=this.openSync(t,"r+");try{this.ftruncateSync(r,e)}finally{this.closeSync(r)}},t.prototype.truncateSync=function(t,e){if(kt(t))return this.ftruncateSync(t,e);this.truncateBase(t,e)},t.prototype.truncate=function(t,e,r){var i="number"==typeof e?e:0,n=it("number"==typeof e?r:e);if(kt(t))return this.ftruncate(t,i,n);this.wrapAsync(this.truncateBase,[t,i],n)},t.prototype.futimesBase=function(t,e,r){var i=this.getFileByFdOrThrow(t,"futimes").node;i.atime=new Date(1e3*e),i.mtime=new Date(1e3*r)},t.prototype.futimesSync=function(t,e,r){this.futimesBase(t,Bt(e),Bt(r))},t.prototype.futimes=function(t,e,r,i){this.wrapAsync(this.futimesBase,[t,Bt(e),Bt(r)],i)},t.prototype.utimesBase=function(t,e,r){var i=this.openSync(t,"r+");try{this.futimesBase(i,e,r)}finally{this.closeSync(i)}},t.prototype.utimesSync=function(t,e,r){this.utimesBase(Rt(t),Bt(e),Bt(r))},t.prototype.utimes=function(t,e,r,i){this.wrapAsync(this.utimesBase,[Rt(t),Bt(e),Bt(r)],i)},t.prototype.mkdirBase=function(t,e){var r=Nt(t);if(!r.length)throw Q(q,"mkdir",t);var i=this.getLinkParentAsDirOrThrow(t,"mkdir"),n=r[r.length-1];if(i.getChild(n))throw Q(j,"mkdir",t);i.createChild(n,this.createNode(!0,e))},t.prototype.mkdirpBase=function(t,e){for(var r=Nt(t),i=this.root,n=0;n<r.length;n++){var o=r[n];if(!i.getNode().isDirectory())throw Q(X,"mkdir",i.getPath());var s=i.getChild(o);if(s){if(!s.getNode().isDirectory())throw Q(X,"mkdir",s.getPath());i=s}else i=i.createChild(o,this.createNode(!0,e))}},t.prototype.mkdirSync=function(t,e){var r=yt(e),i=Pt(r.mode,511),n=Rt(t);r.recursive?this.mkdirpBase(n,i):this.mkdirBase(n,i)},t.prototype.mkdir=function(t,e,r){var i=yt(e),n=it("function"==typeof e?e:r),o=Pt(i.mode,511),s=Rt(t);i.recursive?this.wrapAsync(this.mkdirpBase,[s,o],n):this.wrapAsync(this.mkdirBase,[s,o],n)},t.prototype.mkdirpSync=function(t,e){this.mkdirSync(t,{mode:e,recursive:!0})},t.prototype.mkdirp=function(t,e,r){var i="function"==typeof e?void 0:e,n=it("function"==typeof e?e:r);this.mkdir(t,{mode:i,recursive:!0},n)},t.prototype.mkdtempBase=function(t,e,r){void 0===r&&(r=5);var i=t+this.genRndStr();try{return this.mkdirBase(i,511),E.strToEncoding(i,e)}catch(i){if(i.code===j){if(r>1)return this.mkdtempBase(t,e,r-1);throw Error("Could not create temp dir.")}throw i}},t.prototype.mkdtempSync=function(t,e){var r=st(e).encoding;if(!t||"string"!=typeof t)throw new TypeError("filename prefix is required");return Wt(t),this.mkdtempBase(t,r)},t.prototype.mkdtemp=function(t,e,r){var i=at(e,r),n=i[0].encoding,o=i[1];if(!t||"string"!=typeof t)throw new TypeError("filename prefix is required");Wt(t)&&this.wrapAsync(this.mkdtempBase,[t,n],o)},t.prototype.rmdirBase=function(t,e){var r=Et(e),i=this.getLinkAsDirOrThrow(t,"rmdir");if(i.length&&!r.recursive)throw Q(J,"rmdir",t);this.deleteLink(i)},t.prototype.rmdirSync=function(t,e){this.rmdirBase(Rt(t),e)},t.prototype.rmdir=function(t,e,r){var i=Et(e),n=it("function"==typeof e?e:r);this.wrapAsync(this.rmdirBase,[Rt(t),i],n)},t.prototype.fchmodBase=function(t,e){this.getFileByFdOrThrow(t,"fchmod").chmod(e)},t.prototype.fchmodSync=function(t,e){this.fchmodBase(t,Pt(e))},t.prototype.fchmod=function(t,e,r){this.wrapAsync(this.fchmodBase,[t,Pt(e)],r)},t.prototype.chmodBase=function(t,e){var r=this.openSync(t,"r+");try{this.fchmodBase(r,e)}finally{this.closeSync(r)}},t.prototype.chmodSync=function(t,e){var r=Pt(e),i=Rt(t);this.chmodBase(i,r)},t.prototype.chmod=function(t,e,r){var i=Pt(e),n=Rt(t);this.wrapAsync(this.chmodBase,[n,i],r)},t.prototype.lchmodBase=function(t,e){var r=this.openBase(t,O,0,!1);try{this.fchmodBase(r,e)}finally{this.closeSync(r)}},t.prototype.lchmodSync=function(t,e){var r=Pt(e),i=Rt(t);this.lchmodBase(i,r)},t.prototype.lchmod=function(t,e,r){var i=Pt(e),n=Rt(t);this.wrapAsync(this.lchmodBase,[n,i],r)},t.prototype.fchownBase=function(t,e,r){this.getFileByFdOrThrow(t,"fchown").chown(e,r)},t.prototype.fchownSync=function(t,e,r){Gt(e),Mt(r),this.fchownBase(t,e,r)},t.prototype.fchown=function(t,e,r,i){Gt(e),Mt(r),this.wrapAsync(this.fchownBase,[t,e,r],i)},t.prototype.chownBase=function(t,e,r){this.getResolvedLinkOrThrow(t,"chown").getNode().chown(e,r)},t.prototype.chownSync=function(t,e,r){Gt(e),Mt(r),this.chownBase(Rt(t),e,r)},t.prototype.chown=function(t,e,r,i){Gt(e),Mt(r),this.wrapAsync(this.chownBase,[Rt(t),e,r],i)},t.prototype.lchownBase=function(t,e,r){this.getLinkOrThrow(t,"lchown").getNode().chown(e,r)},t.prototype.lchownSync=function(t,e,r){Gt(e),Mt(r),this.lchownBase(Rt(t),e,r)},t.prototype.lchown=function(t,e,r,i){Gt(e),Mt(r),this.wrapAsync(this.lchownBase,[Rt(t),e,r],i)},t.prototype.watchFile=function(t,e,r){var i=Rt(t),n=e,o=r;if("function"==typeof n&&(o=e,n=null),"function"!=typeof o)throw Error('"watchFile()" requires a listener function');var s=5007,a=!0;n&&"object"==typeof n&&("number"==typeof n.interval&&(s=n.interval),"boolean"==typeof n.persistent&&(a=n.persistent));var c=this.statWatchers[i];return c||((c=new this.StatWatcher).start(i,a,s),this.statWatchers[i]=c),c.addListener("change",o),c},t.prototype.unwatchFile=function(t,e){var r=Rt(t),i=this.statWatchers[r];i&&("function"==typeof e?i.removeListener("change",e):i.removeAllListeners("change"),0===i.listenerCount("change")&&(i.stop(),delete this.statWatchers[r]))},t.prototype.createReadStream=function(t,e){return new this.ReadStream(t,e)},t.prototype.createWriteStream=function(t,e){return new this.WriteStream(t,e)},t.prototype.watch=function(t,e,r){var i=Rt(t),n=e;"function"==typeof e&&(r=e,n=null);var o=st(n),s=o.persistent,a=o.recursive,c=o.encoding;void 0===s&&(s=!0),void 0===a&&(a=!1);var h=new this.FSWatcher;return h.start(i,s,a,c),r&&h.addListener("change",r),h},t.fd=2147483647,t}();function Ht(t){t.emit("stop")}e.Volume=Ut;var xt,Yt=function(t){function e(e){var r=t.call(this)||this;return r.onInterval=function(){try{var t=r.vol.statSync(r.filename);r.hasChanged(t)&&(r.emit("change",t,r.prev),r.prev=t)}finally{r.loop()}},r.vol=e,r}return n(e,t),e.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)},e.prototype.hasChanged=function(t){return t.mtimeMs>this.prev.mtimeMs||t.nlink!==this.prev.nlink},e.prototype.start=function(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=5007),this.filename=Rt(t),this.setTimeout=e?setTimeout:_.default,this.interval=r,this.prev=this.vol.statSync(this.filename),this.loop()},e.prototype.stop=function(){clearTimeout(this.timeoutRef),p.default.nextTick(Ht,this)},e}(I.EventEmitter);function Kt(t,e,r){if(!(this instanceof Kt))return new Kt(t,e,r);if(this._vol=t,void 0===(r=g({},et(r,{}))).highWaterMark&&(r.highWaterMark=65536),S.Readable.call(this,r),this.path=Rt(e),this.fd=void 0===r.fd?null:r.fd,this.flags=void 0===r.flags?"r":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.end=r.end,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=void 0,this.bytesRead=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw new Error('"start" option must be <= "end" option');this.pos=this.start}"number"!=typeof this.fd&&this.open(),this.on("end",(function(){this.autoClose&&this.destroy&&this.destroy()}))}function Vt(t){this.close()}function jt(t,e,r){if(!(this instanceof jt))return new jt(t,e,r);if(this._vol=t,r=g({},et(r,{})),S.Writable.call(this,r),this.path=Rt(e),this.fd=void 0===r.fd?null:r.fd,this.flags=void 0===r.flags?"w":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.autoClose=void 0===r.autoClose||!!r.autoClose,this.pos=void 0,this.bytesWritten=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(this.start<0)throw new Error('"start" must be >= zero');this.pos=this.start}r.encoding&&this.setDefaultEncoding(r.encoding),"number"!=typeof this.fd&&this.open(),this.once("finish",(function(){this.autoClose&&this.close()}))}e.StatWatcher=Yt,A.inherits(Kt,S.Readable),e.ReadStream=Kt,Kt.prototype.open=function(){var t=this;this._vol.open(this.path,this.flags,this.mode,(function(e,r){if(e)return t.autoClose&&t.destroy&&t.destroy(),void t.emit("error",e);t.fd=r,t.emit("open",r),t.read()}))},Kt.prototype._read=function(t){if("number"!=typeof this.fd)return this.once("open",(function(){this._read(t)}));if(!this.destroyed){var e;(!xt||xt.length-xt.used<128)&&(e=this._readableState.highWaterMark,(xt=l.bufferAllocUnsafe(e)).used=0);var r=xt,i=Math.min(xt.length-xt.used,t),n=xt.used;if(void 0!==this.pos&&(i=Math.min(this.end-this.pos+1,i)),i<=0)return this.push(null);var o=this;this._vol.read(this.fd,xt,xt.used,i,this.pos,(function(t,e){if(t)o.autoClose&&o.destroy&&o.destroy(),o.emit("error",t);else{var i=null;e>0&&(o.bytesRead+=e,i=r.slice(n,n+e)),o.push(i)}})),void 0!==this.pos&&(this.pos+=i),xt.used+=i}},Kt.prototype._destroy=function(t,e){this.close((function(r){e(t||r)}))},Kt.prototype.close=function(t){var e=this;if(t&&this.once("close",t),this.closed||"number"!=typeof this.fd)return"number"!=typeof this.fd?void this.once("open",Vt):p.default.nextTick((function(){return e.emit("close")}));this.closed=!0,this._vol.close(this.fd,(function(t){t?e.emit("error",t):e.emit("close")})),this.fd=null},A.inherits(jt,S.Writable),e.WriteStream=jt,jt.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(t,e){if(t)return this.autoClose&&this.destroy&&this.destroy(),void this.emit("error",t);this.fd=e,this.emit("open",e)}.bind(this))},jt.prototype._write=function(t,e,r){if(!(t instanceof l.Buffer))return this.emit("error",new Error("Invalid data"));if("number"!=typeof this.fd)return this.once("open",(function(){this._write(t,e,r)}));var i=this;this._vol.write(this.fd,t,0,t.length,this.pos,(function(t,e){if(t)return i.autoClose&&i.destroy&&i.destroy(),r(t);i.bytesWritten+=e,r()})),void 0!==this.pos&&(this.pos+=t.length)},jt.prototype._writev=function(t,e){if("number"!=typeof this.fd)return this.once("open",(function(){this._writev(t,e)}));for(var r=this,i=t.length,n=new Array(i),o=0,s=0;s<i;s++){var a=t[s].chunk;n[s]=a,o+=a.length}var c=l.Buffer.concat(n);this._vol.write(this.fd,c,0,c.length,this.pos,(function(t,i){if(t)return r.destroy&&r.destroy(),e(t);r.bytesWritten+=i,e()})),void 0!==this.pos&&(this.pos+=o)},jt.prototype._destroy=Kt.prototype._destroy,jt.prototype.close=Kt.prototype.close,jt.prototype.destroySoon=jt.prototype.end;var Xt=function(t){function e(e){var r=t.call(this)||this;return r._filename="",r._filenameEncoded="",r._recursive=!1,r._encoding=E.ENCODING_UTF8,r._onNodeChange=function(){r._emit("change")},r._onParentChild=function(t){t.getName()===r._getName()&&r._emit("rename")},r._emit=function(t){r.emit("change",t,r._filenameEncoded)},r._persist=function(){r._timer=setTimeout(r._persist,1e6)},r._vol=e,r}return n(e,t),e.prototype._getName=function(){return this._steps[this._steps.length-1]},e.prototype.start=function(t,e,r,i){void 0===e&&(e=!0),void 0===r&&(r=!1),void 0===i&&(i=E.ENCODING_UTF8),this._filename=Rt(t),this._steps=Nt(this._filename),this._filenameEncoded=E.strToEncoding(this._filename),this._recursive=r,this._encoding=i;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(t){var n=new Error("watch "+this._filename+" "+t.code);throw n.code=t.code,n.errno=t.code,n}this._link.getNode().on("change",this._onNodeChange),this._link.on("child:add",this._onNodeChange),this._link.on("child:delete",this._onNodeChange);var o=this._link.parent;o&&(o.setMaxListeners(o.getMaxListeners()+1),o.on("child:delete",this._onParentChild)),e&&this._persist()},e.prototype.close=function(){clearTimeout(this._timer),this._link.getNode().removeListener("change",this._onNodeChange);var t=this._link.parent;t&&t.removeListener("child:delete",this._onParentChild)},e}(I.EventEmitter);e.FSWatcher=Xt},3762:(t,e,r)=>{"use strict";r.d(e,{U:()=>i,j:()=>n});const i=global.process&&global.process.versions&&global.process.versions.node,n="object"==typeof window||"function"==typeof DedicatedWorkerGlobalScope},3907:(t,e,r)=>{"use strict";var i,n;r.d(e,{J:()=>i,T:()=>n}),i="undefined"!=typeof TextEncoder?t=>(new TextEncoder).encode(t):t=>Buffer.from(t),n="undefined"!=typeof TextDecoder?t=>(new TextDecoder).decode(t):t=>Buffer.from(t).toString("utf-8")},1874:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});const i={0:[0,97,115,109,1,0,0,0,1,5,1,96,0,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,6,1,4,0,16,0,11],1:[0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,8,1,6,0,32,0,16,0,11],2:[0,97,115,109,1,0,0,0,1,7,1,96,2,127,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,10,1,8,0,32,0,32,1,16,0,11],3:[0,97,115,109,1,0,0,0,1,8,1,96,3,127,127,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,12,1,10,0,32,0,32,1,32,2,16,0,11],4:[0,97,115,109,1,0,0,0,1,9,1,96,4,127,127,127,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,14,1,12,0,32,0,32,1,32,2,32,3,16,0,11],5:[0,97,115,109,1,0,0,0,1,10,1,96,5,127,127,127,127,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,16,1,14,0,32,0,32,1,32,2,32,3,32,4,16,0,11],6:[0,97,115,109,1,0,0,0,1,11,1,96,6,127,127,127,127,127,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,18,1,16,0,32,0,32,1,32,2,32,3,32,4,32,5,16,0,11],7:[0,97,115,109,1,0,0,0,1,12,1,96,7,127,127,127,127,127,127,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,20,1,18,0,32,0,32,1,32,2,32,3,32,4,32,5,32,6,16,0,11],8:[0,97,115,109,1,0,0,0,1,13,1,96,8,127,127,127,127,127,127,127,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,22,1,20,0,32,0,32,1,32,2,32,3,32,4,32,5,32,6,32,7,16,0,11],9:[0,97,115,109,1,0,0,0,1,14,1,96,9,127,127,127,127,127,127,127,127,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,24,1,22,0,32,0,32,1,32,2,32,3,32,4,32,5,32,6,32,7,32,8,16,0,11]}},2692:(t,e,r)=>{"use strict";r.d(e,{R:()=>o});var i,n=r(1874);class o{constructor(t){this.core=t}preload(t,e,r){if(this.dylibTable||(this.dylibTable=new i.Table),!this.dylibTable.def.has(t))return this.core.fetchCompile(e).then((n=>{this.dylibTable.def.set(t,new i.Def(n,r,{path:t,uri:e}))}))}get import(){return c(this,["dlopen","dlsym","dlclose"])}get extlib(){return c(this,["dlerror_get"])}dlopen(t,e){var r=this.userGetCString(t).toString("utf-8");if(this.core.trace.syscalls(`dlopen("${r}", ${e})`),!this.dylibTable)return 0;var i=this.dylibTable.def.get(r);if(i){var n=i.instantiate(this.core),o=this.dylibTable.ref.size+1;return this.dylibTable.ref.set(o,{def:i,instance:n}),o}return 0}dlsym(t,e){var r,i,n=this.userGetCString(e).toString("utf-8");this.core.trace.syscalls(`dlsym(${t}, "${n}")`);var o=this.dylibTable.ref.get(t);if(o){var s=o.instance.exports[n];if(s&&s instanceof Function)return this.allocateFunc(s);var a=null===(i=null===(r=o.def.reloc)||void 0===r?void 0:r.js)||void 0===i?void 0:i[n],c=a&&this.allocateDelegate(a);if(void 0!==c)return c}return 0}dlclose(t){}dlerror_get(t){return this.userCStringMalloc("not found\0",t)}allocateFunc(t){var e=this.core.proc.funcTable.grow(1);return this.core.proc.funcTable.set(e,t),e}allocateDelegate(t){var e=n.Z[t.length];if(e){var r=new WebAssembly.Module(new Uint8Array(e)),i=new WebAssembly.Instance(r,{env:{delegate:t}});return this.allocateFunc(i.exports.glue)}console.warn(`cannot delegate function with ${t.length} arguments:`,t)}userGetCString(t){return this.core.proc.userGetCString(t)}userCStringMalloc(t,e){return this.core.proc.userCStringMalloc(t,e)}}!function(t){t.Table=class{constructor(){this.def=new Map,this.ref=new Map}},t.Def=class{constructor(t,e={},r={}){this.stackSize=65536,this.memBlocks=10,this.tblSize=1024,this.module=t,this.reloc=e,this.metadata=r}instantiate(t){var e=t.wasi.memory.buffer.byteLength+this.stackSize,r=t.proc.funcTable.length;t.wasi.memory.grow(this.memBlocks),t.proc.funcTable.grow(this.tblSize);var i=this.globals(this.module,t.wasm.instance),n=new WebAssembly.Instance(this.module,{env:{memory:t.wasi.memory,table:t.proc.funcTable,__indirect_function_table:t.proc.funcTable,__memory_base:e,__table_base:r,__stack_pointer:this._mkglobal(e),stackSave:()=>e,stackRestore:()=>{},...this.relocTable(this.module,t.wasm.instance,t.proc.import),...this.emglobals(this.module,e,t.wasm.instance,(()=>n))},...i,wasik_ext:t.proc.extlib});this.globalsInit(n,e,i["GOT.mem"]||{});var o=n.exports.__post_instantiate;o instanceof Function&&o();var s=n.exports.__wasm_call_ctors;return s instanceof Function&&s(),n}relocTable(t,e,r){var i,n=WebAssembly.Module.imports(t),o={};for(let t of n)if("env"==t.module&&"function"===t.kind){var s=(null===(i=this.reloc.js)||void 0===i?void 0:i[t.name])||e.exports[a[t.name]||t.name]||r[t.name];s instanceof Function?o[t.name]=s:(console.warn("unresolved symbol:",t,"\nin",this.metadata),o[t.name]=()=>0)}return o}globals(t,e){var r,i,n=WebAssembly.Module.imports(t),o={};for(let t of n)if("global"===t.kind&&t.module.match(s)){var a=e.exports[t.name];null!==(r=o[i=t.module])&&void 0!==r||(o[i]={}),o[t.module][t.name]=this._mkglobal(a instanceof WebAssembly.Global?a.value:void 0)}return o}globalsInit(t,e,r){for(let n in r){var i=t.exports[n];i instanceof WebAssembly.Global&&(r[n].value=e+i.value)}}emglobals(t,e,r,i){var n=WebAssembly.Module.imports(t),o=WebAssembly.Module.exports(t),s={};for(let t of n)if("function"===t.kind&&t.name.startsWith("g$")){let n,a=t.name.slice(2);(n=r.exports[a])?s[t.name]=()=>n:(n=o.find((t=>t.name==a)))&&(s[t.name]=()=>{return t=a,e+ +i().exports[t];var t})}return s}_mkglobal(t=3735928559){return new WebAssembly.Global({value:"i32",mutable:!0},t)}}}(i||(i={}));const s=/^GOT[.]/,a={fiprintf:"fprintf"};function c(t,e){return e.reduce(((e,r)=>Object.assign(e,{[r]:t[r].bind(t)})),{})}},1641:(t,e,r)=>{"use strict";r.d(e,{fs:()=>n});const i={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_DSYNC:4194304,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_COPYFILE_EXCL:1,COPYFILE_EXCL:1},n=new class{constructor(){this.constants=i}strmode(t){let e="";return e+={[i.S_IFDIR]:"d",[i.S_IFCHR]:"c",[i.S_IFBLK]:"b",[i.S_IFREG]:"-",[i.S_IFLNK]:"l",[i.S_IFSOCK]:"s",[i.S_IFIFO]:"p"}[t&i.S_IFMT]||"?",e+=t&i.S_IRUSR?"r":"-",e+=t&i.S_IWUSR?"w":"-",e+=t&i.S_IXUSR?"x":"-",e+=t&i.S_IRGRP?"r":"-",e+=t&i.S_IWGRP?"w":"-",e+=t&i.S_IXGRP?"x":"-",e+=t&i.S_IROTH?"r":"-",e+=t&i.S_IWOTH?"w":"-",e+=t&i.S_IXOTH?"x":"-",e}}},1054:(t,e,r)=>{"use strict";r.d(e,{p:()=>_,w:()=>I});var i=r(2357),n=r.n(i),o=r(5622),s=r.n(o),a=r(8614),c=r(7118),h=r(3590),u=r(4293),f=r(44),l=r(2692),d=r(1641),p=r(3907);class _ extends a.EventEmitter{constructor(t,e={}){super(),this.core=t,this.opts=e,this.sigvec=new I,this.sigvec.on("signal",(t=>this.emit("syscall",{func:"signal",data:t}))),this.childq=new f.W({data:new Uint32Array(new v(512))}),this.childset=new Set,this.dyld=new l.R(t),this.pending=[]}init(){const t=this.newfd()+1,e={real:t,rights:y,filetype:c.WASI_FILETYPE_DIRECTORY,path:".",fakePath:"."};this.core.wasi.FD_MAP.set(S,e),this.core.wasi.FD_MAP.set(t,e),this.core.wasmFs.fs.writeFileSync("/dev/null","")}get import(){return this.sigvec.debug=this.debug,this.funcTable||(this.funcTable=new WebAssembly.Table({initial:this.opts.funcTableSz||1024,element:"anyfunc"})),{...h.Z,__indirect_function_table:this.funcTable,...T(this,["geteuid","strmode","__control_setjmp","__control_setjmp_with_return","setjmp","longjmp","sigsetjmp","siglongjmp","vfork","__control_fork","wait","wait3","execve","sigkill","sigsuspend","sigaction","getpagesize","posix_spawn"]),...this.dyld.import}}get extlib(){return{...T(this,["trace","sorry","dupfd","progname_get","login_get"]),...this.dyld.extlib}}get path(){return{...s(),resolve:(t,...e)=>("."==t&&(t=this.core.env.PWD),s().resolve(t||"/",...e))}}get mem(){return this.core.wasi.refreshMemory(),this.core.wasi.view}get membuf(){return u.Buffer.from(this.core.wasi.memory.buffer)}sorry(){for(var t;t=this.pending.pop();t());}getenv_all(){var t=this.core.wasm.instance.exports.wasik_environ;return"function"==typeof t?this.parse_env(t()):{}}parse_env(t){var e={};for(let r of this.userGetCStrings(t))this._parse_envvar(r,e);return e}_parse_envvar(t,e){try{var r=(new TextDecoder).decode(t),i=r.match(/^(.*?)=(.*)$/);i?e[i[1]]=i[2]:console.warn(`invalid envvar? '${r}'`)}catch(t){console.warn("parse_env",t)}}progname_get(t){var e=this.core.argv[0]+"\0";return this.userCStringMalloc(e,t)}login_get(t){return this.userCStringMalloc("user\0",t)}geteuid(){return 0}trace(t){var e=this.userGetCString(t);this.core.trace.user(e)}realpath(t,e){var r=this.userGetCString(t);if(0===e)throw"realpath(0): not implemented";let i=s().resolve(this.core.env.PWD,(0,p.T)(r))+"\0";if(i.length>E)throw{errno:1,code:"ERANGE"};return this.membuf.write(i,e),e}newfd(t=0){var e=Math.max(...this.core.wasi.FD_MAP.keys());return Math.max(t,e+1)}dupfd(t,e,r){this.core.trace.syscalls(`dupfd(${t}, ${e}, ${r}`);var i=this.core.wasi.FD_MAP.get(t);if(!i)return-1;var n=this.newfd(e);return this.core.wasi.FD_MAP.set(n,this.dupdesc(i)),n}dupdesc(t){var e=this.core.wasmFs.volume.openSync("/","r"),r=this.core.wasmFs.volume.fds;return r[e]=r[t.real],Object.assign({},t,{real:e})}strmode(t,e){let r=d.fs.strmode(t)+"\0";this.membuf.write(r,e)}__control_setjmp(t,e){this.debug(`__control_setjmp [${t}, ${e}]`),this.mem.setUint32(t,0);let r=this.blockImpl(e),i=0;try{for(;;)try{return r(i)}catch(e){if(this.debug(`setjmp caught ${JSON.stringify(e)}`),!(e instanceof A&&e.env==t))throw e;i=e.val}}finally{this.debug("__control_setjmp exiting")}}__control_setjmp_with_return(t,e){return this.__control_setjmp(t,e)}setjmp(t){return console.warn("setjmp",t),0}longjmp(t,e){throw this.debug(`longjmp [${t}] ${e}`),new A(t,e)}sigsetjmp(t,e){return this.core.trace.syscalls(`sigsetjmp(${t}, ${e})`),0}siglongjmp(t,e){this.longjmp(t,e)}vfork(){this.core.trace.syscalls("vfork()");var t=Math.max(0,...this.childset)+1;return this.childset.add(t),this.onJoin=e=>{if(!(e instanceof g))throw e;{let r=e;this.emit("syscall",{func:"spawn",data:{pid:t,execv:r.copy(),env:this.getenv_all()}})}},t}__control_fork(t,e,r){let i=this.blockImpl(r);try{i(t),this.onJoin&&this.onJoin(null)}catch(t){this.onJoin&&this.onJoin(t)}this.onJoin=null,i(e)}execve(t,e,r){throw this.core.trace.syscalls(`execv(${t}, ${e}, ${r})`),new g((0,p.T)(this.userGetCString(t)),this.userGetCStrings(e),this.userGetCStrings(r))}posix_spawn(t,e,r,i,n,o){var s=(0,p.T)(this.userGetCString(e));this.core.trace.syscalls(`posix_spawn(${t}, "${s}", ${r}, ${i}, ...})`);var a=new g(s,this.userGetCStrings(n),this.userGetCStrings(o)),c=Math.max(0,...this.childset)+1;return this.emit("syscall",{func:"spawn",data:{pid:c,execv:a,env:this.core.env}}),this.mem.setUint32(t,c,!0),0}wait(t){return this.core.trace.syscalls(`wait(${t})`),this.waitBase(t)}wait3(t,e,r){return this.core.trace.syscalls(`wait3(${t}, ${e}, ${r})`),this.waitBase(t)}waitBase(t){var e=this.childq.dequeue(),r=this.childq.dequeue();return this.debug(`  -> ${e}`),0!==t&&this.mem.setUint32(t,r<<8,!0),e}userGetCString(t){if(0==t)return null;let e=u.Buffer.from(this.core.wasi.memory.buffer);return e.slice(t,e.indexOf(0,t))}userGetCStrings(t){if(0==t)return null;let e=[];for(;;){let r=this.mem.getUint32(t,!0);if(0===r)break;e.push(this.userGetCString(r)),t+=4}return e}userCStringMalloc(t,e){return this.pending.push((()=>{let r=this.mem.getUint32(e,!0);this.membuf.write(t,r)})),t.length}blockImpl(t){let e=this.funcTable.get(this.mem.getUint32(t+12,!0));return(...r)=>e(t,...r)}sigkill(t){this.sigvec.send(t)}sigsuspend(){this.sigvec.receive()}sigaction(t,e,r){if(this.core.trace.syscalls(`sigaction(${t}, ${e}, ${r})`),0!=e){var i=this.mem.getUint32(e,!0),n=this.funcTable.get(i);this.core.trace.syscalls(" --\x3e",i,n),this.sigvec.handlers[t]=n}0!=r&&this.mem.setUint32(r,0)}getpagesize(){return 4096}}const S=-100,y={base:c.RIGHTS_ALL,inheriting:c.RIGHTS_ALL};class I extends a.EventEmitter{constructor(t={}){super(),this.wait=t.wait||new Int32Array(new v(4*m)),this.handlers=Array(m)}static from(t){return new I(t)}to(){return{wait:this.wait}}send(t){n()(0<t&&t<m),Atomics.add(this.wait,0,1),Atomics.add(this.wait,t,1),Atomics.notify(this.wait,0,1)}receive(t){return this._snapshot||(this._snapshot=new Int32Array(m)),Atomics.wait(this.wait,0,Atomics.load(this.wait,0)),this.sweep(t),-1}sweep(t){for(let e=1;e<m;e++)if(!t||t.includes(e)){let t=this.handlers[e];t&&this._snapshot[e]<this.wait[e]&&(this.debug("calling",t),t(e)),this._snapshot[e]=this.wait[e]}}}const E=256,m=20;class g{constructor(t,e,r){this.prog=t,this.argv=e,this.envp=r}copy(){var t=t=>t.map((t=>u.Buffer.from(t)));return new g(this.prog,t(this.argv),t(this.envp))}}class A{constructor(t,e){this.env=t,this.val=e}}const v="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function T(t,e){return e.reduce(((e,r)=>Object.assign(e,{[r]:t[r].bind(t)})),{})}},44:(t,e,r)=>{"use strict";r.d(e,{W:()=>i});class i{constructor(t){this._data=t.data,this._wait=t.wait||new Int32Array(new n(8))}static from(t){return new i(t)}to(){return{data:this._data,wait:this._wait}}enqueue(t){let e=Atomics.load(this._wait,0),r=Atomics.load(this._wait,1);return e?e--:e=this._data.length,e!=r?(Atomics.store(this._data,r++,t),Atomics.store(this._wait,1,r),Atomics.notify(this._wait,1,1),1):0}enqueueAll(t){let e=Atomics.load(this._wait,0),r=Atomics.load(this._wait,1);var i;for(e?e--:e=this._data.length,i=0;e!=r&&i<t.length;i++)Atomics.store(this._data,r++,t[i]);return i>0&&(Atomics.store(this._wait,1,r),Atomics.notify(this._wait,1,1)),i}wait(){let t=Atomics.load(this._wait,0),e=Atomics.load(this._wait,1);for(;t==e;)Atomics.wait(this._wait,1,e),e=Atomics.load(this._wait,1)}dequeue(){this.wait();let t=Atomics.load(this._wait,0),e=Atomics.load(this._data,t++);return Atomics.store(this._wait,0,t),Atomics.notify(this._wait,0,1),e}dequeueSome(t,e,r){if(0==t)return 0;this.wait();let i=Atomics.load(this._wait,0),n=Atomics.load(this._wait,1);var o;for(o=0;i!=n&&r<t;o++)e[r++]=Atomics.load(this._data,i++),n>=this._data.length&&(n=0);return Atomics.store(this._wait,0,i),Atomics.notify(this._wait,0,1),o}isEmpty(){return Atomics.load(this._wait,0)==Atomics.load(this._wait,1)}}const n="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer},3590:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const i={debug:t=>{}};for(let t of["signal","raise","pipe","dup","dup2","dup3","execv","execl","execvp","execlp","getpwnam","getpwnam_r","getpwent","tcsetpgrp","kill","killpg","fork","realpath","getpid","getpgid","setpgid","getpgrp","setpgrp","issetugid","strsignal","wait4","waitpid","getuid","geteuid","getgid","getegid","getsid","setegid","seteuid","setgid","setuid","setsid","umask","getrlimit","setrlimit","getpriority","setpriority","sigfillset","sigprocmask","sigsetmask","siginterrupt","sigaltstack","sigwait","sigpending","getppid","tcgetpgrp","gethostname","tzset","flockfile","ftrylockfile","funlockfile","getpwuid","getpwuid_r","setpwent","endpwent","getgrgid","setreuid","setregid","strmode","acl_get_file","acl_free","acl_get_entry","fchdir","chown","fchown","lchown","fchownat","chmod","fchmod","fchmodat","lchmod","chflags","fchflags","lchflags","chroot","getgroups","utimes","futimes","lutimes","clock_gettime","clock_settime","alarm","system","mkfifo","mkstemp","mkstemps","mkostemp","mkostemps","tmpfile","settimeofday","bsd_signal","ttyname","ttyname_r","ctermid_r","socket","connect","popen","pclose","sync","nice","errx","vwarnx","posix_spawn","posix_spawnp","posix_spawnattr_init","posix_spawnattr_destroy","posix_spawnattr_setflags","posix_spawnattr_setsigmask","posix_spawn_file_actions_init","posix_spawn_file_actions_destroy","posix_spawn_file_actions_addopen","posix_spawn_file_actions_addclose","posix_spawn_file_actions_adddup2","pthread_mutex_init","pthread_mutex_lock","pthread_cond_timedwait","pthread_cond_signal","pthread_mutex_unlock","pthread_cond_destroy","pthread_mutex_destroy","pthread_cond_wait","pthread_cond_init","pthread_attr_init","pthread_attr_setstacksize","pthread_attr_destroy","pthread_create","pthread_detach","pthread_self","pthread_kill","pthread_exit","pthread_mutex_trylock","pthread_key_create","pthread_key_delete","pthread_setspecific","pthread_getspecific","pthread_sigmask","pthread_attr_getscope","pthread_attr_setscope","posix_spawnattr_setpgroup","posix_spawnattr_setsigdefault","tgetent","tgetflag","tgetnum","tgetstr","tgoto","tputs","cfgetospeed","cfgetispeed","cfsetospeed","cfsetispeed","tcsendbreak","tcdrain","tcflush","tcflow","tcgetsid","login","login_tty","logout","logwtmp","opendev","openpty","fparseln","forkpty","pidlock","ttylock","ttyunlock","ttyaction","ttymsg"])i[t]=function(){i.debug(`stub for ${t} [${[...arguments]}]`)};const n=i},2152:(t,e,r)=>{"use strict";r.d(e,{u:()=>o});var i,n=r(8614);class o extends n.EventEmitter{constructor(t){super(),this.core=t,this.fds=[],this.stdin_fl=0,this.termios={flags:[258,3,0,10],win:this.defaultWindow()},this.core.on("stream:out",(t=>{this.fds.includes(t.fd)&&this.emit("data",t.data)})),this.debug=()=>{}}to(){return{termios:{win:this.termios.win}}}makeTty(t){this.core.wasi.FD_MAP.get(t).filetype=2,this.core.wasi.FD_MAP.get(t).rights.base&=~BigInt(36)}write(t){this.core.stdin.write(t)}fd_fdstat_set_flags(t,e){return this.debug(`fdstat_set_flags(${t}, ${e})\n`),0===t&&(this.stdin_fl=e,this.core.stdin.blocking=!(4&e)),0}fd_fdstat_get(t,e){var r=this.core.wasi.wasiImport.fd_fdstat_get(t,e);return 0===t&&this.core.proc.mem.setUint16(e+2,this.stdin_fl,!0),r}defaultWindow(){var t=new Uint16Array(new SharedArrayBuffer(4));return t[0]=24,t[1]=80,t}get overrideImport(){return s(this,["fd_fdstat_get","fd_fdstat_set_flags"])}get import(){return s(this,["tcgetattr","tcsetattr","tgetent"])}get extlib(){return s(this,["tty_ioctl"])}tcgetattr(t,e){this.debug(`tcgetattr(${t}, ${e})`);let r=this.core.proc.mem;return this.termios.flags.forEach(((t,i)=>{r.setUint32(e+4*i,t,!0)})),r.setUint8(e+16+1+5,0),r.setUint8(e+16+1+6,1),0}tcsetattr(t,e,r){this.debug(`tcsetattr(${t}, ${e}, ${r})`);let i=this.core.proc.mem,n=a(4).map((t=>i.getUint32(r+4*t,!0))),o=a(32).map((t=>i.getUint8(r+16+1+t)));return this.debug(`  [${n.map((t=>"0"+t.toString(8))).join(", ")}] [${o}]`),this.termios.flags=n,this.core.stdin.blocking=o[6]>0,this.core.proc.emit("syscall",{func:"ioctl:tty",data:{fd:t,when:e,flags:n}}),0}tgetent(t,e){return this.debug(`tgetent(_, '${this.core.proc.userGetCString(e)}')`),1}tty_ioctl(t,e,r){if(console.warn("tty_ioctl",t,e,r),1==t){var n=this.core.proc.mem,o=this.termios.win;switch(e){case i.TIOCGWINSZ:for(let t=0;t<o.length;t++)n.setUint16(r+2*t,o[t],!0);break;case i.TIOCSWINSZ:var s=o.map(((t,e)=>n.getUint16(r+2*e)));this.core.proc.emit("syscall",{func:"ioctl:tty",data:{fd:t,request:e,win:s}})}}}}function s(t,e){return e.reduce(((e,r)=>Object.assign(e,{[r]:t[r].bind(t)})),{})}function a(t){return[...Array(t).keys()]}!function(t){t[t.TCSETFL=1]="TCSETFL",t[t.TIOCGWINSZ=21523]="TIOCGWINSZ",t[t.TIOCSWINSZ=21524]="TIOCSWINSZ"}(i||(i={}))},7098:(t,e,r)=>{"use strict";r.r(e),r.d(e,{WASIExitError:()=>I,ExecCore:()=>_});var i=r(8614),n=r(2357),o=r.n(n),s=r(6551),a=r(4054),c=r(273),h=r(7131),u=r(2152),f=r(1054),l=r(3590),d=r(3907),p=r(3762);a.WASI.defaultBindings=p.j?r(3709).Z:r(3751).Z;class _ extends i.EventEmitter{constructor(t={}){super(),this.debug=y,this.trace={user:y,syscalls:y},this.opts=t=Object.assign({},S,t),this.stdin=t.stdin?new h.w:null,this.wasmFs=new c.Yn,this.populateRootFs(),this.proc=new f.p(this,t.proc),this.tty=t.tty?new u.u(this):null,this.cached=!1!==t.cacheBins?new Map:null,this.init()}initTraces(){var t;this.opts.debug&&(this.debug=this._debugPrint(),this.trace.user=this._tracePrint()),(null===(t=this.opts.trace)||void 0===t?void 0:t.syscalls)&&(this.trace.syscalls=this._tracePrintAny()),this.tty&&(this.tty.debug=(...t)=>this.debug(...t)),this.proc.debug=(...t)=>this.debug(...t),l.Z.debug=this.debug}init(){this.argv=["."],this.env=this.initialEnv(),this.wasi=new a.WASI({args:this.argv,env:this.env,bindings:{...a.WASI.defaultBindings,exit:t=>{throw new I(t)},fs:this.wasmFs.fs,path:this.proc.path},preopens:{"/":"/"},...this.extraWASIConfig()}),this.exited=!1,this.registerStdio(),this.proc.init();let t=this.opts.tty;if(t){var e="number"==typeof t?[t]:"boolean"==typeof t?[0,1,2]:t;this.tty.fds=e;for(let t of e)this.tty.makeTty(t)}}configure(t){Object.assign(this.opts,t)}reset(){this.stdin&&this.stdin.reset(),this.init()}async start(t,e,r){this.exited&&this.reset(),e&&this.argv.splice(0,1/0,...e),r&&Object.assign(this.env,r),this.proc.opts=this.opts.proc||{},this.initTraces();var i=await this.fetchCompile(t),n=await WebAssembly.instantiate(i,this.getImports(i));this.wasm={module:i,instance:n};try{return this.wasi.start(this.wasm.instance),0}catch(t){if(t instanceof I)return t.code;throw t}finally{this.exited=!0}}get fs(){return this.wasmFs.fs}async fetch(t){if("undefined"!=typeof fetch){const e=await fetch(t);return new Uint8Array(await e.arrayBuffer())}return(0,r(5747).readFileSync)(t)}async fetchCompile(t){return r=t,i=async t=>{var e=await this.fetch(t);return WebAssembly.compile(e)},(e=this.cached)?function(t,e,r){let i=t.get(e);return i||(i=r(e),t.set(e,i)),i}(e,r,i):i(r);var e,r,i}getImports(t){var e,r;return{...this.wasi.getImports(t),wasik_ext:{...this.proc.extlib,...null===(e=this.tty)||void 0===e?void 0:e.extlib},env:{...this.proc.import,...null===(r=this.tty)||void 0===r?void 0:r.import}}}share(){return{stdin:this.stdin.to(),tty:this.tty.to(),sigvec:this.proc.sigvec.to(),childq:this.proc.childq.to()}}emitWrite(t,e){return this.emit("stream:out",{fd:t,data:e}),e.length}initialEnv(){return this.opts.env?Object.assign({},this.opts.env):this.defaultEnv()}defaultEnv(){return{PATH:"/bin",PWD:"/home"}}extraWASIConfig(){let t=this.opts;return{traceSyscalls:t.trace&&t.trace.syscalls}}registerStdio(){var t=this.wasmFs.volume;if(!(t.fds[0]&&t.fds[1]&&t.fds[2])){t.releasedFds=[0,1,2];const e=t.openSync("/dev/stderr","w"),r=t.openSync("/dev/stdout","w"),i=t.openSync("/dev/stdin","r");o()(0==i&&1==r&&2==e)}this.stdin&&(t.fds[0].read=this.stdin.read.bind(this.stdin)),t.fds[1].write=t=>this.emitWrite(1,t),t.fds[2].write=t=>this.emitWrite(2,t)}mountFs(t){t.fromJSON(this.wasmFs.volume.toJSON()),this.wasmFs.volume=t,this.wasmFs.fs=(0,s.createFsFromVolume)(t),this.init()}populateRootFs(){this.wasmFs.fs.mkdirSync("/home"),this.wasmFs.fs.mkdirSync("/bin")}_debugPrint(){return global.process?(...t)=>this.emitWrite(2,(0,d.J)(t.join(" ")+"\n")):console.log}_tracePrint(){return global.process?t=>this.emitWrite(2,t):t=>console.warn("[trace]",(0,d.T)(t),t)}_tracePrintAny(){return global.process?(...t)=>this.emitWrite(2,(0,d.J)(t.toString())):(...t)=>console.warn("[trace]",...t)}}const S={stdin:!0},y=()=>{};class I{constructor(t){this.code=t}}},7131:(t,e,r)=>{"use strict";r.d(e,{w:()=>o,D:()=>s});var i=r(8614),n=r(44);class o extends i.EventEmitter{constructor(t={}){super(),this.queue=n.W.from(t.queue||{data:new Uint8Array(new a(1024))}),this.meta=t.meta||new Int32Array(new a(4)),t.meta||(this.length=-1),this.pos=0,this.blocking=!0}static from(t){return new o(t)}to(){return{queue:this.queue.to(),meta:this.meta}}get length(){return Atomics.load(this.meta,0)}set length(t){Atomics.store(this.meta,0,t)}read(t,e,r,i){if(r>t.length&&(r=t.length),this.queue.isEmpty()){if(e>0)return 0;if(!this.blocking)throw{errno:35,code:"EAGAIN"}}if(this.length>=0&&this.pos>=this.length)return 0;var n=this.queue.dequeueSome(r,t,e);return n>0&&(this.length>=0&&(n=Math.min(this.length-this.pos,n)),this.pos+=n,this.emit("data",t.slice(e,n))),n}write(t){let e=this.queue.enqueueAll(t);return this.pos+=e,e}end(){this.length=this.pos,this.queue.enqueue(0)}reset(){this.length=-1,this.pos=0,this.blocking=!0}}class s extends i.EventEmitter{constructor(t){super(),this.ts=t,this.writer=this.ts.writable.getWriter(),this.reader=this.ts.readable.getReader(),(async()=>{for(;;){let{done:t,value:e}=await this.reader.read();if(e&&this.emit("data",e),t){this.emit("end");break}}})()}write(t){this.writer.write(t)}end(){this.writer.close()}}const a="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer},2357:t=>{"use strict";t.exports=require("assert")},4293:t=>{"use strict";t.exports=require("buffer")},6417:t=>{"use strict";t.exports=require("crypto")},8614:t=>{"use strict";t.exports=require("events")},5747:t=>{"use strict";t.exports=require("fs")},5622:t=>{"use strict";t.exports=require("path")},1765:t=>{"use strict";t.exports=require("process")},2413:t=>{"use strict";t.exports=require("stream")},3867:t=>{"use strict";t.exports=require("tty")},8835:t=>{"use strict";t.exports=require("url")},1669:t=>{"use strict";t.exports=require("util")},5013:t=>{"use strict";t.exports=require("worker_threads")}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,r),o.exports}r.m=t,r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.u=t=>t+".index.js",r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.p="",r.b=require("url").pathToFileURL(__filename);var i={};(()=>{"use strict";r.r(i),r.d(i,{BareProcess:()=>l,ExecCore:()=>p.ExecCore,Process:()=>u,SharedVolume:()=>m,WorkerProcess:()=>f});var t=r(8614),e=r(7131),n=r(1054),o=r(3762);let s,a,c;if(o.j)s=self.Worker,a=self.postMessage,c=t=>addEventListener("message",t);else if(o.U){const t=r(5013);class e{constructor(e){this.thread=new t.Worker(e)}addEventListener(t,e){this.thread.on(t,(t=>{e({data:t})}))}postMessage(t){this.thread.postMessage(t)}static onMessage(e){t.parentPort.on("message",(t=>{e({data:t})}))}static postMessage(e){t.parentPort.postMessage(e)}}s=e,c=e.onMessage,a=e.postMessage}var h=r(44);class u extends t.EventEmitter{constructor(t){super(),this.opts=t,this.setupEncoder()?this.stdout=new e.D(new TextDecoderStream):"undefined"!=typeof process&&process.stdin&&(process.stdin.on("data",(t=>this.stdin_raw.write(t))),this.stdout=process.stdout),this.on("exit",(()=>this.exited=!0))}waitFor(){var t,e;return new Promise(((r,i)=>{this.on("error",t=t=>i(t)),this.on("exit",e=t=>r(t))})).finally((()=>{this.removeListener("error",t),this.removeListener("exit",e)}))}reset(){this.exited=!1,this.stdin_raw.reset(),this.setupEncoder()}setupEncoder(){return"undefined"!=typeof TextEncoderStream&&(this.stdin=new e.D(new TextEncoderStream),this.stdin.on("data",(t=>this.stdin_raw.write(t))),this.stdin.on("end",(()=>this.stdin_raw.end())),!0)}}class f extends u{constructor(t,i={}){super(i),this.worker=new s(new URL(r.p+r.u(960),r.b)),this.worker.addEventListener("message",(r=>{r.data.stdin&&(this.stdin_raw=e.w.from(r.data.stdin)),r.data.tty&&(this.tty=r.data.tty),r.data.sigvec&&(this.sigvec=n.w.from(r.data.sigvec)),r.data.childq&&(this.childq=h.W.from(r.data.childq)),r.data.fd&&this.stdout.write(r.data.data),r.data.event&&this.emit(r.data.event,r.data.arg,t)})),t&&this.exec(t)}mountFs(t){return this.worker.postMessage({volume:t.to()}),this}exec(t,e){this.exited&&this.reset(),e&&(this.opts.argv=e),this.worker.postMessage({exec:t,opts:this.opts})}}class l extends u{constructor(t,e={}){super(e),this.exec(t)}async exec(t,e){const{ExecCore:i}=await Promise.resolve().then(r.bind(r,7098));this.core=new i({argv:e,...this.opts}),this.core.on("stream:out",(t=>process.stdout.write(t.data)));try{let e=await this.core.start(t,this.opts.argv);this.emit("exit",{code:e})}catch(e){this.emit("error",e,t)}}}var d,p=r(7098),_=r(6551),S=r(6898),y=r(1172),I=r(2357),E=r.n(I);class m extends _.Volume{constructor(t={}){let e;super({Node:class{constructor(t,r){return new A(e,t,r)}},Link:v}),this.dev=g.from(t.dev),e=this;var r=this.root.getNode();r.vol=this,r._link=this.root,this.debug=()=>{}}static from(t){return new m(t)}to(){return{dev:this.dev.to()}}writeBlob(t,e){var r=this.openSync(t,_.fs.constants.O_CREAT),i=this.fds[r].node,n=this.dev.allocBlob(e.length);n.set(e,0),i.setBlob(n),this.closeSync(r)}createLink(t,e,r,i){const n=super.createLink(t,e,r,i);return t&&this.debug("+ created link",t.ino,e,n.ino),n.push(),n}deleteLink(t){this.debug("deleted link",t.parent.ino,t.getName(),t.ino);var e=t.parent,r=super.deleteLink(t);return e.push(),r}createNode(t=!1,e){if(!this.dev)return super.createNode(t,e);const r=new this.props.Node(this.dev.alloc(),e);return t&&r.setIsDirectory(),this.inodes[r.ino]=r,r.push(),r}getNodeShared(t){return this.inodes[t]||this._fetchNode(t)}createSymlink(t,e){this.symlinkSync("",e);var r=this.getLink((0,S.filenameToSteps)(e)),i=t.split("/");return""==i[0]?i.splice(0,1):i.splice(0,0,"."),r.getNode().makeSymlink(i),r}getResolvedLink(t){let e="string"==typeof t?(0,S.filenameToSteps)(t):t,r=this.root;for(let t=0;t<e.length;){const i=e[t],n=r.getChild(i);if(!n)return null;const o=n.getNode();if(o.isSymlink()){if(e=o.symlink.concat(e.slice(t+1)),t=0,"."!==e[0]){r=this.root;continue}}else r=n;t++}return r}_fetchNode(t){var e=new this.props.Node(t);return this.inodes[t]=e,e}}class g{constructor(t={}){this.raw=t.raw||new SharedArrayBuffer(t.size||1<<20),this.blockSize=t.blockSize||1024,this.blockCount=this.raw.byteLength/this.blockSize,this.bitset=t.bitset||new Uint8Array(new SharedArrayBuffer(this.blockCount)),this.cursors=t.cursors||new Uint32Array(new SharedArrayBuffer(12)),t.cursors||(this.blockCursor=2,this.boundaryCursor=2,this.blobCursor=this.raw.byteLength)}static from(t){return new g(t)}to(){return{raw:this.raw,blockSize:this.blockSize,bitset:this.bitset,cursors:this.cursors}}get(t){var e=t*this.blockSize;return new Uint8Array(this.raw,e,this.blockSize)}isFree(t){return 0==Atomics.load(this.bitset,t)}get blockCursor(){return this.cursors[0]}set blockCursor(t){this.cursors[0]=t}get boundaryCursor(){return this.cursors[1]}set boundaryCursor(t){this.cursors[1]=t}get blobCursor(){return this.cursors[2]}set blobCursor(t){this.cursors[2]=t}alloc(){let t=this.blobCursor/this.blockSize;for(let e=this.blockCursor;e<t;e++)if(0==this.bitset[e]&&0==Atomics.compareExchange(this.bitset,e,0,1))return this.blockCursor=e,this.boundaryCursor=Math.max(this.boundaryCursor,e+1),e;throw new Error("no space left on device")}allocBlob(t){var e=this.blobCursor-t;if(e<this.boundaryCursor*this.blockSize)throw new Error("no space left on device");return this.blobCursor=e,this.getBlob(e,t)}getBlob(t,e){var r=new Uint8Array(this.raw,t,e);return Object.setPrototypeOf(r,Buffer.prototype),r}readText(t,e=0){var r=this.get(t);return r=r.slice(e,r.indexOf(0,e)),{buf:new TextDecoder("utf-8").decode(r),size:r.length+1}}read(t,e=0,r){var i=this.get(t).slice(e,r>=0?e+r:void 0);return{buf:i,size:i.length}}readInto(t,e,r,i,n){var o=this.get(t).subarray(e,e+r);return i.set(o,n),o.length}writeText(t,e,r=0){var i=Buffer.from(e+"\0","utf-8");if(i.length+r>this.blockSize)throw new Error(`inode text overflow (block=${t}, length=${i.length})`);return this.write(t,i,r)}write(t,e,r=0){return r+e.length>this.blockSize&&(e=e.subarray(0,this.blockSize-r)),this.get(t).set(e,r),e.length}}class A extends y.Node{constructor(t,e,r){super(e,r),this.vol=t,this.ver=0,this.isBlob=!1,this._link=null}setModeProperty(t){super.setModeProperty(t),this.ver++,this.push()}getLink(t,e){return this._link||(E()(t&&e),this._link=new v(this.vol,t,e),this._link.setNode(this)),this._link}setBlob(t){this.buf=t,this.isBlob=!0,this.touch()}touch(){super.touch(),this.ver++,this.push()}del(){super.del()}push(){if(this.vol&&this.vol.dev){var t=this.vol.dev.get(this.ino),e={p:this.perm,m:this.mode,v:this.ver},r=this.buf;0!=t[0]&&(e=Object.assign(this._read().header,e)),r&&(e.z=r.length),this.isBlob&&(e.blob=[r.byteOffset],r=void 0),this.symlink&&(e.symlink=this.symlink),this.vol.debug("+ push node",this.ino,e);var i=this._write(e,r);this._writeTrail(r,i)}}pull(){if(this.vol&&0!=this.vol.dev.get(this.ino)[0]){var{header:t,rdc:e}=this._read();if(this.vol.debug("- pull node",this.ino,t),this.perm=t.p,this.mode=t.m,this.symlink=t.symlink,this.symlink&&console.log("symlink",this.symlink),this.ver!=t.v&&(this.ver=t.v,t.z>=0))if(t.blob)this.buf=this.vol.dev.getBlob(t.blob[0],t.z),this.isBlob=!0;else{var r=Buffer.alloc(t.z),i=this.vol.dev.readInto(this.ino,e,t.z,r,0);t.n>0&&this._readTrail(r,i),this.buf=r,this.isBlob=!1}}}_read(){var{buf:t,size:e}=this.vol.dev.readText(this.ino);return{header:JSON.parse(t),rdc:e}}_write(t,e){var r=this._writeJson(t||{});if(e&&r+e.length>this.vol.dev.blockSize){var i=this._next(t).ino;r=this._writeJson(Object.assign({},t,{n:i}))}return e?this.vol.dev.write(this.ino,e,r):0}_writeJson(t){return this.vol.dev.writeText(this.ino,JSON.stringify(t))}_writeTrail(t,e){for(var r=this;t&&e<t.length;)t=t.subarray(e),e=(r=r._next())._write(null,t),E()(e>0)}_readTrail(t,e){for(var r=this;e<t.length;){r=r._next();var{header:i,rdc:n}=r._read();if(n=this.vol.dev.readInto(r.ino,n,t.length-e,t,e),E()(n>0),e+=n,!(i.n>=0))break}E()(e==t.length)}_next(t){return t||(t=this._read().header),t.n>=0?this.vol.getNodeShared(t.n):this.vol.createNode()}}class v extends y.Link{constructor(t,e,r){return super(t,e,r),this.ver=0,this._dirty=!1,new Proxy(this,new d.LinkHandler)}createChild(t,e=this.vol.createNode()){this._dirty=!0;const r=new v(this.vol,this,t);return r.setNode(e),this.setChild(t,r),r}setChild(t,e){return this._dirty=!0,e=super.setChild(t,e),this.touch(),e}deleteChild(t){this._dirty=!0,super.deleteChild(t),this.touch()}touch(){this.vol.getNodeShared(this.ino).ver++,this.push()}setNode(t){super.setNode(t),t._link=this}getNode(){const t=this.node;return E()(t,"LinkSharedVolume.node is unset"),t.pull(),t}push(){if(this.vol.dev){var t={};for(let[e,r]of Object.entries(this.children))t[e]={ino:r.ino};var e=this.getNode(),r=JSON.stringify(t);this.vol.debug("+ push link",this.ino,r),e.buf=Buffer.from(r),e.ver++,e.push(),this.ver=e.ver,this._dirty=!1}}pull(){if(0!=this.vol.dev.get(this.ino)[0]){var t=this.getNode();if(t.pull(),t.isDirectory()&&t.buf&&t.ver!==this.ver){var e=JSON.parse(t.buf.toString("utf-8"));this.vol.debug("- pull link",this.ino,e);var r={};for(let[t,i]of Object.entries(e||{}))if("number"==typeof i.ino){let e=this.vol.getNodeShared(i.ino);r[t]=e.getLink(this,t)}this.children=r,this.ver=t.ver,this._dirty=!1}}}}!function(t){t.LinkHandler=class{get(t,e){return"children"===e&&t.vol.dev&&!t._dirty&&t.pull(),t[e]}},t.LinkChildren=class{constructor(t){this.link=t}getOwnPropertyDescriptor(t,e){return this.link.pull(),t.hasOwnProperty(e)?{configurable:!0,enumerable:!0}:void 0}get(t,e){return this.link.pull(),t[e]}set(t,e,r){return t[e]=r,!0}}}(d||(d={}))})(),module.exports=i})();