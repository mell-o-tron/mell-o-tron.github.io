(()=>{"use strict";var t,e,i,s={3709:(t,e,i)=>{const s=i(26),r=i(4627),n=i(9299),_=i(4054),o={hrtime:i(8134).default(r.default),exit:t=>{throw new _.WASIExitError(t)},kill:t=>{throw new _.WASIKillError(t)},randomFillSync:s.randomFillSync,isTTY:()=>!0,path:n,fs:null};e.Z=o},3751:(t,e,i)=>{const s=i(6417),r=i(5747),{isatty:n}=i(3867),_=i(5622);let o=i(8134).default(process.hrtime);process.hrtime&&process.hrtime.bigint&&(o=process.hrtime.bigint);const I={hrtime:o,exit:t=>{process.exit(t)},kill:t=>{process.kill(process.pid,t)},randomFillSync:s.randomFillSync,isTTY:n,fs:r,path:_};e.Z=I},7118:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});const s=i(1624);e.WASI_ESUCCESS=0,e.WASI_E2BIG=1,e.WASI_EACCES=2,e.WASI_EADDRINUSE=3,e.WASI_EADDRNOTAVAIL=4,e.WASI_EAFNOSUPPORT=5,e.WASI_EAGAIN=6,e.WASI_EALREADY=7,e.WASI_EBADF=8,e.WASI_EBADMSG=9,e.WASI_EBUSY=10,e.WASI_ECANCELED=11,e.WASI_ECHILD=12,e.WASI_ECONNABORTED=13,e.WASI_ECONNREFUSED=14,e.WASI_ECONNRESET=15,e.WASI_EDEADLK=16,e.WASI_EDESTADDRREQ=17,e.WASI_EDOM=18,e.WASI_EDQUOT=19,e.WASI_EEXIST=20,e.WASI_EFAULT=21,e.WASI_EFBIG=22,e.WASI_EHOSTUNREACH=23,e.WASI_EIDRM=24,e.WASI_EILSEQ=25,e.WASI_EINPROGRESS=26,e.WASI_EINTR=27,e.WASI_EINVAL=28,e.WASI_EIO=29,e.WASI_EISCONN=30,e.WASI_EISDIR=31,e.WASI_ELOOP=32,e.WASI_EMFILE=33,e.WASI_EMLINK=34,e.WASI_EMSGSIZE=35,e.WASI_EMULTIHOP=36,e.WASI_ENAMETOOLONG=37,e.WASI_ENETDOWN=38,e.WASI_ENETRESET=39,e.WASI_ENETUNREACH=40,e.WASI_ENFILE=41,e.WASI_ENOBUFS=42,e.WASI_ENODEV=43,e.WASI_ENOENT=44,e.WASI_ENOEXEC=45,e.WASI_ENOLCK=46,e.WASI_ENOLINK=47,e.WASI_ENOMEM=48,e.WASI_ENOMSG=49,e.WASI_ENOPROTOOPT=50,e.WASI_ENOSPC=51,e.WASI_ENOSYS=52,e.WASI_ENOTCONN=53,e.WASI_ENOTDIR=54,e.WASI_ENOTEMPTY=55,e.WASI_ENOTRECOVERABLE=56,e.WASI_ENOTSOCK=57,e.WASI_ENOTSUP=58,e.WASI_ENOTTY=59,e.WASI_ENXIO=60,e.WASI_EOVERFLOW=61,e.WASI_EOWNERDEAD=62,e.WASI_EPERM=63,e.WASI_EPIPE=64,e.WASI_EPROTO=65,e.WASI_EPROTONOSUPPORT=66,e.WASI_EPROTOTYPE=67,e.WASI_ERANGE=68,e.WASI_EROFS=69,e.WASI_ESPIPE=70,e.WASI_ESRCH=71,e.WASI_ESTALE=72,e.WASI_ETIMEDOUT=73,e.WASI_ETXTBSY=74,e.WASI_EXDEV=75,e.WASI_ENOTCAPABLE=76,e.WASI_SIGABRT=0,e.WASI_SIGALRM=1,e.WASI_SIGBUS=2,e.WASI_SIGCHLD=3,e.WASI_SIGCONT=4,e.WASI_SIGFPE=5,e.WASI_SIGHUP=6,e.WASI_SIGILL=7,e.WASI_SIGINT=8,e.WASI_SIGKILL=9,e.WASI_SIGPIPE=10,e.WASI_SIGQUIT=11,e.WASI_SIGSEGV=12,e.WASI_SIGSTOP=13,e.WASI_SIGTERM=14,e.WASI_SIGTRAP=15,e.WASI_SIGTSTP=16,e.WASI_SIGTTIN=17,e.WASI_SIGTTOU=18,e.WASI_SIGURG=19,e.WASI_SIGUSR1=20,e.WASI_SIGUSR2=21,e.WASI_SIGVTALRM=22,e.WASI_SIGXCPU=23,e.WASI_SIGXFSZ=24,e.WASI_FILETYPE_UNKNOWN=0,e.WASI_FILETYPE_BLOCK_DEVICE=1,e.WASI_FILETYPE_CHARACTER_DEVICE=2,e.WASI_FILETYPE_DIRECTORY=3,e.WASI_FILETYPE_REGULAR_FILE=4,e.WASI_FILETYPE_SOCKET_DGRAM=5,e.WASI_FILETYPE_SOCKET_STREAM=6,e.WASI_FILETYPE_SYMBOLIC_LINK=7,e.WASI_FDFLAG_APPEND=1,e.WASI_FDFLAG_DSYNC=2,e.WASI_FDFLAG_NONBLOCK=4,e.WASI_FDFLAG_RSYNC=8,e.WASI_FDFLAG_SYNC=16,e.WASI_RIGHT_FD_DATASYNC=s.BigIntPolyfill(1),e.WASI_RIGHT_FD_READ=s.BigIntPolyfill(2),e.WASI_RIGHT_FD_SEEK=s.BigIntPolyfill(4),e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS=s.BigIntPolyfill(8),e.WASI_RIGHT_FD_SYNC=s.BigIntPolyfill(16),e.WASI_RIGHT_FD_TELL=s.BigIntPolyfill(32),e.WASI_RIGHT_FD_WRITE=s.BigIntPolyfill(64),e.WASI_RIGHT_FD_ADVISE=s.BigIntPolyfill(128),e.WASI_RIGHT_FD_ALLOCATE=s.BigIntPolyfill(256),e.WASI_RIGHT_PATH_CREATE_DIRECTORY=s.BigIntPolyfill(512),e.WASI_RIGHT_PATH_CREATE_FILE=s.BigIntPolyfill(1024),e.WASI_RIGHT_PATH_LINK_SOURCE=s.BigIntPolyfill(2048),e.WASI_RIGHT_PATH_LINK_TARGET=s.BigIntPolyfill(4096),e.WASI_RIGHT_PATH_OPEN=s.BigIntPolyfill(8192),e.WASI_RIGHT_FD_READDIR=s.BigIntPolyfill(16384),e.WASI_RIGHT_PATH_READLINK=s.BigIntPolyfill(32768),e.WASI_RIGHT_PATH_RENAME_SOURCE=s.BigIntPolyfill(65536),e.WASI_RIGHT_PATH_RENAME_TARGET=s.BigIntPolyfill(131072),e.WASI_RIGHT_PATH_FILESTAT_GET=s.BigIntPolyfill(262144),e.WASI_RIGHT_PATH_FILESTAT_SET_SIZE=s.BigIntPolyfill(524288),e.WASI_RIGHT_PATH_FILESTAT_SET_TIMES=s.BigIntPolyfill(1048576),e.WASI_RIGHT_FD_FILESTAT_GET=s.BigIntPolyfill(2097152),e.WASI_RIGHT_FD_FILESTAT_SET_SIZE=s.BigIntPolyfill(4194304),e.WASI_RIGHT_FD_FILESTAT_SET_TIMES=s.BigIntPolyfill(8388608),e.WASI_RIGHT_PATH_SYMLINK=s.BigIntPolyfill(16777216),e.WASI_RIGHT_PATH_REMOVE_DIRECTORY=s.BigIntPolyfill(33554432),e.WASI_RIGHT_PATH_UNLINK_FILE=s.BigIntPolyfill(67108864),e.WASI_RIGHT_POLL_FD_READWRITE=s.BigIntPolyfill(134217728),e.WASI_RIGHT_SOCK_SHUTDOWN=s.BigIntPolyfill(268435456),e.RIGHTS_ALL=e.WASI_RIGHT_FD_DATASYNC|e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_SEEK|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_SYNC|e.WASI_RIGHT_FD_TELL|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_ADVISE|e.WASI_RIGHT_FD_ALLOCATE|e.WASI_RIGHT_PATH_CREATE_DIRECTORY|e.WASI_RIGHT_PATH_CREATE_FILE|e.WASI_RIGHT_PATH_LINK_SOURCE|e.WASI_RIGHT_PATH_LINK_TARGET|e.WASI_RIGHT_PATH_OPEN|e.WASI_RIGHT_FD_READDIR|e.WASI_RIGHT_PATH_READLINK|e.WASI_RIGHT_PATH_RENAME_SOURCE|e.WASI_RIGHT_PATH_RENAME_TARGET|e.WASI_RIGHT_PATH_FILESTAT_GET|e.WASI_RIGHT_PATH_FILESTAT_SET_SIZE|e.WASI_RIGHT_PATH_FILESTAT_SET_TIMES|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_FD_FILESTAT_SET_TIMES|e.WASI_RIGHT_FD_FILESTAT_SET_SIZE|e.WASI_RIGHT_PATH_SYMLINK|e.WASI_RIGHT_PATH_UNLINK_FILE|e.WASI_RIGHT_PATH_REMOVE_DIRECTORY|e.WASI_RIGHT_POLL_FD_READWRITE|e.WASI_RIGHT_SOCK_SHUTDOWN,e.RIGHTS_BLOCK_DEVICE_BASE=e.RIGHTS_ALL,e.RIGHTS_BLOCK_DEVICE_INHERITING=e.RIGHTS_ALL,e.RIGHTS_CHARACTER_DEVICE_BASE=e.RIGHTS_ALL,e.RIGHTS_CHARACTER_DEVICE_INHERITING=e.RIGHTS_ALL,e.RIGHTS_REGULAR_FILE_BASE=e.WASI_RIGHT_FD_DATASYNC|e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_SEEK|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_SYNC|e.WASI_RIGHT_FD_TELL|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_ADVISE|e.WASI_RIGHT_FD_ALLOCATE|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_FD_FILESTAT_SET_SIZE|e.WASI_RIGHT_FD_FILESTAT_SET_TIMES|e.WASI_RIGHT_POLL_FD_READWRITE,e.RIGHTS_REGULAR_FILE_INHERITING=s.BigIntPolyfill(0),e.RIGHTS_DIRECTORY_BASE=e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_SYNC|e.WASI_RIGHT_FD_ADVISE|e.WASI_RIGHT_PATH_CREATE_DIRECTORY|e.WASI_RIGHT_PATH_CREATE_FILE|e.WASI_RIGHT_PATH_LINK_SOURCE|e.WASI_RIGHT_PATH_LINK_TARGET|e.WASI_RIGHT_PATH_OPEN|e.WASI_RIGHT_FD_READDIR|e.WASI_RIGHT_PATH_READLINK|e.WASI_RIGHT_PATH_RENAME_SOURCE|e.WASI_RIGHT_PATH_RENAME_TARGET|e.WASI_RIGHT_PATH_FILESTAT_GET|e.WASI_RIGHT_PATH_FILESTAT_SET_SIZE|e.WASI_RIGHT_PATH_FILESTAT_SET_TIMES|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_FD_FILESTAT_SET_TIMES|e.WASI_RIGHT_PATH_SYMLINK|e.WASI_RIGHT_PATH_UNLINK_FILE|e.WASI_RIGHT_PATH_REMOVE_DIRECTORY|e.WASI_RIGHT_POLL_FD_READWRITE,e.RIGHTS_DIRECTORY_INHERITING=e.RIGHTS_DIRECTORY_BASE|e.RIGHTS_REGULAR_FILE_BASE,e.RIGHTS_SOCKET_BASE=e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_POLL_FD_READWRITE|e.WASI_RIGHT_SOCK_SHUTDOWN,e.RIGHTS_SOCKET_INHERITING=e.RIGHTS_ALL,e.RIGHTS_TTY_BASE=e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_POLL_FD_READWRITE,e.RIGHTS_TTY_INHERITING=s.BigIntPolyfill(0),e.WASI_CLOCK_REALTIME=0,e.WASI_CLOCK_MONOTONIC=1,e.WASI_CLOCK_PROCESS_CPUTIME_ID=2,e.WASI_CLOCK_THREAD_CPUTIME_ID=3,e.WASI_EVENTTYPE_CLOCK=0,e.WASI_EVENTTYPE_FD_READ=1,e.WASI_EVENTTYPE_FD_WRITE=2,e.WASI_FILESTAT_SET_ATIM=1,e.WASI_FILESTAT_SET_ATIM_NOW=2,e.WASI_FILESTAT_SET_MTIM=4,e.WASI_FILESTAT_SET_MTIM_NOW=8,e.WASI_O_CREAT=1,e.WASI_O_DIRECTORY=2,e.WASI_O_EXCL=4,e.WASI_O_TRUNC=8,e.WASI_PREOPENTYPE_DIR=0,e.WASI_DIRCOOKIE_START=0,e.WASI_STDIN_FILENO=0,e.WASI_STDOUT_FILENO=1,e.WASI_STDERR_FILENO=2,e.WASI_WHENCE_SET=0,e.WASI_WHENCE_CUR=1,e.WASI_WHENCE_END=2,e.ERROR_MAP={E2BIG:e.WASI_E2BIG,EACCES:e.WASI_EACCES,EADDRINUSE:e.WASI_EADDRINUSE,EADDRNOTAVAIL:e.WASI_EADDRNOTAVAIL,EAFNOSUPPORT:e.WASI_EAFNOSUPPORT,EALREADY:e.WASI_EALREADY,EAGAIN:e.WASI_EAGAIN,EBADF:e.WASI_EBADF,EBADMSG:e.WASI_EBADMSG,EBUSY:e.WASI_EBUSY,ECANCELED:e.WASI_ECANCELED,ECHILD:e.WASI_ECHILD,ECONNABORTED:e.WASI_ECONNABORTED,ECONNREFUSED:e.WASI_ECONNREFUSED,ECONNRESET:e.WASI_ECONNRESET,EDEADLOCK:e.WASI_EDEADLK,EDESTADDRREQ:e.WASI_EDESTADDRREQ,EDOM:e.WASI_EDOM,EDQUOT:e.WASI_EDQUOT,EEXIST:e.WASI_EEXIST,EFAULT:e.WASI_EFAULT,EFBIG:e.WASI_EFBIG,EHOSTDOWN:e.WASI_EHOSTUNREACH,EHOSTUNREACH:e.WASI_EHOSTUNREACH,EIDRM:e.WASI_EIDRM,EILSEQ:e.WASI_EILSEQ,EINPROGRESS:e.WASI_EINPROGRESS,EINTR:e.WASI_EINTR,EINVAL:e.WASI_EINVAL,EIO:e.WASI_EIO,EISCONN:e.WASI_EISCONN,EISDIR:e.WASI_EISDIR,ELOOP:e.WASI_ELOOP,EMFILE:e.WASI_EMFILE,EMLINK:e.WASI_EMLINK,EMSGSIZE:e.WASI_EMSGSIZE,EMULTIHOP:e.WASI_EMULTIHOP,ENAMETOOLONG:e.WASI_ENAMETOOLONG,ENETDOWN:e.WASI_ENETDOWN,ENETRESET:e.WASI_ENETRESET,ENETUNREACH:e.WASI_ENETUNREACH,ENFILE:e.WASI_ENFILE,ENOBUFS:e.WASI_ENOBUFS,ENODEV:e.WASI_ENODEV,ENOENT:e.WASI_ENOENT,ENOEXEC:e.WASI_ENOEXEC,ENOLCK:e.WASI_ENOLCK,ENOLINK:e.WASI_ENOLINK,ENOMEM:e.WASI_ENOMEM,ENOMSG:e.WASI_ENOMSG,ENOPROTOOPT:e.WASI_ENOPROTOOPT,ENOSPC:e.WASI_ENOSPC,ENOSYS:e.WASI_ENOSYS,ENOTCONN:e.WASI_ENOTCONN,ENOTDIR:e.WASI_ENOTDIR,ENOTEMPTY:e.WASI_ENOTEMPTY,ENOTRECOVERABLE:e.WASI_ENOTRECOVERABLE,ENOTSOCK:e.WASI_ENOTSOCK,ENOTTY:e.WASI_ENOTTY,ENXIO:e.WASI_ENXIO,EOVERFLOW:e.WASI_EOVERFLOW,EOWNERDEAD:e.WASI_EOWNERDEAD,EPERM:e.WASI_EPERM,EPIPE:e.WASI_EPIPE,EPROTO:e.WASI_EPROTO,EPROTONOSUPPORT:e.WASI_EPROTONOSUPPORT,EPROTOTYPE:e.WASI_EPROTOTYPE,ERANGE:e.WASI_ERANGE,EROFS:e.WASI_EROFS,ESPIPE:e.WASI_ESPIPE,ESRCH:e.WASI_ESRCH,ESTALE:e.WASI_ESTALE,ETIMEDOUT:e.WASI_ETIMEDOUT,ETXTBSY:e.WASI_ETXTBSY,EXDEV:e.WASI_EXDEV},e.SIGNAL_MAP={[e.WASI_SIGHUP]:"SIGHUP",[e.WASI_SIGINT]:"SIGINT",[e.WASI_SIGQUIT]:"SIGQUIT",[e.WASI_SIGILL]:"SIGILL",[e.WASI_SIGTRAP]:"SIGTRAP",[e.WASI_SIGABRT]:"SIGABRT",[e.WASI_SIGBUS]:"SIGBUS",[e.WASI_SIGFPE]:"SIGFPE",[e.WASI_SIGKILL]:"SIGKILL",[e.WASI_SIGUSR1]:"SIGUSR1",[e.WASI_SIGSEGV]:"SIGSEGV",[e.WASI_SIGUSR2]:"SIGUSR2",[e.WASI_SIGPIPE]:"SIGPIPE",[e.WASI_SIGALRM]:"SIGALRM",[e.WASI_SIGTERM]:"SIGTERM",[e.WASI_SIGCHLD]:"SIGCHLD",[e.WASI_SIGCONT]:"SIGCONT",[e.WASI_SIGSTOP]:"SIGSTOP",[e.WASI_SIGTSTP]:"SIGTSTP",[e.WASI_SIGTTIN]:"SIGTTIN",[e.WASI_SIGTTOU]:"SIGTTOU",[e.WASI_SIGURG]:"SIGURG",[e.WASI_SIGXCPU]:"SIGXCPU",[e.WASI_SIGXFSZ]:"SIGXFSZ",[e.WASI_SIGVTALRM]:"SIGVTALRM"}},4054:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});const s=i(1624),r=i(6360),n=i(6776);let _;const o=i(7118),I=o.WASI_RIGHT_FD_DATASYNC|o.WASI_RIGHT_FD_READ|o.WASI_RIGHT_FD_SYNC|o.WASI_RIGHT_FD_ADVISE|o.WASI_RIGHT_FD_FILESTAT_GET|o.WASI_RIGHT_POLL_FD_READWRITE,S=o.WASI_RIGHT_FD_DATASYNC|o.WASI_RIGHT_FD_WRITE|o.WASI_RIGHT_FD_SYNC|o.WASI_RIGHT_FD_ADVISE|o.WASI_RIGHT_FD_FILESTAT_GET|o.WASI_RIGHT_POLL_FD_READWRITE,l=S,a=t=>{const e=Math.trunc(t),i=s.BigIntPolyfill(Math.round(1e6*(t-e)));return s.BigIntPolyfill(e)*s.BigIntPolyfill(1e6)+i},h=t=>{"number"==typeof t&&(t=Math.trunc(t));const e=s.BigIntPolyfill(t);return Number(e/s.BigIntPolyfill(1e6))},E=t=>(...e)=>{try{return t(...e)}catch(t){if(t&&t.code&&"string"==typeof t.code)return o.ERROR_MAP[t.code]||o.WASI_EINVAL;if(t instanceof T)return t.errno;throw t}},A=(t,e)=>{const i=t.FD_MAP.get(e);if(!i)throw new T(o.WASI_EBADF);if(void 0===i.filetype){const s=t.bindings.fs.fstatSync(i.real),{filetype:r,rightsBase:n,rightsInheriting:_}=c(t,e,s);i.filetype=r,i.rights||(i.rights={base:n,inheriting:_})}return i},c=(t,e,i)=>{switch(!0){case i.isBlockDevice():return{filetype:o.WASI_FILETYPE_BLOCK_DEVICE,rightsBase:o.RIGHTS_BLOCK_DEVICE_BASE,rightsInheriting:o.RIGHTS_BLOCK_DEVICE_INHERITING};case i.isCharacterDevice():{const i=o.WASI_FILETYPE_CHARACTER_DEVICE;return void 0!==e&&t.bindings.isTTY(e)?{filetype:i,rightsBase:o.RIGHTS_TTY_BASE,rightsInheriting:o.RIGHTS_TTY_INHERITING}:{filetype:i,rightsBase:o.RIGHTS_CHARACTER_DEVICE_BASE,rightsInheriting:o.RIGHTS_CHARACTER_DEVICE_INHERITING}}case i.isDirectory():return{filetype:o.WASI_FILETYPE_DIRECTORY,rightsBase:o.RIGHTS_DIRECTORY_BASE,rightsInheriting:o.RIGHTS_DIRECTORY_INHERITING};case i.isFIFO():return{filetype:o.WASI_FILETYPE_SOCKET_STREAM,rightsBase:o.RIGHTS_SOCKET_BASE,rightsInheriting:o.RIGHTS_SOCKET_INHERITING};case i.isFile():return{filetype:o.WASI_FILETYPE_REGULAR_FILE,rightsBase:o.RIGHTS_REGULAR_FILE_BASE,rightsInheriting:o.RIGHTS_REGULAR_FILE_INHERITING};case i.isSocket():return{filetype:o.WASI_FILETYPE_SOCKET_STREAM,rightsBase:o.RIGHTS_SOCKET_BASE,rightsInheriting:o.RIGHTS_SOCKET_INHERITING};case i.isSymbolicLink():return{filetype:o.WASI_FILETYPE_SYMBOLIC_LINK,rightsBase:s.BigIntPolyfill(0),rightsInheriting:s.BigIntPolyfill(0)};default:return{filetype:o.WASI_FILETYPE_UNKNOWN,rightsBase:s.BigIntPolyfill(0),rightsInheriting:s.BigIntPolyfill(0)}}};class T extends Error{constructor(t){super(),this.errno=t,Object.setPrototypeOf(this,T.prototype)}}e.WASIError=T;class f extends Error{constructor(t){super(`WASI Exit error: ${t}`),this.code=t,Object.setPrototypeOf(this,f.prototype)}}e.WASIExitError=f;class u extends Error{constructor(t){super(`WASI Kill signal: ${t}`),this.signal=t,Object.setPrototypeOf(this,u.prototype)}}e.WASIKillError=u;class d{constructor(t){let e={};t&&t.preopens?e=t.preopens:t&&t.preopenDirectories&&(e=t.preopenDirectories);let i={};t&&t.env&&(i=t.env);let r=[];t&&t.args&&(r=t.args);let f=_;t&&t.bindings&&(f=t.bindings),this.memory=void 0,this.view=void 0,this.bindings=f,this.FD_MAP=new Map([[o.WASI_STDIN_FILENO,{real:0,filetype:o.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:I,inheriting:s.BigIntPolyfill(0)},path:void 0}],[o.WASI_STDOUT_FILENO,{real:1,filetype:o.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:S,inheriting:s.BigIntPolyfill(0)},path:void 0}],[o.WASI_STDERR_FILENO,{real:2,filetype:o.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:l,inheriting:s.BigIntPolyfill(0)},path:void 0}]]);let u=this.bindings.fs,d=this.bindings.path;for(const[t,i]of Object.entries(e)){const e=u.openSync(i,u.constants.O_RDONLY),s=[...this.FD_MAP.keys()].reverse()[0]+1;this.FD_MAP.set(s,{real:e,filetype:o.WASI_FILETYPE_DIRECTORY,rights:{base:o.RIGHTS_DIRECTORY_BASE,inheriting:o.RIGHTS_DIRECTORY_INHERITING},fakePath:t,path:i})}const g=(t,e)=>(this.refreshMemory(),Array.from({length:e},((e,i)=>{const s=t+8*i,r=this.view.getUint32(s,!0),n=this.view.getUint32(s+4,!0);return new Uint8Array(this.memory.buffer,r,n)}))),W=(t,e)=>{const i=A(this,t);if(e!==s.BigIntPolyfill(0)&&(i.rights.base&e)===s.BigIntPolyfill(0))throw new T(o.WASI_EPERM);return i},p=f.hrtime(),R=t=>{switch(t){case o.WASI_CLOCK_MONOTONIC:return f.hrtime();case o.WASI_CLOCK_REALTIME:return a(Date.now());case o.WASI_CLOCK_PROCESS_CPUTIME_ID:case o.WASI_CLOCK_THREAD_CPUTIME_ID:return f.hrtime()-p;default:return null}};this.wasiImport={args_get:(t,e)=>{this.refreshMemory();let i=t,s=e;return r.forEach((t=>{this.view.setUint32(i,s,!0),i+=4,s+=n.default.from(this.memory.buffer).write(`${t}\0`,s)})),o.WASI_ESUCCESS},args_sizes_get:(t,e)=>{this.refreshMemory(),this.view.setUint32(t,r.length,!0);const i=r.reduce(((t,e)=>t+n.default.byteLength(e)+1),0);return this.view.setUint32(e,i,!0),o.WASI_ESUCCESS},environ_get:(t,e)=>{this.refreshMemory();let s=t,r=e;return Object.entries(i).forEach((([t,e])=>{this.view.setUint32(s,r,!0),s+=4,r+=n.default.from(this.memory.buffer).write(`${t}=${e}\0`,r)})),o.WASI_ESUCCESS},environ_sizes_get:(t,e)=>{this.refreshMemory();const s=Object.entries(i).map((([t,e])=>`${t}=${e}\0`)),r=s.reduce(((t,e)=>t+n.default.byteLength(e)),0);return this.view.setUint32(t,s.length,!0),this.view.setUint32(e,r,!0),o.WASI_ESUCCESS},clock_res_get:(t,e)=>{let i;switch(t){case o.WASI_CLOCK_MONOTONIC:case o.WASI_CLOCK_PROCESS_CPUTIME_ID:case o.WASI_CLOCK_THREAD_CPUTIME_ID:i=s.BigIntPolyfill(1);break;case o.WASI_CLOCK_REALTIME:i=s.BigIntPolyfill(1e3)}return this.view.setBigUint64(e,i),o.WASI_ESUCCESS},clock_time_get:(t,e,i)=>{this.refreshMemory();const r=R(t);return null===r?o.WASI_EINVAL:(this.view.setBigUint64(i,s.BigIntPolyfill(r),!0),o.WASI_ESUCCESS)},fd_advise:E(((t,e,i,s)=>(W(t,o.WASI_RIGHT_FD_ADVISE),o.WASI_ENOSYS))),fd_allocate:E(((t,e,i)=>(W(t,o.WASI_RIGHT_FD_ALLOCATE),o.WASI_ENOSYS))),fd_close:E((t=>{const e=W(t,s.BigIntPolyfill(0));return u.closeSync(e.real),this.FD_MAP.delete(t),o.WASI_ESUCCESS})),fd_datasync:E((t=>{const e=W(t,o.WASI_RIGHT_FD_DATASYNC);return u.fdatasyncSync(e.real),o.WASI_ESUCCESS})),fd_fdstat_get:E(((t,e)=>{const i=W(t,s.BigIntPolyfill(0));return this.refreshMemory(),this.view.setUint8(e,i.filetype),this.view.setUint16(e+2,0,!0),this.view.setUint16(e+4,0,!0),this.view.setBigUint64(e+8,s.BigIntPolyfill(i.rights.base),!0),this.view.setBigUint64(e+8+8,s.BigIntPolyfill(i.rights.inheriting),!0),o.WASI_ESUCCESS})),fd_fdstat_set_flags:E(((t,e)=>(W(t,o.WASI_RIGHT_FD_FDSTAT_SET_FLAGS),o.WASI_ENOSYS))),fd_fdstat_set_rights:E(((t,e,i)=>{const r=W(t,s.BigIntPolyfill(0));return(r.rights.base|e)>r.rights.base||(r.rights.inheriting|i)>r.rights.inheriting?o.WASI_EPERM:(r.rights.base=e,r.rights.inheriting=i,o.WASI_ESUCCESS)})),fd_filestat_get:E(((t,e)=>{const i=W(t,o.WASI_RIGHT_FD_FILESTAT_GET),r=u.fstatSync(i.real);return this.refreshMemory(),this.view.setBigUint64(e,s.BigIntPolyfill(r.dev),!0),e+=8,this.view.setBigUint64(e,s.BigIntPolyfill(r.ino),!0),e+=8,this.view.setUint8(e,i.filetype),e+=8,this.view.setBigUint64(e,s.BigIntPolyfill(r.nlink),!0),e+=8,this.view.setBigUint64(e,s.BigIntPolyfill(r.size),!0),e+=8,this.view.setBigUint64(e,a(r.atimeMs),!0),e+=8,this.view.setBigUint64(e,a(r.mtimeMs),!0),e+=8,this.view.setBigUint64(e,a(r.ctimeMs),!0),o.WASI_ESUCCESS})),fd_filestat_set_size:E(((t,e)=>{const i=W(t,o.WASI_RIGHT_FD_FILESTAT_SET_SIZE);return u.ftruncateSync(i.real,Number(e)),o.WASI_ESUCCESS})),fd_filestat_set_times:E(((t,e,i,s)=>{const r=W(t,o.WASI_RIGHT_FD_FILESTAT_SET_TIMES),n=u.fstatSync(r.real);let _=n.atime,I=n.mtime;const S=h(R(o.WASI_CLOCK_REALTIME)),l=o.WASI_FILESTAT_SET_ATIM|o.WASI_FILESTAT_SET_ATIM_NOW;if((s&l)===l)return o.WASI_EINVAL;const a=o.WASI_FILESTAT_SET_MTIM|o.WASI_FILESTAT_SET_MTIM_NOW;return(s&a)===a?o.WASI_EINVAL:((s&o.WASI_FILESTAT_SET_ATIM)===o.WASI_FILESTAT_SET_ATIM?_=h(e):(s&o.WASI_FILESTAT_SET_ATIM_NOW)===o.WASI_FILESTAT_SET_ATIM_NOW&&(_=S),(s&o.WASI_FILESTAT_SET_MTIM)===o.WASI_FILESTAT_SET_MTIM?I=h(i):(s&o.WASI_FILESTAT_SET_MTIM_NOW)===o.WASI_FILESTAT_SET_MTIM_NOW&&(I=S),u.futimesSync(r.real,new Date(_),new Date(I)),o.WASI_ESUCCESS)})),fd_prestat_get:E(((t,e)=>{const i=W(t,s.BigIntPolyfill(0));return i.path?(this.refreshMemory(),this.view.setUint8(e,o.WASI_PREOPENTYPE_DIR),this.view.setUint32(e+4,n.default.byteLength(i.fakePath),!0),o.WASI_ESUCCESS):o.WASI_EINVAL})),fd_prestat_dir_name:E(((t,e,i)=>{const r=W(t,s.BigIntPolyfill(0));return r.path?(this.refreshMemory(),n.default.from(this.memory.buffer).write(r.fakePath,e,i,"utf8"),o.WASI_ESUCCESS):o.WASI_EINVAL})),fd_pwrite:E(((t,e,i,s,r)=>{const n=W(t,o.WASI_RIGHT_FD_WRITE|o.WASI_RIGHT_FD_SEEK);let _=0;return g(e,i).forEach((t=>{let e=0;for(;e<t.byteLength;)e+=u.writeSync(n.real,t,e,t.byteLength-e,Number(s)+_+e);_+=e})),this.view.setUint32(r,_,!0),o.WASI_ESUCCESS})),fd_write:E(((t,e,i,r)=>{const n=W(t,o.WASI_RIGHT_FD_WRITE);let _=0;return g(e,i).forEach((t=>{let e=0;for(;e<t.byteLength;){const i=u.writeSync(n.real,t,e,t.byteLength-e,n.offset?Number(n.offset):null);n.offset&&(n.offset+=s.BigIntPolyfill(i)),e+=i}_+=e})),this.view.setUint32(r,_,!0),o.WASI_ESUCCESS})),fd_pread:E(((t,e,i,s,r)=>{const n=W(t,o.WASI_RIGHT_FD_READ|o.WASI_RIGHT_FD_SEEK);let _=0;t:for(const t of g(e,i)){let e=0;for(;e<t.byteLength;){const i=t.byteLength-e,r=u.readSync(n.real,t,e,t.byteLength-e,Number(s)+_+e);if(e+=r,_+=r,0===r||r<i)break t}_+=e}return this.view.setUint32(r,_,!0),o.WASI_ESUCCESS})),fd_read:E(((t,e,i,r)=>{const n=W(t,o.WASI_RIGHT_FD_READ),_=0===n.real;let I=0;t:for(const t of g(e,i)){let e=0;for(;e<t.byteLength;){let i=t.byteLength-e,r=_||void 0===n.offset?null:Number(n.offset),o=u.readSync(n.real,t,e,i,r);if(_||(n.offset=(n.offset?n.offset:s.BigIntPolyfill(0))+s.BigIntPolyfill(o)),e+=o,I+=o,0===o||o<i)break t}}return this.view.setUint32(r,I,!0),o.WASI_ESUCCESS})),fd_readdir:E(((t,e,i,r,_)=>{const I=W(t,o.WASI_RIGHT_FD_READDIR);this.refreshMemory();const S=u.readdirSync(I.path,{withFileTypes:!0}),l=e;for(let t=Number(r);t<S.length;t+=1){const r=S[t];let _=n.default.byteLength(r.name);if(e-l>i)break;if(this.view.setBigUint64(e,s.BigIntPolyfill(t+1),!0),(e+=8)-l>i)break;const a=u.statSync(d.resolve(I.path,r.name));if(this.view.setBigUint64(e,s.BigIntPolyfill(a.ino),!0),(e+=8)-l>i)break;if(this.view.setUint32(e,_,!0),(e+=4)-l>i)break;let h;switch(!0){case a.isBlockDevice():h=o.WASI_FILETYPE_BLOCK_DEVICE;break;case a.isCharacterDevice():h=o.WASI_FILETYPE_CHARACTER_DEVICE;break;case a.isDirectory():h=o.WASI_FILETYPE_DIRECTORY;break;case a.isFIFO():h=o.WASI_FILETYPE_SOCKET_STREAM;break;case a.isFile():h=o.WASI_FILETYPE_REGULAR_FILE;break;case a.isSocket():h=o.WASI_FILETYPE_SOCKET_STREAM;break;case a.isSymbolicLink():h=o.WASI_FILETYPE_SYMBOLIC_LINK;break;default:h=o.WASI_FILETYPE_UNKNOWN}if(this.view.setUint8(e,h),e+=1,(e+=3)+_>=l+i)break;n.default.from(this.memory.buffer).write(r.name,e),e+=_}const a=e-l;return this.view.setUint32(_,Math.min(a,i),!0),o.WASI_ESUCCESS})),fd_renumber:E(((t,e)=>(W(t,s.BigIntPolyfill(0)),W(e,s.BigIntPolyfill(0)),u.closeSync(this.FD_MAP.get(t).real),this.FD_MAP.set(t,this.FD_MAP.get(e)),this.FD_MAP.delete(e),o.WASI_ESUCCESS))),fd_seek:E(((t,e,i,r)=>{const n=W(t,o.WASI_RIGHT_FD_SEEK);switch(this.refreshMemory(),i){case o.WASI_WHENCE_CUR:n.offset=(n.offset?n.offset:s.BigIntPolyfill(0))+s.BigIntPolyfill(e);break;case o.WASI_WHENCE_END:const{size:t}=u.fstatSync(n.real);n.offset=s.BigIntPolyfill(t)+s.BigIntPolyfill(e);break;case o.WASI_WHENCE_SET:n.offset=s.BigIntPolyfill(e)}return this.view.setBigUint64(r,n.offset,!0),o.WASI_ESUCCESS})),fd_tell:E(((t,e)=>{const i=W(t,o.WASI_RIGHT_FD_TELL);return this.refreshMemory(),i.offset||(i.offset=s.BigIntPolyfill(0)),this.view.setBigUint64(e,i.offset,!0),o.WASI_ESUCCESS})),fd_sync:E((t=>{const e=W(t,o.WASI_RIGHT_FD_SYNC);return u.fsyncSync(e.real),o.WASI_ESUCCESS})),path_create_directory:E(((t,e,i)=>{const s=W(t,o.WASI_RIGHT_PATH_CREATE_DIRECTORY);if(!s.path)return o.WASI_EINVAL;this.refreshMemory();const r=n.default.from(this.memory.buffer,e,i).toString();return u.mkdirSync(d.resolve(s.path,r)),o.WASI_ESUCCESS})),path_filestat_get:E(((t,e,i,r,_)=>{const I=W(t,o.WASI_RIGHT_PATH_FILESTAT_GET);if(!I.path)return o.WASI_EINVAL;this.refreshMemory();const S=n.default.from(this.memory.buffer,i,r).toString(),l=u.statSync(d.resolve(I.path,S));return this.view.setBigUint64(_,s.BigIntPolyfill(l.dev),!0),_+=8,this.view.setBigUint64(_,s.BigIntPolyfill(l.ino),!0),_+=8,this.view.setUint8(_,c(this,void 0,l).filetype),_+=8,this.view.setBigUint64(_,s.BigIntPolyfill(l.nlink),!0),_+=8,this.view.setBigUint64(_,s.BigIntPolyfill(l.size),!0),_+=8,this.view.setBigUint64(_,a(l.atimeMs),!0),_+=8,this.view.setBigUint64(_,a(l.mtimeMs),!0),_+=8,this.view.setBigUint64(_,a(l.ctimeMs),!0),o.WASI_ESUCCESS})),path_filestat_set_times:E(((t,e,i,s,r,_,I)=>{const S=W(t,o.WASI_RIGHT_PATH_FILESTAT_SET_TIMES);if(!S.path)return o.WASI_EINVAL;this.refreshMemory();const l=u.fstatSync(S.real);let a=l.atime,E=l.mtime;const A=h(R(o.WASI_CLOCK_REALTIME)),c=o.WASI_FILESTAT_SET_ATIM|o.WASI_FILESTAT_SET_ATIM_NOW;if((I&c)===c)return o.WASI_EINVAL;const T=o.WASI_FILESTAT_SET_MTIM|o.WASI_FILESTAT_SET_MTIM_NOW;if((I&T)===T)return o.WASI_EINVAL;(I&o.WASI_FILESTAT_SET_ATIM)===o.WASI_FILESTAT_SET_ATIM?a=h(r):(I&o.WASI_FILESTAT_SET_ATIM_NOW)===o.WASI_FILESTAT_SET_ATIM_NOW&&(a=A),(I&o.WASI_FILESTAT_SET_MTIM)===o.WASI_FILESTAT_SET_MTIM?E=h(_):(I&o.WASI_FILESTAT_SET_MTIM_NOW)===o.WASI_FILESTAT_SET_MTIM_NOW&&(E=A);const f=n.default.from(this.memory.buffer,i,s).toString();return u.utimesSync(d.resolve(S.path,f),new Date(a),new Date(E)),o.WASI_ESUCCESS})),path_link:E(((t,e,i,s,r,_,I)=>{const S=W(t,o.WASI_RIGHT_PATH_LINK_SOURCE),l=W(r,o.WASI_RIGHT_PATH_LINK_TARGET);if(!S.path||!l.path)return o.WASI_EINVAL;this.refreshMemory();const a=n.default.from(this.memory.buffer,i,s).toString(),h=n.default.from(this.memory.buffer,_,I).toString();return u.linkSync(d.resolve(S.path,a),d.resolve(l.path,h)),o.WASI_ESUCCESS})),path_open:E(((t,e,i,r,_,I,S,l,a)=>{const h=W(t,o.WASI_RIGHT_PATH_OPEN);I=s.BigIntPolyfill(I),S=s.BigIntPolyfill(S);const E=(I&(o.WASI_RIGHT_FD_READ|o.WASI_RIGHT_FD_READDIR))!==s.BigIntPolyfill(0),c=(I&(o.WASI_RIGHT_FD_DATASYNC|o.WASI_RIGHT_FD_WRITE|o.WASI_RIGHT_FD_ALLOCATE|o.WASI_RIGHT_FD_FILESTAT_SET_SIZE))!==s.BigIntPolyfill(0);let T;c&&E?T=u.constants.O_RDWR:E?T=u.constants.O_RDONLY:c&&(T=u.constants.O_WRONLY);let f=I|o.WASI_RIGHT_PATH_OPEN,g=I|S;0!=(_&o.WASI_O_CREAT)&&(T|=u.constants.O_CREAT,f|=o.WASI_RIGHT_PATH_CREATE_FILE),0!=(_&o.WASI_O_DIRECTORY)&&(T|=u.constants.O_DIRECTORY),0!=(_&o.WASI_O_EXCL)&&(T|=u.constants.O_EXCL),0!=(_&o.WASI_O_TRUNC)&&(T|=u.constants.O_TRUNC,f|=o.WASI_RIGHT_PATH_FILESTAT_SET_SIZE),0!=(l&o.WASI_FDFLAG_APPEND)&&(T|=u.constants.O_APPEND),0!=(l&o.WASI_FDFLAG_DSYNC)&&(u.constants.O_DSYNC?T|=u.constants.O_DSYNC:T|=u.constants.O_SYNC,g|=o.WASI_RIGHT_FD_DATASYNC),0!=(l&o.WASI_FDFLAG_NONBLOCK)&&(T|=u.constants.O_NONBLOCK),0!=(l&o.WASI_FDFLAG_RSYNC)&&(u.constants.O_RSYNC?T|=u.constants.O_RSYNC:T|=u.constants.O_SYNC,g|=o.WASI_RIGHT_FD_SYNC),0!=(l&o.WASI_FDFLAG_SYNC)&&(T|=u.constants.O_SYNC,g|=o.WASI_RIGHT_FD_SYNC),c&&0==(T&(u.constants.O_APPEND|u.constants.O_TRUNC))&&(g|=o.WASI_RIGHT_FD_SEEK),this.refreshMemory();const p=n.default.from(this.memory.buffer,i,r).toString(),R=d.resolve(h.path,p);if(d.relative(h.path,R).startsWith(".."))return o.WASI_ENOTCAPABLE;let m,y,O;try{if(m=u.realpathSync(R),d.relative(h.path,m).startsWith(".."))return o.WASI_ENOTCAPABLE}catch(t){if("ENOENT"!==t.code)throw t;m=R}try{y=u.statSync(m).isDirectory()}catch(t){}O=!c&&y?u.openSync(m,u.constants.O_RDONLY):u.openSync(m,T);const N=[...this.FD_MAP.keys()].reverse()[0]+1;return this.FD_MAP.set(N,{real:O,filetype:void 0,rights:{base:f,inheriting:g},path:m}),A(this,N),this.view.setUint32(a,N,!0),o.WASI_ESUCCESS})),path_readlink:E(((t,e,i,s,r,_)=>{const I=W(t,o.WASI_RIGHT_PATH_READLINK);if(!I.path)return o.WASI_EINVAL;this.refreshMemory();const S=n.default.from(this.memory.buffer,e,i).toString(),l=d.resolve(I.path,S),a=u.readlinkSync(l),h=n.default.from(this.memory.buffer).write(a,s,r);return this.view.setUint32(_,h,!0),o.WASI_ESUCCESS})),path_remove_directory:E(((t,e,i)=>{const s=W(t,o.WASI_RIGHT_PATH_REMOVE_DIRECTORY);if(!s.path)return o.WASI_EINVAL;this.refreshMemory();const r=n.default.from(this.memory.buffer,e,i).toString();return u.rmdirSync(d.resolve(s.path,r)),o.WASI_ESUCCESS})),path_rename:E(((t,e,i,s,r,_)=>{const I=W(t,o.WASI_RIGHT_PATH_RENAME_SOURCE),S=W(s,o.WASI_RIGHT_PATH_RENAME_TARGET);if(!I.path||!S.path)return o.WASI_EINVAL;this.refreshMemory();const l=n.default.from(this.memory.buffer,e,i).toString(),a=n.default.from(this.memory.buffer,r,_).toString();return u.renameSync(d.resolve(I.path,l),d.resolve(S.path,a)),o.WASI_ESUCCESS})),path_symlink:E(((t,e,i,s,r)=>{const _=W(i,o.WASI_RIGHT_PATH_SYMLINK);if(!_.path)return o.WASI_EINVAL;this.refreshMemory();const I=n.default.from(this.memory.buffer,t,e).toString(),S=n.default.from(this.memory.buffer,s,r).toString();return u.symlinkSync(I,d.resolve(_.path,S)),o.WASI_ESUCCESS})),path_unlink_file:E(((t,e,i)=>{const s=W(t,o.WASI_RIGHT_PATH_UNLINK_FILE);if(!s.path)return o.WASI_EINVAL;this.refreshMemory();const r=n.default.from(this.memory.buffer,e,i).toString();return u.unlinkSync(d.resolve(s.path,r)),o.WASI_ESUCCESS})),poll_oneoff:(t,e,i,r)=>{let n=0,_=0;this.refreshMemory();for(let r=0;r<i;r+=1){const i=this.view.getBigUint64(t,!0);t+=8;const r=this.view.getUint8(t);switch(t+=1,r){case o.WASI_EVENTTYPE_CLOCK:{t+=7,this.view.getBigUint64(t,!0),t+=8;const r=this.view.getUint32(t,!0);t+=4,t+=4;const I=this.view.getBigUint64(t,!0);t+=8,this.view.getBigUint64(t,!0),t+=8;const S=this.view.getUint16(t,!0);t+=2,t+=6;const l=1===S;let a=o.WASI_ESUCCESS;const h=s.BigIntPolyfill(R(r));if(null===h)a=o.WASI_EINVAL;else{const t=l?I:h+I;_=t>_?t:_}this.view.setBigUint64(e,i,!0),e+=8,this.view.setUint16(e,a,!0),e+=2,this.view.setUint8(e,o.WASI_EVENTTYPE_CLOCK),e+=1,e+=5,n+=1;break}case o.WASI_EVENTTYPE_FD_READ:case o.WASI_EVENTTYPE_FD_WRITE:t+=3,this.view.getUint32(t,!0),t+=4,this.view.setBigUint64(e,i,!0),e+=8,this.view.setUint16(e,o.WASI_ENOSYS,!0),e+=2,this.view.setUint8(e,r),e+=1,e+=5,n+=1;break;default:return o.WASI_EINVAL}}for(this.view.setUint32(r,n,!0);f.hrtime()<_;);return o.WASI_ESUCCESS},proc_exit:t=>(f.exit(t),o.WASI_ESUCCESS),proc_raise:t=>t in o.SIGNAL_MAP?(f.kill(o.SIGNAL_MAP[t]),o.WASI_ESUCCESS):o.WASI_EINVAL,random_get:(t,e)=>(this.refreshMemory(),f.randomFillSync(new Uint8Array(this.memory.buffer),t,e),o.WASI_ESUCCESS),sched_yield:()=>o.WASI_ESUCCESS,sock_recv:()=>o.WASI_ENOSYS,sock_send:()=>o.WASI_ENOSYS,sock_shutdown:()=>o.WASI_ENOSYS},t.traceSyscalls&&Object.keys(this.wasiImport).forEach((t=>{const e=this.wasiImport[t];this.wasiImport[t]=function(...i){console.log(`WASI: wasiImport called: ${t} (${i})`);try{let t=e(...i);return console.log(`WASI:  => ${t}`),t}catch(t){throw console.log(`Catched error: ${t}`),t}}}))}refreshMemory(){this.view&&0!==this.view.buffer.byteLength||(this.view=new r.DataViewPolyfill(this.memory.buffer))}setMemory(t){this.memory=t}start(t){const e=t.exports;if(null===e||"object"!=typeof e)throw new Error(`instance.exports must be an Object. Received ${e}.`);const{memory:i}=e;if(!(i instanceof WebAssembly.Memory))throw new Error(`instance.exports.memory must be a WebAssembly.Memory. Recceived ${i}.`);this.setMemory(i),e._start&&e._start()}getImportNamespace(t){let e=null;for(let i of WebAssembly.Module.imports(t))if("function"===i.kind&&i.module.startsWith("wasi_"))if(e){if(e!==i.module)throw new Error("Multiple namespaces detected.")}else e=i.module;return e}getImports(t){switch(this.getImportNamespace(t)){case"wasi_unstable":return{wasi_unstable:this.wasiImport};case"wasi_snapshot_preview1":return{wasi_snapshot_preview1:this.wasiImport};default:throw new Error("Can't detect a WASI namespace for the WebAssembly Module")}}}e.default=d,d.defaultBindings=_,e.WASI=d},1624:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:{};e.BigIntPolyfill="undefined"!=typeof BigInt?BigInt:i.BigInt||Number},4627:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=Math.floor(.001*(Date.now()-performance.now()));e.default=function(t){let e=.001*performance.now(),s=Math.floor(e)+i,r=Math.floor(e%1*1e9);return t&&(s-=t[0],r-=t[1],r<0&&(s--,r+=1e9)),[s,r]}},6776:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=Buffer;e.default=i},6360:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});const s=i(1624);let r=DataView;r.prototype.setBigUint64||(r.prototype.setBigUint64=function(t,e,i){let s,r;if(e<2**32)s=Number(e),r=0;else{for(var n=e.toString(2),_="",o=0;o<64-n.length;o++)_+="0";_+=n,r=parseInt(_.substring(0,32),2),s=parseInt(_.substring(32),2)}this.setUint32(t+(i?0:4),s,i),this.setUint32(t+(i?4:0),r,i)},r.prototype.getBigUint64=function(t,e){let i=this.getUint32(t+(e?0:4),e),r=this.getUint32(t+(e?4:0),e);for(var n=i.toString(2),_=r.toString(2),o="",I=0;I<32-n.length;I++)o+="0";return o+=n,s.BigIntPolyfill("0b"+_+o)}),e.DataViewPolyfill=r},8134:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=t=>e=>{const i=t(e);return 1e9*i[0]+i[1]}},273:(t,e,i)=>{const s=i(9671),r=i(9258),n=i(5622);i(392);const _=(t,e)=>{if(!t)throw new Error(e)};e.Yn=class{constructor(){this.volume=new r.Volume,this.fs=s.createFsFromVolume(this.volume),this.fromJSON({"/dev/stdin":"","/dev/stdout":"","/dev/stderr":""})}_toJSON(t,e={},i){let s=!0;for(const r in t.children){s=!1;const _=t.getChild(r);if(_){const t=_.getNode();if(t&&t.isFile()){let s=_.getPath();i&&(s=n.relative(i,s)),e[s]=t.getBuffer()}else t&&t.isDirectory()&&this._toJSON(_,e,i)}}let r=t.getPath();return i&&(r=n.relative(i,r)),r&&s&&(e[r]=null),e}toJSON(t,e={},i=!1){const s=[];if(t){t instanceof Array||(t=[t]);for(const e of t){const t=r.pathToFilename(e),i=this.volume.getResolvedLink(t);i&&s.push(i)}}else s.push(this.volume.root);if(!s.length)return e;for(const t of s)this._toJSON(t,e,i?t.getPath():"");return e}fromJSONFixed(t,e){for(let i in e){const s=e[i];if(s?null===Object.getPrototypeOf(s):null===s)t.mkdirpBase(i,511);else{const e=r.filenameToSteps(i);if(e.length>1){const i="/"+e.slice(0,e.length-1).join("/");t.mkdirpBase(i,511)}t.writeFileSync(i,s||"")}}}fromJSON(t){this.volume=new r.Volume,this.fromJSONFixed(this.volume,t),this.fs=s.createFsFromVolume(this.volume),this.volume.releasedFds=[0,1,2];const e=this.volume.openSync("/dev/stderr","w"),i=this.volume.openSync("/dev/stdout","w"),n=this.volume.openSync("/dev/stdin","r");_(2===e,`invalid handle for stderr: ${e}`),_(1===i,`invalid handle for stdout: ${i}`),_(0===n,`invalid handle for stdin: ${n}`)}async getStdOut(){return new Promise((t=>{t(this.fs.readFileSync("/dev/stdout","utf8"))}))}}},392:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),i(2792).Node.prototype.emit=function(t,...e){const i=this.listeners(t);for(let t of i)try{t(...e)}catch(t){console.error(t)}return i.length>0}},4723:(t,e,i)=>{var s=i(5622),r=i.n(s),n=i(8614),_=i(2357),o=i.n(_),I=i(6551),S=i(4054),l=i(273);class a{constructor(t){this._data=t.data,this._wait=t.wait||new Int32Array(new h(8))}static from(t){return new a(t)}to(){return{data:this._data,wait:this._wait}}enqueue(t){let e=Atomics.load(this._wait,0),i=Atomics.load(this._wait,1);return e?e--:e=this._data.length,e!=i?(Atomics.store(this._data,i++,t),Atomics.store(this._wait,1,i),Atomics.notify(this._wait,1,1),1):0}enqueueAll(t){let e=Atomics.load(this._wait,0),i=Atomics.load(this._wait,1);var s;for(e?e--:e=this._data.length,s=0;e!=i&&s<t.length;s++)Atomics.store(this._data,i++,t[s]);return s>0&&(Atomics.store(this._wait,1,i),Atomics.notify(this._wait,1,1)),s}wait(){let t=Atomics.load(this._wait,0),e=Atomics.load(this._wait,1);for(;t==e;)Atomics.wait(this._wait,1,e),e=Atomics.load(this._wait,1)}dequeue(){this.wait();let t=Atomics.load(this._wait,0),e=Atomics.load(this._data,t++);return Atomics.store(this._wait,0,t),Atomics.notify(this._wait,0,1),e}dequeueSome(t,e,i){if(0==t)return 0;this.wait();let s=Atomics.load(this._wait,0),r=Atomics.load(this._wait,1);var n;for(n=0;s!=r&&i<t;n++)e[i++]=Atomics.load(this._data,s++),r>=this._data.length&&(r=0);return Atomics.store(this._wait,0,s),Atomics.notify(this._wait,0,1),n}isEmpty(){return Atomics.load(this._wait,0)==Atomics.load(this._wait,1)}}const h="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;class E extends n.EventEmitter{constructor(t={}){super(),this.queue=a.from(t.queue||{data:new Uint8Array(new A(1024))}),this.meta=t.meta||new Int32Array(new A(4)),t.meta||(this.length=-1),this.pos=0,this.blocking=!0}static from(t){return new E(t)}to(){return{queue:this.queue.to(),meta:this.meta}}get length(){return Atomics.load(this.meta,0)}set length(t){Atomics.store(this.meta,0,t)}read(t,e,i,s){if(i>t.length&&(i=t.length),this.queue.isEmpty()){if(e>0)return 0;if(!this.blocking)throw{errno:35,code:"EAGAIN"}}if(this.length>=0&&this.pos>=this.length)return 0;var r=this.queue.dequeueSome(i,t,e);return r>0&&(this.length>=0&&(r=Math.min(this.length-this.pos,r)),this.pos+=r,this.emit("data",t.slice(e,r))),r}write(t){let e=this.queue.enqueueAll(t);return this.pos+=e,e}end(){this.length=this.pos,this.queue.enqueue(0)}reset(){this.length=-1,this.pos=0,this.blocking=!0}}const A="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;class c extends n.EventEmitter{constructor(t){super(),this.core=t,this.fds=[],this.stdin_fl=0,this.termios={flags:[258,3,0,10],win:this.defaultWindow()},this.core.on("stream:out",(t=>{this.fds.includes(t.fd)&&this.emit("data",t.data)})),this.debug=()=>{}}to(){return{termios:{win:this.termios.win}}}makeTty(t){this.core.wasi.FD_MAP.get(t).filetype=2,this.core.wasi.FD_MAP.get(t).rights.base&=~BigInt(36)}write(t){this.core.stdin.write(t)}fd_fdstat_set_flags(t,e){return this.debug(`fdstat_set_flags(${t}, ${e})\n`),0===t&&(this.stdin_fl=e,this.core.stdin.blocking=!(4&e)),0}fd_fdstat_get(t,e){var i=this.core.wasi.wasiImport.fd_fdstat_get(t,e);return 0===t&&this.core.proc.mem.setUint16(e+2,this.stdin_fl,!0),i}defaultWindow(){var t=new Uint16Array(new SharedArrayBuffer(4));return t[0]=24,t[1]=80,t}get overrideImport(){return f(this,["fd_fdstat_get","fd_fdstat_set_flags"])}get import(){return f(this,["tcgetattr","tcsetattr","tgetent"])}get extlib(){return f(this,["tty_ioctl"])}tcgetattr(t,e){this.debug(`tcgetattr(${t}, ${e})`);let i=this.core.proc.mem;return this.termios.flags.forEach(((t,s)=>{i.setUint32(e+4*s,t,!0)})),i.setUint8(e+16+1+5,0),i.setUint8(e+16+1+6,1),0}tcsetattr(t,e,i){this.debug(`tcsetattr(${t}, ${e}, ${i})`);let s=this.core.proc.mem,r=u(4).map((t=>s.getUint32(i+4*t,!0))),n=u(32).map((t=>s.getUint8(i+16+1+t)));return this.debug(`  [${r.map((t=>"0"+t.toString(8))).join(", ")}] [${n}]`),this.termios.flags=r,this.core.stdin.blocking=n[6]>0,this.core.proc.emit("syscall",{func:"ioctl:tty",data:{fd:t,when:e,flags:r}}),0}tgetent(t,e){return this.debug(`tgetent(_, '${this.core.proc.userGetCString(e)}')`),1}tty_ioctl(t,e,i){if(console.warn("tty_ioctl",t,e,i),1==t){var s=this.core.proc.mem,r=this.termios.win;switch(e){case T.TIOCGWINSZ:for(let t=0;t<r.length;t++)s.setUint16(i+2*t,r[t],!0);break;case T.TIOCSWINSZ:var n=r.map(((t,e)=>s.getUint16(i+2*e)));this.core.proc.emit("syscall",{func:"ioctl:tty",data:{fd:t,request:e,win:n}})}}}}var T;function f(t,e){return e.reduce(((e,i)=>Object.assign(e,{[i]:t[i].bind(t)})),{})}function u(t){return[...Array(t).keys()]}!function(t){t[t.TCSETFL=1]="TCSETFL",t[t.TIOCGWINSZ=21523]="TIOCGWINSZ",t[t.TIOCSWINSZ=21524]="TIOCSWINSZ"}(T||(T={}));var d=i(7118);const g={debug:t=>{}};for(let t of["signal","raise","pipe","dup","dup2","dup3","execv","execl","execvp","execlp","getpwnam","getpwnam_r","getpwent","tcsetpgrp","kill","killpg","fork","realpath","getpid","getpgid","setpgid","getpgrp","setpgrp","issetugid","strsignal","wait4","waitpid","getuid","geteuid","getgid","getegid","getsid","setegid","seteuid","setgid","setuid","setsid","umask","getrlimit","setrlimit","getpriority","setpriority","sigfillset","sigprocmask","sigsetmask","siginterrupt","sigaltstack","sigwait","sigpending","getppid","tcgetpgrp","gethostname","tzset","flockfile","ftrylockfile","funlockfile","getpwuid","getpwuid_r","setpwent","endpwent","getgrgid","setreuid","setregid","strmode","acl_get_file","acl_free","acl_get_entry","fchdir","chown","fchown","lchown","fchownat","chmod","fchmod","fchmodat","lchmod","chflags","fchflags","lchflags","chroot","getgroups","utimes","futimes","lutimes","clock_gettime","clock_settime","alarm","system","mkfifo","mkstemp","mkstemps","mkostemp","mkostemps","tmpfile","settimeofday","bsd_signal","ttyname","ttyname_r","ctermid_r","socket","connect","popen","pclose","sync","nice","errx","vwarnx","posix_spawn","posix_spawnp","posix_spawnattr_init","posix_spawnattr_destroy","posix_spawnattr_setflags","posix_spawnattr_setsigmask","posix_spawn_file_actions_init","posix_spawn_file_actions_destroy","posix_spawn_file_actions_addopen","posix_spawn_file_actions_addclose","posix_spawn_file_actions_adddup2","pthread_mutex_init","pthread_mutex_lock","pthread_cond_timedwait","pthread_cond_signal","pthread_mutex_unlock","pthread_cond_destroy","pthread_mutex_destroy","pthread_cond_wait","pthread_cond_init","pthread_attr_init","pthread_attr_setstacksize","pthread_attr_destroy","pthread_create","pthread_detach","pthread_self","pthread_kill","pthread_exit","pthread_mutex_trylock","pthread_key_create","pthread_key_delete","pthread_setspecific","pthread_getspecific","pthread_sigmask","pthread_attr_getscope","pthread_attr_setscope","posix_spawnattr_setpgroup","posix_spawnattr_setsigdefault","tgetent","tgetflag","tgetnum","tgetstr","tgoto","tputs","cfgetospeed","cfgetispeed","cfsetospeed","cfsetispeed","tcsendbreak","tcdrain","tcflush","tcflow","tcgetsid","login","login_tty","logout","logwtmp","opendev","openpty","fparseln","forkpty","pidlock","ttylock","ttyunlock","ttyaction","ttymsg"])g[t]=function(){g.debug(`stub for ${t} [${[...arguments]}]`)};const W=g;var p=i(4293);const R={0:[0,97,115,109,1,0,0,0,1,5,1,96,0,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,6,1,4,0,16,0,11],1:[0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,8,1,6,0,32,0,16,0,11],2:[0,97,115,109,1,0,0,0,1,7,1,96,2,127,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,10,1,8,0,32,0,32,1,16,0,11],3:[0,97,115,109,1,0,0,0,1,8,1,96,3,127,127,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,12,1,10,0,32,0,32,1,32,2,16,0,11],4:[0,97,115,109,1,0,0,0,1,9,1,96,4,127,127,127,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,14,1,12,0,32,0,32,1,32,2,32,3,16,0,11],5:[0,97,115,109,1,0,0,0,1,10,1,96,5,127,127,127,127,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,16,1,14,0,32,0,32,1,32,2,32,3,32,4,16,0,11],6:[0,97,115,109,1,0,0,0,1,11,1,96,6,127,127,127,127,127,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,18,1,16,0,32,0,32,1,32,2,32,3,32,4,32,5,16,0,11],7:[0,97,115,109,1,0,0,0,1,12,1,96,7,127,127,127,127,127,127,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,20,1,18,0,32,0,32,1,32,2,32,3,32,4,32,5,32,6,16,0,11],8:[0,97,115,109,1,0,0,0,1,13,1,96,8,127,127,127,127,127,127,127,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,22,1,20,0,32,0,32,1,32,2,32,3,32,4,32,5,32,6,32,7,16,0,11],9:[0,97,115,109,1,0,0,0,1,14,1,96,9,127,127,127,127,127,127,127,127,127,1,127,2,16,1,3,101,110,118,8,100,101,108,101,103,97,116,101,0,0,3,2,1,0,7,8,1,4,103,108,117,101,0,1,10,24,1,22,0,32,0,32,1,32,2,32,3,32,4,32,5,32,6,32,7,32,8,16,0,11]};class m{constructor(t){this.core=t}preload(t,e,i){if(this.dylibTable||(this.dylibTable=new y.Table),!this.dylibTable.def.has(t))return this.core.fetchCompile(e).then((s=>{this.dylibTable.def.set(t,new y.Def(s,i,{path:t,uri:e}))}))}get import(){return v(this,["dlopen","dlsym","dlclose"])}get extlib(){return v(this,["dlerror_get"])}dlopen(t,e){var i=this.userGetCString(t).toString("utf-8");if(this.core.trace.syscalls(`dlopen("${i}", ${e})`),!this.dylibTable)return 0;var s=this.dylibTable.def.get(i);if(s){var r=s.instantiate(this.core),n=this.dylibTable.ref.size+1;return this.dylibTable.ref.set(n,{def:s,instance:r}),n}return 0}dlsym(t,e){var i,s,r=this.userGetCString(e).toString("utf-8");this.core.trace.syscalls(`dlsym(${t}, "${r}")`);var n=this.dylibTable.ref.get(t);if(n){var _=n.instance.exports[r];if(_&&_ instanceof Function)return this.allocateFunc(_);var o=null===(s=null===(i=n.def.reloc)||void 0===i?void 0:i.js)||void 0===s?void 0:s[r],I=o&&this.allocateDelegate(o);if(void 0!==I)return I}return 0}dlclose(t){}dlerror_get(t){return this.userCStringMalloc("not found\0",t)}allocateFunc(t){var e=this.core.proc.funcTable.grow(1);return this.core.proc.funcTable.set(e,t),e}allocateDelegate(t){var e=R[t.length];if(e){var i=new WebAssembly.Module(new Uint8Array(e)),s=new WebAssembly.Instance(i,{env:{delegate:t}});return this.allocateFunc(s.exports.glue)}console.warn(`cannot delegate function with ${t.length} arguments:`,t)}userGetCString(t){return this.core.proc.userGetCString(t)}userCStringMalloc(t,e){return this.core.proc.userCStringMalloc(t,e)}}var y;!function(t){t.Table=class{constructor(){this.def=new Map,this.ref=new Map}},t.Def=class{constructor(t,e={},i={}){this.stackSize=65536,this.memBlocks=10,this.tblSize=1024,this.module=t,this.reloc=e,this.metadata=i}instantiate(t){var e=t.wasi.memory.buffer.byteLength+this.stackSize,i=t.proc.funcTable.length;t.wasi.memory.grow(this.memBlocks),t.proc.funcTable.grow(this.tblSize);var s=this.globals(this.module,t.wasm.instance),r=new WebAssembly.Instance(this.module,{env:{memory:t.wasi.memory,table:t.proc.funcTable,__indirect_function_table:t.proc.funcTable,__memory_base:e,__table_base:i,__stack_pointer:this._mkglobal(e),stackSave:()=>e,stackRestore:()=>{},...this.relocTable(this.module,t.wasm.instance,t.proc.import),...this.emglobals(this.module,e,t.wasm.instance,(()=>r))},...s,wasik_ext:t.proc.extlib});this.globalsInit(r,e,s["GOT.mem"]||{});var n=r.exports.__post_instantiate;n instanceof Function&&n();var _=r.exports.__wasm_call_ctors;return _ instanceof Function&&_(),r}relocTable(t,e,i){var s,r=WebAssembly.Module.imports(t),n={};for(let t of r)if("env"==t.module&&"function"===t.kind){var _=(null===(s=this.reloc.js)||void 0===s?void 0:s[t.name])||e.exports[N[t.name]||t.name]||i[t.name];_ instanceof Function?n[t.name]=_:(console.warn("unresolved symbol:",t,"\nin",this.metadata),n[t.name]=()=>0)}return n}globals(t,e){var i,s,r=WebAssembly.Module.imports(t),n={};for(let t of r)if("global"===t.kind&&t.module.match(O)){var _=e.exports[t.name];null!==(i=n[s=t.module])&&void 0!==i||(n[s]={}),n[t.module][t.name]=this._mkglobal(_ instanceof WebAssembly.Global?_.value:void 0)}return n}globalsInit(t,e,i){for(let r in i){var s=t.exports[r];s instanceof WebAssembly.Global&&(i[r].value=e+s.value)}}emglobals(t,e,i,s){var r=WebAssembly.Module.imports(t),n=WebAssembly.Module.exports(t),_={};for(let t of r)if("function"===t.kind&&t.name.startsWith("g$")){let r,o=t.name.slice(2);(r=i.exports[o])?_[t.name]=()=>r:(r=n.find((t=>t.name==o)))&&(_[t.name]=()=>{return t=o,e+ +s().exports[t];var t})}return _}_mkglobal(t=3735928559){return new WebAssembly.Global({value:"i32",mutable:!0},t)}}}(y||(y={}));const O=/^GOT[.]/,N={fiprintf:"fprintf"};function v(t,e){return e.reduce(((e,i)=>Object.assign(e,{[i]:t[i].bind(t)})),{})}const C={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_DSYNC:4194304,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_COPYFILE_EXCL:1,COPYFILE_EXCL:1},w=new class{constructor(){this.constants=C}strmode(t){let e="";return e+={[C.S_IFDIR]:"d",[C.S_IFCHR]:"c",[C.S_IFBLK]:"b",[C.S_IFREG]:"-",[C.S_IFLNK]:"l",[C.S_IFSOCK]:"s",[C.S_IFIFO]:"p"}[t&C.S_IFMT]||"?",e+=t&C.S_IRUSR?"r":"-",e+=t&C.S_IWUSR?"w":"-",e+=t&C.S_IXUSR?"x":"-",e+=t&C.S_IRGRP?"r":"-",e+=t&C.S_IWGRP?"w":"-",e+=t&C.S_IXGRP?"x":"-",e+=t&C.S_IROTH?"r":"-",e+=t&C.S_IWOTH?"w":"-",e+=t&C.S_IXOTH?"x":"-",e}};var L,G;L="undefined"!=typeof TextEncoder?t=>(new TextEncoder).encode(t):t=>Buffer.from(t),G="undefined"!=typeof TextDecoder?t=>(new TextDecoder).decode(t):t=>Buffer.from(t).toString("utf-8");class b extends n.EventEmitter{constructor(t,e={}){super(),this.core=t,this.opts=e,this.sigvec=new P,this.sigvec.on("signal",(t=>this.emit("syscall",{func:"signal",data:t}))),this.childq=new a({data:new Uint32Array(new k(512))}),this.childset=new Set,this.dyld=new m(t),this.pending=[]}init(){const t=this.newfd()+1,e={real:t,rights:F,filetype:d.WASI_FILETYPE_DIRECTORY,path:".",fakePath:"."};this.core.wasi.FD_MAP.set(D,e),this.core.wasi.FD_MAP.set(t,e),this.core.wasmFs.fs.writeFileSync("/dev/null","")}get import(){return this.sigvec.debug=this.debug,this.funcTable||(this.funcTable=new WebAssembly.Table({initial:this.opts.funcTableSz||1024,element:"anyfunc"})),{...W,__indirect_function_table:this.funcTable,...Y(this,["geteuid","strmode","__control_setjmp","__control_setjmp_with_return","setjmp","longjmp","sigsetjmp","siglongjmp","vfork","__control_fork","wait","wait3","execve","sigkill","sigsuspend","sigaction","getpagesize","posix_spawn"]),...this.dyld.import}}get extlib(){return{...Y(this,["trace","sorry","dupfd","progname_get","login_get"]),...this.dyld.extlib}}get path(){return{...r(),resolve:(t,...e)=>("."==t&&(t=this.core.env.PWD),r().resolve(t||"/",...e))}}get mem(){return this.core.wasi.refreshMemory(),this.core.wasi.view}get membuf(){return p.Buffer.from(this.core.wasi.memory.buffer)}sorry(){for(var t;t=this.pending.pop();t());}getenv_all(){var t=this.core.wasm.instance.exports.wasik_environ;return"function"==typeof t?this.parse_env(t()):{}}parse_env(t){var e={};for(let i of this.userGetCStrings(t))this._parse_envvar(i,e);return e}_parse_envvar(t,e){try{var i=(new TextDecoder).decode(t),s=i.match(/^(.*?)=(.*)$/);s?e[s[1]]=s[2]:console.warn(`invalid envvar? '${i}'`)}catch(t){console.warn("parse_env",t)}}progname_get(t){var e=this.core.argv[0]+"\0";return this.userCStringMalloc(e,t)}login_get(t){return this.userCStringMalloc("user\0",t)}geteuid(){return 0}trace(t){var e=this.userGetCString(t);this.core.trace.user(e)}realpath(t,e){var i=this.userGetCString(t);if(0===e)throw"realpath(0): not implemented";let s=r().resolve(this.core.env.PWD,G(i))+"\0";if(s.length>H)throw{errno:1,code:"ERANGE"};return this.membuf.write(s,e),e}newfd(t=0){var e=Math.max(...this.core.wasi.FD_MAP.keys());return Math.max(t,e+1)}dupfd(t,e,i){this.core.trace.syscalls(`dupfd(${t}, ${e}, ${i}`);var s=this.core.wasi.FD_MAP.get(t);if(!s)return-1;var r=this.newfd(e);return this.core.wasi.FD_MAP.set(r,this.dupdesc(s)),r}dupdesc(t){var e=this.core.wasmFs.volume.openSync("/","r"),i=this.core.wasmFs.volume.fds;return i[e]=i[t.real],Object.assign({},t,{real:e})}strmode(t,e){let i=w.strmode(t)+"\0";this.membuf.write(i,e)}__control_setjmp(t,e){this.debug(`__control_setjmp [${t}, ${e}]`),this.mem.setUint32(t,0);let i=this.blockImpl(e),s=0;try{for(;;)try{return i(s)}catch(e){if(this.debug(`setjmp caught ${JSON.stringify(e)}`),!(e instanceof U&&e.env==t))throw e;s=e.val}}finally{this.debug("__control_setjmp exiting")}}__control_setjmp_with_return(t,e){return this.__control_setjmp(t,e)}setjmp(t){return console.warn("setjmp",t),0}longjmp(t,e){throw this.debug(`longjmp [${t}] ${e}`),new U(t,e)}sigsetjmp(t,e){return this.core.trace.syscalls(`sigsetjmp(${t}, ${e})`),0}siglongjmp(t,e){this.longjmp(t,e)}vfork(){this.core.trace.syscalls("vfork()");var t=Math.max(0,...this.childset)+1;return this.childset.add(t),this.onJoin=e=>{if(!(e instanceof B))throw e;{let i=e;this.emit("syscall",{func:"spawn",data:{pid:t,execv:i.copy(),env:this.getenv_all()}})}},t}__control_fork(t,e,i){let s=this.blockImpl(i);try{s(t),this.onJoin&&this.onJoin(null)}catch(t){this.onJoin&&this.onJoin(t)}this.onJoin=null,s(e)}execve(t,e,i){throw this.core.trace.syscalls(`execv(${t}, ${e}, ${i})`),new B(G(this.userGetCString(t)),this.userGetCStrings(e),this.userGetCStrings(i))}posix_spawn(t,e,i,s,r,n){var _=G(this.userGetCString(e));this.core.trace.syscalls(`posix_spawn(${t}, "${_}", ${i}, ${s}, ...})`);var o=new B(_,this.userGetCStrings(r),this.userGetCStrings(n)),I=Math.max(0,...this.childset)+1;return this.emit("syscall",{func:"spawn",data:{pid:I,execv:o,env:this.core.env}}),this.mem.setUint32(t,I,!0),0}wait(t){return this.core.trace.syscalls(`wait(${t})`),this.waitBase(t)}wait3(t,e,i){return this.core.trace.syscalls(`wait3(${t}, ${e}, ${i})`),this.waitBase(t)}waitBase(t){var e=this.childq.dequeue(),i=this.childq.dequeue();return this.debug(`  -> ${e}`),0!==t&&this.mem.setUint32(t,i<<8,!0),e}userGetCString(t){if(0==t)return null;let e=p.Buffer.from(this.core.wasi.memory.buffer);return e.slice(t,e.indexOf(0,t))}userGetCStrings(t){if(0==t)return null;let e=[];for(;;){let i=this.mem.getUint32(t,!0);if(0===i)break;e.push(this.userGetCString(i)),t+=4}return e}userCStringMalloc(t,e){return this.pending.push((()=>{let i=this.mem.getUint32(e,!0);this.membuf.write(t,i)})),t.length}blockImpl(t){let e=this.funcTable.get(this.mem.getUint32(t+12,!0));return(...i)=>e(t,...i)}sigkill(t){this.sigvec.send(t)}sigsuspend(){this.sigvec.receive()}sigaction(t,e,i){if(this.core.trace.syscalls(`sigaction(${t}, ${e}, ${i})`),0!=e){var s=this.mem.getUint32(e,!0),r=this.funcTable.get(s);this.core.trace.syscalls(" --\x3e",s,r),this.sigvec.handlers[t]=r}0!=i&&this.mem.setUint32(i,0)}getpagesize(){return 4096}}const D=-100,F={base:d.RIGHTS_ALL,inheriting:d.RIGHTS_ALL};class P extends n.EventEmitter{constructor(t={}){super(),this.wait=t.wait||new Int32Array(new k(4*M)),this.handlers=Array(M)}static from(t){return new P(t)}to(){return{wait:this.wait}}send(t){o()(0<t&&t<M),Atomics.add(this.wait,0,1),Atomics.add(this.wait,t,1),Atomics.notify(this.wait,0,1)}receive(t){return this._snapshot||(this._snapshot=new Int32Array(M)),Atomics.wait(this.wait,0,Atomics.load(this.wait,0)),this.sweep(t),-1}sweep(t){for(let e=1;e<M;e++)if(!t||t.includes(e)){let t=this.handlers[e];t&&this._snapshot[e]<this.wait[e]&&(this.debug("calling",t),t(e)),this._snapshot[e]=this.wait[e]}}}const H=256,M=20;class B{constructor(t,e,i){this.prog=t,this.argv=e,this.envp=i}copy(){var t=t=>t.map((t=>p.Buffer.from(t)));return new B(this.prog,t(this.argv),t(this.envp))}}class U{constructor(t,e){this.env=t,this.val=e}}const k="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function Y(t,e){return e.reduce(((e,i)=>Object.assign(e,{[i]:t[i].bind(t)})),{})}const x=global.process&&global.process.versions&&global.process.versions.node,K="object"==typeof window||"function"==typeof DedicatedWorkerGlobalScope;S.WASI.defaultBindings=K?i(3709).Z:i(3751).Z;class V extends n.EventEmitter{constructor(t={}){super(),this.debug=j,this.trace={user:j,syscalls:j},this.opts=t=Object.assign({},$,t),this.stdin=t.stdin?new E:null,this.wasmFs=new l.Yn,this.populateRootFs(),this.proc=new b(this,t.proc),this.tty=t.tty?new c(this):null,this.cached=!1!==t.cacheBins?new Map:null,this.init()}initTraces(){var t;this.opts.debug&&(this.debug=this._debugPrint(),this.trace.user=this._tracePrint()),(null===(t=this.opts.trace)||void 0===t?void 0:t.syscalls)&&(this.trace.syscalls=this._tracePrintAny()),this.tty&&(this.tty.debug=(...t)=>this.debug(...t)),this.proc.debug=(...t)=>this.debug(...t),W.debug=this.debug}init(){this.argv=["."],this.env=this.initialEnv(),this.wasi=new S.WASI({args:this.argv,env:this.env,bindings:{...S.WASI.defaultBindings,exit:t=>{throw new q(t)},fs:this.wasmFs.fs,path:this.proc.path},preopens:{"/":"/"},...this.extraWASIConfig()}),this.exited=!1,this.registerStdio(),this.proc.init();let t=this.opts.tty;if(t){var e="number"==typeof t?[t]:"boolean"==typeof t?[0,1,2]:t;this.tty.fds=e;for(let t of e)this.tty.makeTty(t)}}configure(t){Object.assign(this.opts,t)}reset(){this.stdin&&this.stdin.reset(),this.init()}async start(t,e,i){this.exited&&this.reset(),e&&this.argv.splice(0,1/0,...e),i&&Object.assign(this.env,i),this.proc.opts=this.opts.proc||{},this.initTraces();var s=await this.fetchCompile(t),r=await WebAssembly.instantiate(s,this.getImports(s));this.wasm={module:s,instance:r};try{return this.wasi.start(this.wasm.instance),0}catch(t){if(t instanceof q)return t.code;throw t}finally{this.exited=!0}}get fs(){return this.wasmFs.fs}async fetch(t){if("undefined"!=typeof fetch){const e=await fetch(t);return new Uint8Array(await e.arrayBuffer())}return(0,i(5747).readFileSync)(t)}async fetchCompile(t){return i=t,s=async t=>{var e=await this.fetch(t);return WebAssembly.compile(e)},(e=this.cached)?function(t,e,i){let s=t.get(e);return s||(s=i(e),t.set(e,s)),s}(e,i,s):s(i);var e,i,s}getImports(t){var e,i;return{...this.wasi.getImports(t),wasik_ext:{...this.proc.extlib,...null===(e=this.tty)||void 0===e?void 0:e.extlib},env:{...this.proc.import,...null===(i=this.tty)||void 0===i?void 0:i.import}}}share(){return{stdin:this.stdin.to(),tty:this.tty.to(),sigvec:this.proc.sigvec.to(),childq:this.proc.childq.to()}}emitWrite(t,e){return this.emit("stream:out",{fd:t,data:e}),e.length}initialEnv(){return this.opts.env?Object.assign({},this.opts.env):this.defaultEnv()}defaultEnv(){return{PATH:"/bin",PWD:"/home"}}extraWASIConfig(){let t=this.opts;return{traceSyscalls:t.trace&&t.trace.syscalls}}registerStdio(){var t=this.wasmFs.volume;if(!(t.fds[0]&&t.fds[1]&&t.fds[2])){t.releasedFds=[0,1,2];const e=t.openSync("/dev/stderr","w"),i=t.openSync("/dev/stdout","w"),s=t.openSync("/dev/stdin","r");o()(0==s&&1==i&&2==e)}this.stdin&&(t.fds[0].read=this.stdin.read.bind(this.stdin)),t.fds[1].write=t=>this.emitWrite(1,t),t.fds[2].write=t=>this.emitWrite(2,t)}mountFs(t){t.fromJSON(this.wasmFs.volume.toJSON()),this.wasmFs.volume=t,this.wasmFs.fs=(0,I.createFsFromVolume)(t),this.init()}populateRootFs(){this.wasmFs.fs.mkdirSync("/home"),this.wasmFs.fs.mkdirSync("/bin")}_debugPrint(){return global.process?(...t)=>this.emitWrite(2,L(t.join(" ")+"\n")):console.log}_tracePrint(){return global.process?t=>this.emitWrite(2,t):t=>console.warn("[trace]",G(t),t)}_tracePrintAny(){return global.process?(...t)=>this.emitWrite(2,L(t.toString())):(...t)=>console.warn("[trace]",...t)}}const $={stdin:!0},j=()=>{};class q{constructor(t){this.code=t}}var z,X=i(6898),Z=i(1172);class J extends I.Volume{constructor(t={}){let e;super({Node:class{constructor(t,i){return new tt(e,t,i)}},Link:et}),this.dev=Q.from(t.dev),e=this;var i=this.root.getNode();i.vol=this,i._link=this.root,this.debug=()=>{}}static from(t){return new J(t)}to(){return{dev:this.dev.to()}}writeBlob(t,e){var i=this.openSync(t,I.fs.constants.O_CREAT),s=this.fds[i].node,r=this.dev.allocBlob(e.length);r.set(e,0),s.setBlob(r),this.closeSync(i)}createLink(t,e,i,s){const r=super.createLink(t,e,i,s);return t&&this.debug("+ created link",t.ino,e,r.ino),r.push(),r}deleteLink(t){this.debug("deleted link",t.parent.ino,t.getName(),t.ino);var e=t.parent,i=super.deleteLink(t);return e.push(),i}createNode(t=!1,e){if(!this.dev)return super.createNode(t,e);const i=new this.props.Node(this.dev.alloc(),e);return t&&i.setIsDirectory(),this.inodes[i.ino]=i,i.push(),i}getNodeShared(t){return this.inodes[t]||this._fetchNode(t)}createSymlink(t,e){this.symlinkSync("",e);var i=this.getLink((0,X.filenameToSteps)(e)),s=t.split("/");return""==s[0]?s.splice(0,1):s.splice(0,0,"."),i.getNode().makeSymlink(s),i}getResolvedLink(t){let e="string"==typeof t?(0,X.filenameToSteps)(t):t,i=this.root;for(let t=0;t<e.length;){const s=e[t],r=i.getChild(s);if(!r)return null;const n=r.getNode();if(n.isSymlink()){if(e=n.symlink.concat(e.slice(t+1)),t=0,"."!==e[0]){i=this.root;continue}}else i=r;t++}return i}_fetchNode(t){var e=new this.props.Node(t);return this.inodes[t]=e,e}}class Q{constructor(t={}){this.raw=t.raw||new SharedArrayBuffer(t.size||1<<20),this.blockSize=t.blockSize||1024,this.blockCount=this.raw.byteLength/this.blockSize,this.bitset=t.bitset||new Uint8Array(new SharedArrayBuffer(this.blockCount)),this.cursors=t.cursors||new Uint32Array(new SharedArrayBuffer(12)),t.cursors||(this.blockCursor=2,this.boundaryCursor=2,this.blobCursor=this.raw.byteLength)}static from(t){return new Q(t)}to(){return{raw:this.raw,blockSize:this.blockSize,bitset:this.bitset,cursors:this.cursors}}get(t){var e=t*this.blockSize;return new Uint8Array(this.raw,e,this.blockSize)}isFree(t){return 0==Atomics.load(this.bitset,t)}get blockCursor(){return this.cursors[0]}set blockCursor(t){this.cursors[0]=t}get boundaryCursor(){return this.cursors[1]}set boundaryCursor(t){this.cursors[1]=t}get blobCursor(){return this.cursors[2]}set blobCursor(t){this.cursors[2]=t}alloc(){let t=this.blobCursor/this.blockSize;for(let e=this.blockCursor;e<t;e++)if(0==this.bitset[e]&&0==Atomics.compareExchange(this.bitset,e,0,1))return this.blockCursor=e,this.boundaryCursor=Math.max(this.boundaryCursor,e+1),e;throw new Error("no space left on device")}allocBlob(t){var e=this.blobCursor-t;if(e<this.boundaryCursor*this.blockSize)throw new Error("no space left on device");return this.blobCursor=e,this.getBlob(e,t)}getBlob(t,e){var i=new Uint8Array(this.raw,t,e);return Object.setPrototypeOf(i,Buffer.prototype),i}readText(t,e=0){var i=this.get(t);return i=i.slice(e,i.indexOf(0,e)),{buf:new TextDecoder("utf-8").decode(i),size:i.length+1}}read(t,e=0,i){var s=this.get(t).slice(e,i>=0?e+i:void 0);return{buf:s,size:s.length}}readInto(t,e,i,s,r){var n=this.get(t).subarray(e,e+i);return s.set(n,r),n.length}writeText(t,e,i=0){var s=Buffer.from(e+"\0","utf-8");if(s.length+i>this.blockSize)throw new Error(`inode text overflow (block=${t}, length=${s.length})`);return this.write(t,s,i)}write(t,e,i=0){return i+e.length>this.blockSize&&(e=e.subarray(0,this.blockSize-i)),this.get(t).set(e,i),e.length}}class tt extends Z.Node{constructor(t,e,i){super(e,i),this.vol=t,this.ver=0,this.isBlob=!1,this._link=null}setModeProperty(t){super.setModeProperty(t),this.ver++,this.push()}getLink(t,e){return this._link||(o()(t&&e),this._link=new et(this.vol,t,e),this._link.setNode(this)),this._link}setBlob(t){this.buf=t,this.isBlob=!0,this.touch()}touch(){super.touch(),this.ver++,this.push()}del(){super.del()}push(){if(this.vol&&this.vol.dev){var t=this.vol.dev.get(this.ino),e={p:this.perm,m:this.mode,v:this.ver},i=this.buf;0!=t[0]&&(e=Object.assign(this._read().header,e)),i&&(e.z=i.length),this.isBlob&&(e.blob=[i.byteOffset],i=void 0),this.symlink&&(e.symlink=this.symlink),this.vol.debug("+ push node",this.ino,e);var s=this._write(e,i);this._writeTrail(i,s)}}pull(){if(this.vol&&0!=this.vol.dev.get(this.ino)[0]){var{header:t,rdc:e}=this._read();if(this.vol.debug("- pull node",this.ino,t),this.perm=t.p,this.mode=t.m,this.symlink=t.symlink,this.symlink&&console.log("symlink",this.symlink),this.ver!=t.v&&(this.ver=t.v,t.z>=0))if(t.blob)this.buf=this.vol.dev.getBlob(t.blob[0],t.z),this.isBlob=!0;else{var i=Buffer.alloc(t.z),s=this.vol.dev.readInto(this.ino,e,t.z,i,0);t.n>0&&this._readTrail(i,s),this.buf=i,this.isBlob=!1}}}_read(){var{buf:t,size:e}=this.vol.dev.readText(this.ino);return{header:JSON.parse(t),rdc:e}}_write(t,e){var i=this._writeJson(t||{});if(e&&i+e.length>this.vol.dev.blockSize){var s=this._next(t).ino;i=this._writeJson(Object.assign({},t,{n:s}))}return e?this.vol.dev.write(this.ino,e,i):0}_writeJson(t){return this.vol.dev.writeText(this.ino,JSON.stringify(t))}_writeTrail(t,e){for(var i=this;t&&e<t.length;)t=t.subarray(e),e=(i=i._next())._write(null,t),o()(e>0)}_readTrail(t,e){for(var i=this;e<t.length;){i=i._next();var{header:s,rdc:r}=i._read();if(r=this.vol.dev.readInto(i.ino,r,t.length-e,t,e),o()(r>0),e+=r,!(s.n>=0))break}o()(e==t.length)}_next(t){return t||(t=this._read().header),t.n>=0?this.vol.getNodeShared(t.n):this.vol.createNode()}}class et extends Z.Link{constructor(t,e,i){return super(t,e,i),this.ver=0,this._dirty=!1,new Proxy(this,new z.LinkHandler)}createChild(t,e=this.vol.createNode()){this._dirty=!0;const i=new et(this.vol,this,t);return i.setNode(e),this.setChild(t,i),i}setChild(t,e){return this._dirty=!0,e=super.setChild(t,e),this.touch(),e}deleteChild(t){this._dirty=!0,super.deleteChild(t),this.touch()}touch(){this.vol.getNodeShared(this.ino).ver++,this.push()}setNode(t){super.setNode(t),t._link=this}getNode(){const t=this.node;return o()(t,"LinkSharedVolume.node is unset"),t.pull(),t}push(){if(this.vol.dev){var t={};for(let[e,i]of Object.entries(this.children))t[e]={ino:i.ino};var e=this.getNode(),i=JSON.stringify(t);this.vol.debug("+ push link",this.ino,i),e.buf=Buffer.from(i),e.ver++,e.push(),this.ver=e.ver,this._dirty=!1}}pull(){if(0!=this.vol.dev.get(this.ino)[0]){var t=this.getNode();if(t.pull(),t.isDirectory()&&t.buf&&t.ver!==this.ver){var e=JSON.parse(t.buf.toString("utf-8"));this.vol.debug("- pull link",this.ino,e);var i={};for(let[t,s]of Object.entries(e||{}))if("number"==typeof s.ino){let e=this.vol.getNodeShared(s.ino);i[t]=e.getLink(this,t)}this.children=i,this.ver=t.ver,this._dirty=!1}}}}let it,st,rt;if(function(t){t.LinkHandler=class{get(t,e){return"children"===e&&t.vol.dev&&!t._dirty&&t.pull(),t[e]}},t.LinkChildren=class{constructor(t){this.link=t}getOwnPropertyDescriptor(t,e){return this.link.pull(),t.hasOwnProperty(e)?{configurable:!0,enumerable:!0}:void 0}get(t,e){return this.link.pull(),t[e]}set(t,e,i){return t[e]=i,!0}}}(z||(z={})),K)it=self.Worker,st=self.postMessage,rt=t=>addEventListener("message",t);else if(x){const t=i(5013);class e{constructor(e){this.thread=new t.Worker(e)}addEventListener(t,e){this.thread.on(t,(t=>{e({data:t})}))}postMessage(t){this.thread.postMessage(t)}static onMessage(e){t.parentPort.on("message",(t=>{e({data:t})}))}static postMessage(e){t.parentPort.postMessage(e)}}it=e,rt=e.onMessage,st=e.postMessage}const nt=new V({tty:!0});st(nt.share()),nt.on("stream:out",(t=>st(t))),nt.tty.on("data",(t=>st({event:"tty:data",arg:t}))),nt.proc.on("syscall",(t=>st({event:"syscall",arg:t}))),rt((async t=>{if(t.data.upload)for(let e in t.data.upload)nt.wasmFs.fs.mkdirpSync(r().dirname(e)),nt.wasmFs.fs.writeFileSync(e,t.data.upload[e]);if(t.data.volume&&nt.mountFs(J.from(t.data.volume)),t.data.dyld)for(let e of t.data.dyld.preload||[])nt.proc.dyld.preload(e.name,e.uri,e.reloc);if(t.data.exec){let e=t.data.exec,i=t.data.opts&&t.data.opts.argv,s=t.data.opts&&t.data.opts.env;nt.configure(t.data.opts);try{let t=await nt.start(e,i,s);st({event:"exit",arg:{code:t}})}catch(t){st({event:"error",arg:t})}}})),self.core=nt},2357:t=>{t.exports=require("assert")},4293:t=>{t.exports=require("buffer")},6417:t=>{t.exports=require("crypto")},8614:t=>{t.exports=require("events")},5747:t=>{t.exports=require("fs")},5622:t=>{t.exports=require("path")},1765:t=>{t.exports=require("process")},2413:t=>{t.exports=require("stream")},3867:t=>{t.exports=require("tty")},8835:t=>{t.exports=require("url")},1669:t=>{t.exports=require("util")},5013:t=>{t.exports=require("worker_threads")}},r={};function n(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={exports:{}};return s[t].call(i.exports,i,i.exports,n),i.exports}n.m=s,n.x=()=>{var t=n.O(void 0,[510],(()=>n(4723)));return n.O(t)},t=[],n.O=(e,i,s,r)=>{if(!i){var _=1/0;for(l=0;l<t.length;l++){for(var[i,s,r]=t[l],o=!0,I=0;I<i.length;I++)(!1&r||_>=r)&&Object.keys(n.O).every((t=>n.O[t](i[I])))?i.splice(I--,1):(o=!1,r<_&&(_=r));if(o){t.splice(l--,1);var S=s();void 0!==S&&(e=S)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[i,s,r]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,i)=>(n.f[i](t,e),e)),[])),n.u=t=>t+".index.js",n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i={960:1},n.O.require=t=>i[t],n.f.require=(t,e)=>{i[t]||(t=>{var e=t.modules,s=t.ids,r=t.runtime;for(var _ in e)n.o(e,_)&&(n.m[_]=e[_]);r&&r(n);for(var o=0;o<s.length;o++)i[s[o]]=1;n.O()})(require("./"+n.u(t)))},e=n.x,n.x=()=>(n.e(510),e());var _=n.x();module.exports=_})();